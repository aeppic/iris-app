!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){},{}],2:[function(require,module,exports){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],3:[function(require,module,exports){(function(global){"use strict";function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=String(encoding).toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else foundIndex!==-1&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len,start<0&&(start=0)):start>len&&(start=len),end<0?(end+=len,end<0&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?(255-this[offset]+1)*-1:this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len;
},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:4,isarray:5}],4:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],5:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],6:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:7}],7:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],8:[function(require,module,exports){module.exports=function(acorn){switch(parseInt(acorn.version)){case 2:case 3:acorn.plugins.asyncawait=require("./acorn-v3");break;case 4:acorn.plugins.asyncawait=require("./acorn-v4");break;default:throw new Error("acorn-es7-plugin requires Acorn v2, 3 or 4")}return acorn}},{"./acorn-v3":9,"./acorn-v4":10}],9:[function(require,module,exports){function hasLineTerminatorBeforeNext(st,since){return st.lineStart>=since}function test(regex,st,noComment){var src=st.input.slice(st.start);return noComment&&(src=src.replace(removeComments,"$1 $3")),regex.test(src)}function subParse(parser,pos,extensions,parens){var p=new parser.constructor(parser.options,parser.input,pos);if(extensions)for(var k in extensions)p[k]=extensions[k];var src=parser,dest=p;return["inFunction","inAsyncFunction","inAsync","inGenerator","inModule"].forEach(function(k){k in src&&(dest[k]=src[k])}),parens&&(p.options.preserveParens=!0),p.nextToken(),p}function asyncAwaitPlugin(parser,options){var es7check=function(){};parser.extend("initialContext",function(base){return function(){return this.options.ecmaVersion<7&&(es7check=function(node){parser.raise(node.start,"async/await keywords only available when ecmaVersion>=7")}),this.reservedWords=new RegExp(this.reservedWords.toString().replace(/await|async/g,"").replace("|/","/").replace("/|","/").replace("||","|")),this.reservedWordsStrict=new RegExp(this.reservedWordsStrict.toString().replace(/await|async/g,"").replace("|/","/").replace("/|","/").replace("||","|")),this.reservedWordsStrictBind=new RegExp(this.reservedWordsStrictBind.toString().replace(/await|async/g,"").replace("|/","/").replace("/|","/").replace("||","|")),this.inAsyncFunction=options.inAsyncFunction,options.awaitAnywhere&&options.inAsyncFunction&&parser.raise(node.start,"The options awaitAnywhere and inAsyncFunction are mutually exclusive"),base.apply(this,arguments)}}),parser.extend("shouldParseExportStatement",function(base){return function(){return!("name"!==this.type.label||"async"!==this.value||!test(asyncFunction,this))||base.apply(this,arguments)}}),parser.extend("parseStatement",function(base){return function(declaration,topLevel){var start=this.start,startLoc=this.startLoc;if("name"===this.type.label)if(test(asyncFunction,this,!0)){var wasAsync=this.inAsyncFunction;try{this.inAsyncFunction=!0,this.next();var r=this.parseStatement(declaration,topLevel);return r.async=!0,r.start=start,r.loc&&(r.loc.start=startLoc),r.range&&(r.range[0]=start),r}finally{this.inAsyncFunction=wasAsync}}else if("object"==typeof options&&options.asyncExits&&test(asyncExit,this)){this.next();var r=this.parseStatement(declaration,topLevel);return r.async=!0,r.start=start,r.loc&&(r.loc.start=startLoc),r.range&&(r.range[0]=start),r}return base.apply(this,arguments)}}),parser.extend("parseIdent",function(base){return function(liberal){var id=base.apply(this,arguments);return this.inAsyncFunction&&"await"===id.name&&0===arguments.length&&this.raise(id.start,"'await' is reserved within async functions"),id}}),parser.extend("parseExprAtom",function(base){return function(refShorthandDefaultPos){var rhs,start=this.start,startLoc=this.startLoc,r=base.apply(this,arguments);if("Identifier"===r.type)if("async"!==r.name||hasLineTerminatorBeforeNext(this,r.end)){if("await"===r.name){var n=this.startNodeAt(r.start,r.loc&&r.loc.start);if(this.inAsyncFunction)return rhs=this.parseExprSubscripts(),n.operator="await",n.argument=rhs,n=this.finishNodeAt(n,"AwaitExpression",rhs.end,rhs.loc&&rhs.loc.end),es7check(n),n;if(this.input.slice(r.end).match(atomOrPropertyOrLabel))return options.awaitAnywhere||"module"!==this.options.sourceType?r:this.raise(r.start,"'await' is reserved within modules");if("object"==typeof options&&options.awaitAnywhere&&(start=this.start,rhs=subParse(this,start-4).parseExprSubscripts(),rhs.end<=start))return rhs=subParse(this,start).parseExprSubscripts(),n.operator="await",n.argument=rhs,n=this.finishNodeAt(n,"AwaitExpression",rhs.end,rhs.loc&&rhs.loc.end),this.pos=rhs.end,this.end=rhs.end,this.endLoc=rhs.endLoc,this.next(),es7check(n),n;if(!options.awaitAnywhere&&"module"===this.options.sourceType)return this.raise(r.start,"'await' is reserved within modules")}}else{var isAsync=this.inAsyncFunction;try{this.inAsyncFunction=!0;var pp=this,inBody=!1,parseHooks={parseFunctionBody:function(node,isArrowFunction){try{var wasInBody=inBody;return inBody=!0,pp.parseFunctionBody.apply(this,arguments)}finally{inBody=wasInBody}},raise:function(){try{return pp.raise.apply(this,arguments)}catch(ex){throw inBody?ex:NotAsync}}};if(rhs=subParse(this,this.start,parseHooks,!0).parseExpression(),"SequenceExpression"===rhs.type&&(rhs=rhs.expressions[0]),"FunctionExpression"===rhs.type||"FunctionDeclaration"===rhs.type||"ArrowFunctionExpression"===rhs.type)return rhs=subParse(this,this.start,parseHooks).parseExpression(),"SequenceExpression"===rhs.type&&(rhs=rhs.expressions[0]),rhs.async=!0,rhs.start=start,rhs.loc&&(rhs.loc.start=startLoc),rhs.range&&(rhs.range[0]=start),this.pos=rhs.end,this.end=rhs.end,this.endLoc=rhs.endLoc,this.next(),es7check(rhs),rhs}catch(ex){if(ex!==NotAsync)throw ex}finally{this.inAsyncFunction=isAsync}}return r}}),parser.extend("finishNodeAt",function(base){return function(node,type,pos,loc){return node.__asyncValue&&(delete node.__asyncValue,node.value.async=!0),base.apply(this,arguments)}}),parser.extend("finishNode",function(base){return function(node,type){return node.__asyncValue&&(delete node.__asyncValue,node.value.async=!0),base.apply(this,arguments)}});parser.extend("parsePropertyName",function(base){return function(prop){var key=(prop.key&&prop.key.name,base.apply(this,arguments));return"Identifier"!==key.type||"async"!==key.name||hasLineTerminatorBeforeNext(this,key.end)||this.input.slice(key.end).match(atomOrPropertyOrLabel)||(matchAsyncGet.test(this.input.slice(key.end))?(key=base.apply(this,arguments),prop.__asyncValue=!0):(es7check(prop),"set"===prop.kind&&this.raise(key.start,"'set <member>(value)' cannot be be async"),key=base.apply(this,arguments),"Identifier"===key.type&&"set"===key.name&&this.raise(key.start,"'set <member>(value)' cannot be be async"),prop.__asyncValue=!0)),key}}),parser.extend("parseClassMethod",function(base){return function(classBody,method,isGenerator){var wasAsync;method.__asyncValue&&("constructor"===method.kind&&this.raise(method.start,"class constructor() cannot be be async"),wasAsync=this.inAsyncFunction,this.inAsyncFunction=!0);var r=base.apply(this,arguments);return this.inAsyncFunction=wasAsync,r}}),parser.extend("parseMethod",function(base){return function(isGenerator){var wasAsync;this.__currentProperty&&this.__currentProperty.__asyncValue&&(wasAsync=this.inAsyncFunction,this.inAsyncFunction=!0);var r=base.apply(this,arguments);return this.inAsyncFunction=wasAsync,r}}),parser.extend("parsePropertyValue",function(base){return function(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors){var prevProp=this.__currentProperty;this.__currentProperty=prop;var wasAsync;prop.__asyncValue&&(wasAsync=this.inAsyncFunction,this.inAsyncFunction=!0);var r=base.apply(this,arguments);return this.inAsyncFunction=wasAsync,this.__currentProperty=prevProp,r}})}var NotAsync={},asyncExit=/^async[\t ]+(return|throw)/,asyncFunction=/^async[\t ]+function/,atomOrPropertyOrLabel=/^\s*[():;]/,removeComments=/([^\n])\/\*(\*(?!\/)|[^\n*])*\*\/([^\n])/g,matchAsyncGet=/\s*(get|set)\s*\(/;module.exports=asyncAwaitPlugin},{}],10:[function(require,module,exports){function hasLineTerminatorBeforeNext(st,since){return st.lineStart>=since}function test(regex,st,noComment){var src=st.input.slice(st.start);return noComment&&(src=src.replace(removeComments,"$1 $3")),regex.test(src)}function subParse(parser,pos,extensions){var p=new parser.constructor(parser.options,parser.input,pos);if(extensions)for(var k in extensions)p[k]=extensions[k];var src=parser,dest=p;return["inFunction","inAsync","inGenerator","inModule"].forEach(function(k){k in src&&(dest[k]=src[k])}),p.nextToken(),p}function asyncAwaitPlugin(parser,options){options&&"object"==typeof options||(options={}),parser.extend("parse",function(base){return function(){return this.inAsync=options.inAsyncFunction,options.awaitAnywhere&&options.inAsyncFunction&&parser.raise(node.start,"The options awaitAnywhere and inAsyncFunction are mutually exclusive"),base.apply(this,arguments)}}),parser.extend("parseStatement",function(base){return function(declaration,topLevel){var start=this.start,startLoc=this.startLoc;if("name"===this.type.label&&options.asyncExits&&test(asyncExit,this)){this.next();var r=this.parseStatement(declaration,topLevel);return r.async=!0,r.start=start,r.loc&&(r.loc.start=startLoc),r.range&&(r.range[0]=start),r}return base.apply(this,arguments)}}),parser.extend("parseIdent",function(base){return function(liberal){return"module"===this.options.sourceType&&this.options.ecmaVersion>=8&&options.awaitAnywhere?base.call(this,!0):base.apply(this,arguments)}}),parser.extend("parseExprAtom",function(base){var NotAsync={};return function(refShorthandDefaultPos){var rhs,start=this.start,r=(this.startLoc,base.apply(this,arguments));if("Identifier"===r.type&&"await"===r.name&&!this.inAsync&&options.awaitAnywhere){var n=this.startNodeAt(r.start,r.loc&&r.loc.start);start=this.start;var parseHooks={raise:function(){try{return pp.raise.apply(this,arguments)}catch(ex){throw NotAsync}}};try{if(rhs=subParse(this,start-4,parseHooks).parseExprSubscripts(),rhs.end<=start)return rhs=subParse(this,start,parseHooks).parseExprSubscripts(),n.argument=rhs,n=this.finishNodeAt(n,"AwaitExpression",rhs.end,rhs.loc&&rhs.loc.end),this.pos=rhs.end,this.end=rhs.end,this.endLoc=rhs.endLoc,this.next(),n}catch(ex){if(ex===NotAsync)return r;throw ex}}return r}});var allowedPropValues={undefined:!0,get:!0,set:!0,static:!0,async:!0,constructor:!0};parser.extend("parsePropertyName",function(base){return function(prop){var prevName=prop.key&&prop.key.name,key=base.apply(this,arguments);"get"===this.value&&(prop.__maybeStaticAsyncGetter=!0);return allowedPropValues[this.value]?key:("Identifier"!==key.type||"async"!==key.name&&"async"!==prevName||hasLineTerminatorBeforeNext(this,key.end)||this.input.slice(key.end).match(atomOrPropertyOrLabel)?delete prop.__maybeStaticAsyncGetter:"set"===prop.kind||"set"===key.name?this.raise(key.start,"'set <member>(value)' cannot be be async"):(this.__isAsyncProp=!0,key=base.apply(this,arguments),"Identifier"===key.type&&"set"===key.name&&this.raise(key.start,"'set <member>(value)' cannot be be async")),key)}}),parser.extend("parseClassMethod",function(base){return function(classBody,method,isGenerator){var r=base.apply(this,arguments);return method.__maybeStaticAsyncGetter&&(delete method.__maybeStaticAsyncGetter,"get"!==method.key.name&&(method.kind="get")),r}}),parser.extend("parseFunctionBody",function(base){return function(node,isArrowFunction){var wasAsync=this.inAsync;this.__isAsyncProp&&(node.async=!0,this.inAsync=!0,delete this.__isAsyncProp);var r=base.apply(this,arguments);return this.inAsync=wasAsync,r}})}var asyncExit=/^async[\t ]+(return|throw)/,atomOrPropertyOrLabel=/^\s*[):;]/,removeComments=/([^\n])\/\*(\*(?!\/)|[^\n*])*\*\/([^\n])/g;module.exports=asyncAwaitPlugin},{}],11:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.acorn=global.acorn||{})}(this,function(exports){"use strict";function isInAstralSet(code,set){for(var pos=65536,i=0;i<set.length;i+=2){if(pos+=set[i],pos>code)return!1;if(pos+=set[i+1],pos>=code)return!0}}function isIdentifierStart(code,astral){return code<65?36===code:code<91||(code<97?95===code:code<123||(code<=65535?code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code)):astral!==!1&&isInAstralSet(code,astralIdentifierStartCodes)))}function isIdentifierChar(code,astral){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||(code<=65535?code>=170&&nonASCIIidentifier.test(String.fromCharCode(code)):astral!==!1&&(isInAstralSet(code,astralIdentifierStartCodes)||isInAstralSet(code,astralIdentifierCodes)))))}function binop(name,prec){return new TokenType(name,{beforeExpr:!0,binop:prec})}function kw(name,options){return void 0===options&&(options={}),options.keyword=name,keywordTypes[name]=new TokenType(name,options)}function isNewLine(code){return 10===code||13===code||8232===code||8233==code}function isArray(obj){return"[object Array]"===Object.prototype.toString.call(obj)}function has(obj,propName){return Object.prototype.hasOwnProperty.call(obj,propName)}function getLineInfo(input,offset){for(var line=1,cur=0;;){lineBreakG.lastIndex=cur;var match=lineBreakG.exec(input);if(!(match&&match.index<offset))return new Position(line,offset-cur);++line,cur=match.index+match[0].length}}function getOptions(opts){var options={};for(var opt in defaultOptions)options[opt]=opts&&has(opts,opt)?opts[opt]:defaultOptions[opt];if(null==options.allowReserved&&(options.allowReserved=options.ecmaVersion<5),isArray(options.onToken)){var tokens=options.onToken;options.onToken=function(token){return tokens.push(token)}}return isArray(options.onComment)&&(options.onComment=pushComment(options,options.onComment)),options}function pushComment(options,array){return function(block,text,start,end,startLoc,endLoc){var comment={type:block?"Block":"Line",value:text,start:start,end:end};options.locations&&(comment.loc=new SourceLocation(this,startLoc,endLoc)),options.ranges&&(comment.range=[start,end]),array.push(comment)}}function keywordRegexp(words){return new RegExp("^("+words.replace(/ /g,"|")+")$")}function finishNodeAt(node,type,pos,loc){return node.type=type,node.end=pos,this.options.locations&&(node.loc.end=loc),this.options.ranges&&(node.range[1]=pos),node}function tryCreateRegexp(src,flags,throwErrorAt,parser){try{return new RegExp(src,flags)}catch(e){if(void 0!==throwErrorAt)throw e instanceof SyntaxError&&parser.raise(throwErrorAt,"Error parsing regular expression: "+e.message),e}}function codePointToString(code){return code<=65535?String.fromCharCode(code):(code-=65536,String.fromCharCode((code>>10)+55296,(1023&code)+56320))}function parse(input,options){return new Parser(options,input).parse()}function parseExpressionAt(input,pos,options){var p=new Parser(options,input,pos);return p.nextToken(),p.parseExpression()}function tokenizer(input,options){return new Parser(options,input)}var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",7:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords={5:ecma5AndLessKeywords,6:ecma5AndLessKeywords+" const class extends export import super"},nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239],TokenType=function(label,conf){void 0===conf&&(conf={}),this.label=label,this.keyword=conf.keyword,this.beforeExpr=!!conf.beforeExpr,this.startsExpr=!!conf.startsExpr,this.isLoop=!!conf.isLoop,this.isAssign=!!conf.isAssign,this.prefix=!!conf.prefix,this.postfix=!!conf.postfix,this.binop=conf.binop||null,this.updateContext=null},beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywordTypes={},tt={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=",6),relational:binop("</>",7),bitShift:binop("<</>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class"),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import"),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g"),nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Position=function(line,col){this.line=line,this.column=col};Position.prototype.offset=function(n){return new Position(this.line,this.column+n)};var SourceLocation=function(p,start,end){this.start=start,this.end=end,null!==p.sourceFile&&(this.source=p.sourceFile)},defaultOptions={ecmaVersion:6,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},plugins={},Parser=function(options,input,startPos){this.options=options=getOptions(options),this.sourceFile=options.sourceFile,this.keywords=keywordRegexp(keywords[options.ecmaVersion>=6?6:5]);var reserved=options.allowReserved?"":reservedWords[options.ecmaVersion]+("module"==options.sourceType?" await":"");this.reservedWords=keywordRegexp(reserved);var reservedStrict=(reserved?reserved+" ":"")+reservedWords.strict;this.reservedWordsStrict=keywordRegexp(reservedStrict),this.reservedWordsStrictBind=keywordRegexp(reservedStrict+" "+reservedWords.strictBind),this.input=String(input),this.containsEsc=!1,this.loadPlugins(options.plugins),startPos?(this.pos=startPos,this.lineStart=Math.max(0,this.input.lastIndexOf("\n",startPos)),this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=tt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule="module"===options.sourceType,this.potentialArrowAt=-1,this.inFunction=this.inGenerator=!1,this.labels=[],0===this.pos&&options.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)};Parser.prototype.isKeyword=function(word){return this.keywords.test(word)},Parser.prototype.isReservedWord=function(word){return this.reservedWords.test(word)},Parser.prototype.extend=function(name,f){this[name]=f(this[name])},Parser.prototype.loadPlugins=function(pluginConfigs){
var this$1=this;for(var name in pluginConfigs){var plugin=plugins[name];if(!plugin)throw new Error("Plugin '"+name+"' not found");plugin(this$1,pluginConfigs[name])}},Parser.prototype.parse=function(){var node=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(node)};var pp=Parser.prototype;pp.isUseStrict=function(stmt){return this.options.ecmaVersion>=5&&"ExpressionStatement"===stmt.type&&"Literal"===stmt.expression.type&&"use strict"===stmt.expression.raw.slice(1,-1)},pp.eat=function(type){return this.type===type&&(this.next(),!0)},pp.isContextual=function(name){return this.type===tt.name&&this.value===name},pp.eatContextual=function(name){return this.value===name&&this.eat(tt.name)},pp.expectContextual=function(name){this.eatContextual(name)||this.unexpected()},pp.canInsertSemicolon=function(){return this.type===tt.eof||this.type===tt.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pp.semicolon=function(){this.eat(tt.semi)||this.insertSemicolon()||this.unexpected()},pp.afterTrailingComma=function(tokType){if(this.type==tokType)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),this.next(),!0},pp.expect=function(type){this.eat(type)||this.unexpected()},pp.unexpected=function(pos){this.raise(null!=pos?pos:this.start,"Unexpected token")};var DestructuringErrors=function(){this.shorthandAssign=0,this.trailingComma=0};pp.checkPatternErrors=function(refDestructuringErrors,andThrow){var trailing=refDestructuringErrors&&refDestructuringErrors.trailingComma;return andThrow?void(trailing&&this.raise(trailing,"Comma is not permitted after the rest element")):!!trailing},pp.checkExpressionErrors=function(refDestructuringErrors,andThrow){var pos=refDestructuringErrors&&refDestructuringErrors.shorthandAssign;return andThrow?void(pos&&this.raise(pos,"Shorthand property assignments are valid only in destructuring patterns")):!!pos};var pp$1=Parser.prototype;pp$1.parseTopLevel=function(node){var this$1=this,first=!0;for(node.body||(node.body=[]);this.type!==tt.eof;){var stmt=this$1.parseStatement(!0,!0);node.body.push(stmt),first&&(this$1.isUseStrict(stmt)&&this$1.setStrict(!0),first=!1)}return this.next(),this.options.ecmaVersion>=6&&(node.sourceType=this.options.sourceType),this.finishNode(node,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$1.isLet=function(){if(this.type!==tt.name||this.options.ecmaVersion<6||"let"!=this.value)return!1;skipWhiteSpace.lastIndex=this.pos;var skip=skipWhiteSpace.exec(this.input),next=this.pos+skip[0].length,nextCh=this.input.charCodeAt(next);if(91===nextCh||123==nextCh)return!0;if(isIdentifierStart(nextCh,!0)){for(var pos=next+1;isIdentifierChar(this.input.charCodeAt(pos),!0);++pos);var ident=this.input.slice(next,pos);if(!this.isKeyword(ident))return!0}return!1},pp$1.parseStatement=function(declaration,topLevel){var kind,starttype=this.type,node=this.startNode();switch(this.isLet()&&(starttype=tt._var,kind="let"),starttype){case tt._break:case tt._continue:return this.parseBreakContinueStatement(node,starttype.keyword);case tt._debugger:return this.parseDebuggerStatement(node);case tt._do:return this.parseDoStatement(node);case tt._for:return this.parseForStatement(node);case tt._function:return!declaration&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(node);case tt._class:return declaration||this.unexpected(),this.parseClass(node,!0);case tt._if:return this.parseIfStatement(node);case tt._return:return this.parseReturnStatement(node);case tt._switch:return this.parseSwitchStatement(node);case tt._throw:return this.parseThrowStatement(node);case tt._try:return this.parseTryStatement(node);case tt._const:case tt._var:return kind=kind||this.value,declaration||"var"==kind||this.unexpected(),this.parseVarStatement(node,kind);case tt._while:return this.parseWhileStatement(node);case tt._with:return this.parseWithStatement(node);case tt.braceL:return this.parseBlock();case tt.semi:return this.parseEmptyStatement(node);case tt._export:case tt._import:return this.options.allowImportExportEverywhere||(topLevel||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),starttype===tt._import?this.parseImport(node):this.parseExport(node);default:var maybeName=this.value,expr=this.parseExpression();return starttype===tt.name&&"Identifier"===expr.type&&this.eat(tt.colon)?this.parseLabeledStatement(node,maybeName,expr):this.parseExpressionStatement(node,expr)}},pp$1.parseBreakContinueStatement=function(node,keyword){var this$1=this,isBreak="break"==keyword;this.next(),this.eat(tt.semi)||this.insertSemicolon()?node.label=null:this.type!==tt.name?this.unexpected():(node.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var lab=this$1.labels[i];if(null==node.label||lab.name===node.label.name){if(null!=lab.kind&&(isBreak||"loop"===lab.kind))break;if(node.label&&isBreak)break}}return i===this.labels.length&&this.raise(node.start,"Unsyntactic "+keyword),this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement")},pp$1.parseDebuggerStatement=function(node){return this.next(),this.semicolon(),this.finishNode(node,"DebuggerStatement")},pp$1.parseDoStatement=function(node){return this.next(),this.labels.push(loopLabel),node.body=this.parseStatement(!1),this.labels.pop(),this.expect(tt._while),node.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(tt.semi):this.semicolon(),this.finishNode(node,"DoWhileStatement")},pp$1.parseForStatement=function(node){if(this.next(),this.labels.push(loopLabel),this.expect(tt.parenL),this.type===tt.semi)return this.parseFor(node,null);var isLet=this.isLet();if(this.type===tt._var||this.type===tt._const||isLet){var init$1=this.startNode(),kind=isLet?"let":this.value;return this.next(),this.parseVar(init$1,!0,kind),this.finishNode(init$1,"VariableDeclaration"),!(this.type===tt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==init$1.declarations.length||"var"!==kind&&init$1.declarations[0].init?this.parseFor(node,init$1):this.parseForIn(node,init$1)}var refDestructuringErrors=new DestructuringErrors,init=this.parseExpression(!0,refDestructuringErrors);return this.type===tt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.checkPatternErrors(refDestructuringErrors,!0),this.toAssignable(init),this.checkLVal(init),this.parseForIn(node,init)):(this.checkExpressionErrors(refDestructuringErrors,!0),this.parseFor(node,init))},pp$1.parseFunctionStatement=function(node){return this.next(),this.parseFunction(node,!0)},pp$1.parseIfStatement=function(node){return this.next(),node.test=this.parseParenExpression(),node.consequent=this.parseStatement(!1),node.alternate=this.eat(tt._else)?this.parseStatement(!1):null,this.finishNode(node,"IfStatement")},pp$1.parseReturnStatement=function(node){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(tt.semi)||this.insertSemicolon()?node.argument=null:(node.argument=this.parseExpression(),this.semicolon()),this.finishNode(node,"ReturnStatement")},pp$1.parseSwitchStatement=function(node){var this$1=this;this.next(),node.discriminant=this.parseParenExpression(),node.cases=[],this.expect(tt.braceL),this.labels.push(switchLabel);for(var cur,sawDefault=!1;this.type!=tt.braceR;)if(this$1.type===tt._case||this$1.type===tt._default){var isCase=this$1.type===tt._case;cur&&this$1.finishNode(cur,"SwitchCase"),node.cases.push(cur=this$1.startNode()),cur.consequent=[],this$1.next(),isCase?cur.test=this$1.parseExpression():(sawDefault&&this$1.raiseRecoverable(this$1.lastTokStart,"Multiple default clauses"),sawDefault=!0,cur.test=null),this$1.expect(tt.colon)}else cur||this$1.unexpected(),cur.consequent.push(this$1.parseStatement(!0));return cur&&this.finishNode(cur,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(node,"SwitchStatement")},pp$1.parseThrowStatement=function(node){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),node.argument=this.parseExpression(),this.semicolon(),this.finishNode(node,"ThrowStatement")};var empty=[];pp$1.parseTryStatement=function(node){if(this.next(),node.block=this.parseBlock(),node.handler=null,this.type===tt._catch){var clause=this.startNode();this.next(),this.expect(tt.parenL),clause.param=this.parseBindingAtom(),this.checkLVal(clause.param,!0),this.expect(tt.parenR),clause.body=this.parseBlock(),node.handler=this.finishNode(clause,"CatchClause")}return node.finalizer=this.eat(tt._finally)?this.parseBlock():null,node.handler||node.finalizer||this.raise(node.start,"Missing catch or finally clause"),this.finishNode(node,"TryStatement")},pp$1.parseVarStatement=function(node,kind){return this.next(),this.parseVar(node,!1,kind),this.semicolon(),this.finishNode(node,"VariableDeclaration")},pp$1.parseWhileStatement=function(node){return this.next(),node.test=this.parseParenExpression(),this.labels.push(loopLabel),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,"WhileStatement")},pp$1.parseWithStatement=function(node){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),node.object=this.parseParenExpression(),node.body=this.parseStatement(!1),this.finishNode(node,"WithStatement")},pp$1.parseEmptyStatement=function(node){return this.next(),this.finishNode(node,"EmptyStatement")},pp$1.parseLabeledStatement=function(node,maybeName,expr){for(var this$1=this,i=0;i<this.labels.length;++i)this$1.labels[i].name===maybeName&&this$1.raise(expr.start,"Label '"+maybeName+"' is already declared");for(var kind=this.type.isLoop?"loop":this.type===tt._switch?"switch":null,i$1=this.labels.length-1;i$1>=0;i$1--){var label=this$1.labels[i$1];if(label.statementStart!=node.start)break;label.statementStart=this$1.start,label.kind=kind}return this.labels.push({name:maybeName,kind:kind,statementStart:this.start}),node.body=this.parseStatement(!0),this.labels.pop(),node.label=expr,this.finishNode(node,"LabeledStatement")},pp$1.parseExpressionStatement=function(node,expr){return node.expression=expr,this.semicolon(),this.finishNode(node,"ExpressionStatement")},pp$1.parseBlock=function(allowStrict){var oldStrict,this$1=this,node=this.startNode(),first=!0;for(node.body=[],this.expect(tt.braceL);!this.eat(tt.braceR);){var stmt=this$1.parseStatement(!0);node.body.push(stmt),first&&allowStrict&&this$1.isUseStrict(stmt)&&(oldStrict=this$1.strict,this$1.setStrict(this$1.strict=!0)),first=!1}return oldStrict===!1&&this.setStrict(!1),this.finishNode(node,"BlockStatement")},pp$1.parseFor=function(node,init){return node.init=init,this.expect(tt.semi),node.test=this.type===tt.semi?null:this.parseExpression(),this.expect(tt.semi),node.update=this.type===tt.parenR?null:this.parseExpression(),this.expect(tt.parenR),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,"ForStatement")},pp$1.parseForIn=function(node,init){var type=this.type===tt._in?"ForInStatement":"ForOfStatement";return this.next(),node.left=init,node.right=this.parseExpression(),this.expect(tt.parenR),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,type)},pp$1.parseVar=function(node,isFor,kind){var this$1=this;for(node.declarations=[],node.kind=kind;;){var decl=this$1.startNode();if(this$1.parseVarId(decl),this$1.eat(tt.eq)?decl.init=this$1.parseMaybeAssign(isFor):"const"!==kind||this$1.type===tt._in||this$1.options.ecmaVersion>=6&&this$1.isContextual("of")?"Identifier"==decl.id.type||isFor&&(this$1.type===tt._in||this$1.isContextual("of"))?decl.init=null:this$1.raise(this$1.lastTokEnd,"Complex binding patterns require an initialization value"):this$1.unexpected(),node.declarations.push(this$1.finishNode(decl,"VariableDeclarator")),!this$1.eat(tt.comma))break}return node},pp$1.parseVarId=function(decl){decl.id=this.parseBindingAtom(),this.checkLVal(decl.id,!0)},pp$1.parseFunction=function(node,isStatement,allowExpressionBody){this.initFunction(node),this.options.ecmaVersion>=6&&(node.generator=this.eat(tt.star));var oldInGen=this.inGenerator;return this.inGenerator=node.generator,(isStatement||this.type===tt.name)&&(node.id=this.parseIdent()),this.parseFunctionParams(node),this.parseFunctionBody(node,allowExpressionBody),this.inGenerator=oldInGen,this.finishNode(node,isStatement?"FunctionDeclaration":"FunctionExpression")},pp$1.parseFunctionParams=function(node){this.expect(tt.parenL),node.params=this.parseBindingList(tt.parenR,!1,!1,!0)},pp$1.parseClass=function(node,isStatement){var this$1=this;this.next(),this.parseClassId(node,isStatement),this.parseClassSuper(node);var classBody=this.startNode(),hadConstructor=!1;for(classBody.body=[],this.expect(tt.braceL);!this.eat(tt.braceR);)if(!this$1.eat(tt.semi)){var method=this$1.startNode(),isGenerator=this$1.eat(tt.star),isMaybeStatic=this$1.type===tt.name&&"static"===this$1.value;this$1.parsePropertyName(method),method.static=isMaybeStatic&&this$1.type!==tt.parenL,method.static&&(isGenerator&&this$1.unexpected(),isGenerator=this$1.eat(tt.star),this$1.parsePropertyName(method)),method.kind="method";var isGetSet=!1;if(!method.computed){var key=method.key;isGenerator||"Identifier"!==key.type||this$1.type===tt.parenL||"get"!==key.name&&"set"!==key.name||(isGetSet=!0,method.kind=key.name,key=this$1.parsePropertyName(method)),!method.static&&("Identifier"===key.type&&"constructor"===key.name||"Literal"===key.type&&"constructor"===key.value)&&(hadConstructor&&this$1.raise(key.start,"Duplicate constructor in the same class"),isGetSet&&this$1.raise(key.start,"Constructor can't have get/set modifier"),isGenerator&&this$1.raise(key.start,"Constructor can't be a generator"),method.kind="constructor",hadConstructor=!0)}if(this$1.parseClassMethod(classBody,method,isGenerator),isGetSet){var paramCount="get"===method.kind?0:1;if(method.value.params.length!==paramCount){var start=method.value.start;"get"===method.kind?this$1.raiseRecoverable(start,"getter should have no params"):this$1.raiseRecoverable(start,"setter should have exactly one param")}"set"===method.kind&&"RestElement"===method.value.params[0].type&&this$1.raise(method.value.params[0].start,"Setter cannot use rest params")}}return node.body=this.finishNode(classBody,"ClassBody"),this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")},pp$1.parseClassMethod=function(classBody,method,isGenerator){method.value=this.parseMethod(isGenerator),classBody.body.push(this.finishNode(method,"MethodDefinition"))},pp$1.parseClassId=function(node,isStatement){node.id=this.type===tt.name?this.parseIdent():isStatement?this.unexpected():null},pp$1.parseClassSuper=function(node){node.superClass=this.eat(tt._extends)?this.parseExprSubscripts():null},pp$1.parseExport=function(node){var this$1=this;if(this.next(),this.eat(tt.star))return this.expectContextual("from"),node.source=this.type===tt.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(node,"ExportAllDeclaration");if(this.eat(tt._default)){var parens=this.type==tt.parenL,expr=this.parseMaybeAssign(),needsSemi=!0;return parens||"FunctionExpression"!=expr.type&&"ClassExpression"!=expr.type||(needsSemi=!1,expr.id&&(expr.type="FunctionExpression"==expr.type?"FunctionDeclaration":"ClassDeclaration")),node.declaration=expr,needsSemi&&this.semicolon(),this.finishNode(node,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())node.declaration=this.parseStatement(!0),node.specifiers=[],node.source=null;else{if(node.declaration=null,node.specifiers=this.parseExportSpecifiers(),this.eatContextual("from"))node.source=this.type===tt.string?this.parseExprAtom():this.unexpected();else{for(var i=0;i<node.specifiers.length;i++)(this$1.keywords.test(node.specifiers[i].local.name)||this$1.reservedWords.test(node.specifiers[i].local.name))&&this$1.unexpected(node.specifiers[i].local.start);node.source=null}this.semicolon()}return this.finishNode(node,"ExportNamedDeclaration")},pp$1.shouldParseExportStatement=function(){return this.type.keyword||this.isLet()},pp$1.parseExportSpecifiers=function(){var this$1=this,nodes=[],first=!0;for(this.expect(tt.braceL);!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var node=this$1.startNode();node.local=this$1.parseIdent(this$1.type===tt._default),node.exported=this$1.eatContextual("as")?this$1.parseIdent(!0):node.local,nodes.push(this$1.finishNode(node,"ExportSpecifier"))}return nodes},pp$1.parseImport=function(node){return this.next(),this.type===tt.string?(node.specifiers=empty,node.source=this.parseExprAtom()):(node.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),node.source=this.type===tt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(node,"ImportDeclaration")},pp$1.parseImportSpecifiers=function(){var this$1=this,nodes=[],first=!0;if(this.type===tt.name){var node=this.startNode();if(node.local=this.parseIdent(),this.checkLVal(node.local,!0),nodes.push(this.finishNode(node,"ImportDefaultSpecifier")),!this.eat(tt.comma))return nodes}if(this.type===tt.star){var node$1=this.startNode();return this.next(),this.expectContextual("as"),node$1.local=this.parseIdent(),this.checkLVal(node$1.local,!0),nodes.push(this.finishNode(node$1,"ImportNamespaceSpecifier")),nodes}for(this.expect(tt.braceL);!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var node$2=this$1.startNode();node$2.imported=this$1.parseIdent(!0),this$1.eatContextual("as")?node$2.local=this$1.parseIdent():(node$2.local=node$2.imported,this$1.isKeyword(node$2.local.name)&&this$1.unexpected(node$2.local.start),this$1.reservedWordsStrict.test(node$2.local.name)&&this$1.raise(node$2.local.start,"The keyword '"+node$2.local.name+"' is reserved")),this$1.checkLVal(node$2.local,!0),nodes.push(this$1.finishNode(node$2,"ImportSpecifier"))}return nodes};var pp$2=Parser.prototype;pp$2.toAssignable=function(node,isBinding){var this$1=this;if(this.options.ecmaVersion>=6&&node)switch(node.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":node.type="ObjectPattern";for(var i=0;i<node.properties.length;i++){var prop=node.properties[i];"init"!==prop.kind&&this$1.raise(prop.key.start,"Object pattern can't contain getter or setter"),this$1.toAssignable(prop.value,isBinding)}break;case"ArrayExpression":node.type="ArrayPattern",this.toAssignableList(node.elements,isBinding);break;case"AssignmentExpression":if("="!==node.operator){this.raise(node.left.end,"Only '=' operator can be used for specifying default value.");break}node.type="AssignmentPattern",delete node.operator;case"AssignmentPattern":"YieldExpression"===node.right.type&&this.raise(node.right.start,"Yield expression cannot be a default value");break;case"ParenthesizedExpression":node.expression=this.toAssignable(node.expression,isBinding);break;case"MemberExpression":if(!isBinding)break;default:this.raise(node.start,"Assigning to rvalue")}return node},pp$2.toAssignableList=function(exprList,isBinding){var this$1=this,end=exprList.length;if(end){var last=exprList[end-1];if(last&&"RestElement"==last.type)--end;else if(last&&"SpreadElement"==last.type){last.type="RestElement";var arg=last.argument;this.toAssignable(arg,isBinding),"Identifier"!==arg.type&&"MemberExpression"!==arg.type&&"ArrayPattern"!==arg.type&&this.unexpected(arg.start),--end}isBinding&&last&&"RestElement"===last.type&&"Identifier"!==last.argument.type&&this.unexpected(last.argument.start)}for(var i=0;i<end;i++){var elt=exprList[i];elt&&this$1.toAssignable(elt,isBinding)}return exprList},pp$2.parseSpread=function(refDestructuringErrors){var node=this.startNode();return this.next(),node.argument=this.parseMaybeAssign(!1,refDestructuringErrors),this.finishNode(node,"SpreadElement")},pp$2.parseRest=function(allowNonIdent){var node=this.startNode();return this.next(),allowNonIdent?node.argument=this.type===tt.name?this.parseIdent():this.unexpected():node.argument=this.type===tt.name||this.type===tt.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(node,"RestElement")},pp$2.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case tt.name:return this.parseIdent();case tt.bracketL:var node=this.startNode();return this.next(),node.elements=this.parseBindingList(tt.bracketR,!0,!0),this.finishNode(node,"ArrayPattern");case tt.braceL:return this.parseObj(!0);default:this.unexpected()}},pp$2.parseBindingList=function(close,allowEmpty,allowTrailingComma,allowNonIdent){for(var this$1=this,elts=[],first=!0;!this.eat(close);)if(first?first=!1:this$1.expect(tt.comma),allowEmpty&&this$1.type===tt.comma)elts.push(null);else{if(allowTrailingComma&&this$1.afterTrailingComma(close))break;if(this$1.type===tt.ellipsis){var rest=this$1.parseRest(allowNonIdent);this$1.parseBindingListItem(rest),elts.push(rest),this$1.type===tt.comma&&this$1.raise(this$1.start,"Comma is not permitted after the rest element"),this$1.expect(close);break}var elem=this$1.parseMaybeDefault(this$1.start,this$1.startLoc);this$1.parseBindingListItem(elem),elts.push(elem)}return elts},pp$2.parseBindingListItem=function(param){return param},pp$2.parseMaybeDefault=function(startPos,startLoc,left){if(left=left||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(tt.eq))return left;var node=this.startNodeAt(startPos,startLoc);return node.left=left,node.right=this.parseMaybeAssign(),this.finishNode(node,"AssignmentPattern")},pp$2.checkLVal=function(expr,isBinding,checkClashes){var this$1=this;switch(expr.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(expr.name)&&this.raiseRecoverable(expr.start,(isBinding?"Binding ":"Assigning to ")+expr.name+" in strict mode"),checkClashes&&(has(checkClashes,expr.name)&&this.raiseRecoverable(expr.start,"Argument name clash"),checkClashes[expr.name]=!0);break;case"MemberExpression":isBinding&&this.raiseRecoverable(expr.start,(isBinding?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var i=0;i<expr.properties.length;i++)this$1.checkLVal(expr.properties[i].value,isBinding,checkClashes);break;case"ArrayPattern":for(var i$1=0;i$1<expr.elements.length;i$1++){var elem=expr.elements[i$1];elem&&this$1.checkLVal(elem,isBinding,checkClashes)}break;case"AssignmentPattern":this.checkLVal(expr.left,isBinding,checkClashes);break;case"RestElement":this.checkLVal(expr.argument,isBinding,checkClashes);break;case"ParenthesizedExpression":this.checkLVal(expr.expression,isBinding,checkClashes);break;default:this.raise(expr.start,(isBinding?"Binding":"Assigning to")+" rvalue")}};var pp$3=Parser.prototype;pp$3.checkPropClash=function(prop,propHash){if(!(this.options.ecmaVersion>=6&&(prop.computed||prop.method||prop.shorthand))){var name,key=prop.key;switch(key.type){case"Identifier":name=key.name;break;case"Literal":name=String(key.value);break;default:return}var kind=prop.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===name&&"init"===kind&&(propHash.proto&&this.raiseRecoverable(key.start,"Redefinition of __proto__ property"),propHash.proto=!0));name="$"+name;var other=propHash[name];if(other){var isGetSet="init"!==kind;(!this.strict&&!isGetSet||!other[kind])&&isGetSet^other.init||this.raiseRecoverable(key.start,"Redefinition of property")}else other=propHash[name]={init:!1,get:!1,set:!1};other[kind]=!0}},pp$3.parseExpression=function(noIn,refDestructuringErrors){var this$1=this,startPos=this.start,startLoc=this.startLoc,expr=this.parseMaybeAssign(noIn,refDestructuringErrors);if(this.type===tt.comma){var node=this.startNodeAt(startPos,startLoc);for(node.expressions=[expr];this.eat(tt.comma);)node.expressions.push(this$1.parseMaybeAssign(noIn,refDestructuringErrors));return this.finishNode(node,"SequenceExpression")}return expr},pp$3.parseMaybeAssign=function(noIn,refDestructuringErrors,afterLeftParse){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var ownDestructuringErrors=!1;refDestructuringErrors||(refDestructuringErrors=new DestructuringErrors,ownDestructuringErrors=!0);var startPos=this.start,startLoc=this.startLoc;this.type!=tt.parenL&&this.type!=tt.name||(this.potentialArrowAt=this.start);var left=this.parseMaybeConditional(noIn,refDestructuringErrors);if(afterLeftParse&&(left=afterLeftParse.call(this,left,startPos,startLoc)),this.type.isAssign){this.checkPatternErrors(refDestructuringErrors,!0),ownDestructuringErrors||DestructuringErrors.call(refDestructuringErrors);var node=this.startNodeAt(startPos,startLoc);return node.operator=this.value,node.left=this.type===tt.eq?this.toAssignable(left):left,refDestructuringErrors.shorthandAssign=0,this.checkLVal(left),this.next(),node.right=this.parseMaybeAssign(noIn),this.finishNode(node,"AssignmentExpression")}return ownDestructuringErrors&&this.checkExpressionErrors(refDestructuringErrors,!0),left},pp$3.parseMaybeConditional=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseExprOps(noIn,refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;if(this.eat(tt.question)){var node=this.startNodeAt(startPos,startLoc);return node.test=expr,node.consequent=this.parseMaybeAssign(),this.expect(tt.colon),node.alternate=this.parseMaybeAssign(noIn),this.finishNode(node,"ConditionalExpression")}return expr},pp$3.parseExprOps=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseMaybeUnary(refDestructuringErrors,!1);return this.checkExpressionErrors(refDestructuringErrors)?expr:this.parseExprOp(expr,startPos,startLoc,-1,noIn)},pp$3.parseExprOp=function(left,leftStartPos,leftStartLoc,minPrec,noIn){var prec=this.type.binop;if(null!=prec&&(!noIn||this.type!==tt._in)&&prec>minPrec){var logical=this.type===tt.logicalOR||this.type===tt.logicalAND,op=this.value;this.next();var startPos=this.start,startLoc=this.startLoc,right=this.parseExprOp(this.parseMaybeUnary(null,!1),startPos,startLoc,prec,noIn),node=this.buildBinary(leftStartPos,leftStartLoc,left,right,op,logical);return this.parseExprOp(node,leftStartPos,leftStartLoc,minPrec,noIn)}return left},pp$3.buildBinary=function(startPos,startLoc,left,right,op,logical){var node=this.startNodeAt(startPos,startLoc);return node.left=left,node.operator=op,node.right=right,this.finishNode(node,logical?"LogicalExpression":"BinaryExpression")},pp$3.parseMaybeUnary=function(refDestructuringErrors,sawUnary){var expr,this$1=this,startPos=this.start,startLoc=this.startLoc;if(this.type.prefix){var node=this.startNode(),update=this.type===tt.incDec;node.operator=this.value,node.prefix=!0,this.next(),node.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(refDestructuringErrors,!0),update?this.checkLVal(node.argument):this.strict&&"delete"===node.operator&&"Identifier"===node.argument.type?this.raiseRecoverable(node.start,"Deleting local variable in strict mode"):sawUnary=!0,expr=this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}else{if(expr=this.parseExprSubscripts(refDestructuringErrors),this.checkExpressionErrors(refDestructuringErrors))return expr;for(;this.type.postfix&&!this.canInsertSemicolon();){var node$1=this$1.startNodeAt(startPos,startLoc);node$1.operator=this$1.value,node$1.prefix=!1,node$1.argument=expr,this$1.checkLVal(expr),this$1.next(),expr=this$1.finishNode(node$1,"UpdateExpression")}}return!sawUnary&&this.eat(tt.starstar)?this.buildBinary(startPos,startLoc,expr,this.parseMaybeUnary(null,!1),"**",!1):expr},pp$3.parseExprSubscripts=function(refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseExprAtom(refDestructuringErrors),skipArrowSubscripts="ArrowFunctionExpression"===expr.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);return this.checkExpressionErrors(refDestructuringErrors)||skipArrowSubscripts?expr:this.parseSubscripts(expr,startPos,startLoc)},pp$3.parseSubscripts=function(base,startPos,startLoc,noCalls){for(var this$1=this;;)if(this$1.eat(tt.dot)){var node=this$1.startNodeAt(startPos,startLoc);node.object=base,node.property=this$1.parseIdent(!0),node.computed=!1,base=this$1.finishNode(node,"MemberExpression")}else if(this$1.eat(tt.bracketL)){var node$1=this$1.startNodeAt(startPos,startLoc);node$1.object=base,node$1.property=this$1.parseExpression(),node$1.computed=!0,this$1.expect(tt.bracketR),base=this$1.finishNode(node$1,"MemberExpression")}else if(!noCalls&&this$1.eat(tt.parenL)){var node$2=this$1.startNodeAt(startPos,startLoc);node$2.callee=base,node$2.arguments=this$1.parseExprList(tt.parenR,!1),base=this$1.finishNode(node$2,"CallExpression")}else{if(this$1.type!==tt.backQuote)return base;var node$3=this$1.startNodeAt(startPos,startLoc);node$3.tag=base,node$3.quasi=this$1.parseTemplate(),base=this$1.finishNode(node$3,"TaggedTemplateExpression")}},pp$3.parseExprAtom=function(refDestructuringErrors){var node,canBeArrow=this.potentialArrowAt==this.start;switch(this.type){case tt._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case tt._this:var type=this.type===tt._this?"ThisExpression":"Super";return node=this.startNode(),this.next(),this.finishNode(node,type);case tt.name:var startPos=this.start,startLoc=this.startLoc,id=this.parseIdent(this.type!==tt.name);return canBeArrow&&!this.canInsertSemicolon()&&this.eat(tt.arrow)?this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id]):id;case tt.regexp:var value=this.value;return node=this.parseLiteral(value.value),node.regex={pattern:value.pattern,flags:value.flags},node;case tt.num:case tt.string:return this.parseLiteral(this.value);case tt._null:case tt._true:case tt._false:return node=this.startNode(),node.value=this.type===tt._null?null:this.type===tt._true,node.raw=this.type.keyword,this.next(),this.finishNode(node,"Literal");case tt.parenL:return this.parseParenAndDistinguishExpression(canBeArrow);case tt.bracketL:return node=this.startNode(),this.next(),node.elements=this.parseExprList(tt.bracketR,!0,!0,refDestructuringErrors),this.finishNode(node,"ArrayExpression");case tt.braceL:return this.parseObj(!1,refDestructuringErrors);case tt._function:return node=this.startNode(),this.next(),this.parseFunction(node,!1);case tt._class:return this.parseClass(this.startNode(),!1);case tt._new:return this.parseNew();case tt.backQuote:return this.parseTemplate();default:this.unexpected()}},pp$3.parseLiteral=function(value){var node=this.startNode();return node.value=value,node.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(node,"Literal")},pp$3.parseParenExpression=function(){this.expect(tt.parenL);var val=this.parseExpression();return this.expect(tt.parenR),val},pp$3.parseParenAndDistinguishExpression=function(canBeArrow){var val,this$1=this,startPos=this.start,startLoc=this.startLoc;if(this.options.ecmaVersion>=6){this.next();for(var spreadStart,innerParenStart,innerStartPos=this.start,innerStartLoc=this.startLoc,exprList=[],first=!0,refDestructuringErrors=new DestructuringErrors;this.type!==tt.parenR;){if(first?first=!1:this$1.expect(tt.comma),this$1.type===tt.ellipsis){spreadStart=this$1.start,exprList.push(this$1.parseParenItem(this$1.parseRest()));break}this$1.type!==tt.parenL||innerParenStart||(innerParenStart=this$1.start),exprList.push(this$1.parseMaybeAssign(!1,refDestructuringErrors,this$1.parseParenItem))}var innerEndPos=this.start,innerEndLoc=this.startLoc;if(this.expect(tt.parenR),canBeArrow&&!this.canInsertSemicolon()&&this.eat(tt.arrow))return this.checkPatternErrors(refDestructuringErrors,!0),
innerParenStart&&this.unexpected(innerParenStart),this.parseParenArrowList(startPos,startLoc,exprList);exprList.length||this.unexpected(this.lastTokStart),spreadStart&&this.unexpected(spreadStart),this.checkExpressionErrors(refDestructuringErrors,!0),exprList.length>1?(val=this.startNodeAt(innerStartPos,innerStartLoc),val.expressions=exprList,this.finishNodeAt(val,"SequenceExpression",innerEndPos,innerEndLoc)):val=exprList[0]}else val=this.parseParenExpression();if(this.options.preserveParens){var par=this.startNodeAt(startPos,startLoc);return par.expression=val,this.finishNode(par,"ParenthesizedExpression")}return val},pp$3.parseParenItem=function(item){return item},pp$3.parseParenArrowList=function(startPos,startLoc,exprList){return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),exprList)};var empty$1=[];pp$3.parseNew=function(){var node=this.startNode(),meta=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(tt.dot))return node.meta=meta,node.property=this.parseIdent(!0),"target"!==node.property.name&&this.raiseRecoverable(node.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(node.start,"new.target can only be used in functions"),this.finishNode(node,"MetaProperty");var startPos=this.start,startLoc=this.startLoc;return node.callee=this.parseSubscripts(this.parseExprAtom(),startPos,startLoc,!0),this.eat(tt.parenL)?node.arguments=this.parseExprList(tt.parenR,!1):node.arguments=empty$1,this.finishNode(node,"NewExpression")},pp$3.parseTemplateElement=function(){var elem=this.startNode();return elem.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),elem.tail=this.type===tt.backQuote,this.finishNode(elem,"TemplateElement")},pp$3.parseTemplate=function(){var this$1=this,node=this.startNode();this.next(),node.expressions=[];var curElt=this.parseTemplateElement();for(node.quasis=[curElt];!curElt.tail;)this$1.expect(tt.dollarBraceL),node.expressions.push(this$1.parseExpression()),this$1.expect(tt.braceR),node.quasis.push(curElt=this$1.parseTemplateElement());return this.next(),this.finishNode(node,"TemplateLiteral")},pp$3.parseObj=function(isPattern,refDestructuringErrors){var this$1=this,node=this.startNode(),first=!0,propHash={};for(node.properties=[],this.next();!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var isGenerator,startPos,startLoc,prop=this$1.startNode();this$1.options.ecmaVersion>=6&&(prop.method=!1,prop.shorthand=!1,(isPattern||refDestructuringErrors)&&(startPos=this$1.start,startLoc=this$1.startLoc),isPattern||(isGenerator=this$1.eat(tt.star))),this$1.parsePropertyName(prop),this$1.parsePropertyValue(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors),this$1.checkPropClash(prop,propHash),node.properties.push(this$1.finishNode(prop,"Property"))}return this.finishNode(node,isPattern?"ObjectPattern":"ObjectExpression")},pp$3.parsePropertyValue=function(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors){if(this.eat(tt.colon))prop.value=isPattern?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,refDestructuringErrors),prop.kind="init";else if(this.options.ecmaVersion>=6&&this.type===tt.parenL)isPattern&&this.unexpected(),prop.kind="init",prop.method=!0,prop.value=this.parseMethod(isGenerator);else if(this.options.ecmaVersion>=5&&!prop.computed&&"Identifier"===prop.key.type&&("get"===prop.key.name||"set"===prop.key.name)&&this.type!=tt.comma&&this.type!=tt.braceR){(isGenerator||isPattern)&&this.unexpected(),prop.kind=prop.key.name,this.parsePropertyName(prop),prop.value=this.parseMethod(!1);var paramCount="get"===prop.kind?0:1;if(prop.value.params.length!==paramCount){var start=prop.value.start;"get"===prop.kind?this.raiseRecoverable(start,"getter should have no params"):this.raiseRecoverable(start,"setter should have exactly one param")}"set"===prop.kind&&"RestElement"===prop.value.params[0].type&&this.raiseRecoverable(prop.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!prop.computed&&"Identifier"===prop.key.type?((this.keywords.test(prop.key.name)||(this.strict?this.reservedWordsStrictBind:this.reservedWords).test(prop.key.name)||this.inGenerator&&"yield"==prop.key.name)&&this.raiseRecoverable(prop.key.start,"'"+prop.key.name+"' can not be used as shorthand property"),prop.kind="init",isPattern?prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key):this.type===tt.eq&&refDestructuringErrors?(refDestructuringErrors.shorthandAssign||(refDestructuringErrors.shorthandAssign=this.start),prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)):prop.value=prop.key,prop.shorthand=!0):this.unexpected()},pp$3.parsePropertyName=function(prop){if(this.options.ecmaVersion>=6){if(this.eat(tt.bracketL))return prop.computed=!0,prop.key=this.parseMaybeAssign(),this.expect(tt.bracketR),prop.key;prop.computed=!1}return prop.key=this.type===tt.num||this.type===tt.string?this.parseExprAtom():this.parseIdent(!0)},pp$3.initFunction=function(node){node.id=null,this.options.ecmaVersion>=6&&(node.generator=!1,node.expression=!1)},pp$3.parseMethod=function(isGenerator){var node=this.startNode(),oldInGen=this.inGenerator;return this.inGenerator=isGenerator,this.initFunction(node),this.expect(tt.parenL),node.params=this.parseBindingList(tt.parenR,!1,!1),this.options.ecmaVersion>=6&&(node.generator=isGenerator),this.parseFunctionBody(node,!1),this.inGenerator=oldInGen,this.finishNode(node,"FunctionExpression")},pp$3.parseArrowExpression=function(node,params){var oldInGen=this.inGenerator;return this.inGenerator=!1,this.initFunction(node),node.params=this.toAssignableList(params,!0),this.parseFunctionBody(node,!0),this.inGenerator=oldInGen,this.finishNode(node,"ArrowFunctionExpression")},pp$3.parseFunctionBody=function(node,isArrowFunction){var isExpression=isArrowFunction&&this.type!==tt.braceL;if(isExpression)node.body=this.parseMaybeAssign(),node.expression=!0;else{var oldInFunc=this.inFunction,oldLabels=this.labels;this.inFunction=!0,this.labels=[],node.body=this.parseBlock(!0),node.expression=!1,this.inFunction=oldInFunc,this.labels=oldLabels}var useStrict=!isExpression&&node.body.body.length&&this.isUseStrict(node.body.body[0])?node.body.body[0]:null;if(this.strict||useStrict){var oldStrict=this.strict;this.strict=!0,node.id&&this.checkLVal(node.id,!0),this.checkParams(node,useStrict),this.strict=oldStrict}else isArrowFunction&&this.checkParams(node,useStrict)},pp$3.checkParams=function(node,useStrict){for(var this$1=this,nameHash={},i=0;i<node.params.length;i++)useStrict&&this$1.options.ecmaVersion>=7&&"Identifier"!==node.params[i].type&&this$1.raiseRecoverable(useStrict.start,"Illegal 'use strict' directive in function with non-simple parameter list"),this$1.checkLVal(node.params[i],!0,nameHash)},pp$3.parseExprList=function(close,allowTrailingComma,allowEmpty,refDestructuringErrors){for(var this$1=this,elts=[],first=!0;!this.eat(close);){if(first)first=!1;else if(this$1.expect(tt.comma),allowTrailingComma&&this$1.afterTrailingComma(close))break;var elt;allowEmpty&&this$1.type===tt.comma?elt=null:this$1.type===tt.ellipsis?(elt=this$1.parseSpread(refDestructuringErrors),this$1.type===tt.comma&&refDestructuringErrors&&!refDestructuringErrors.trailingComma&&(refDestructuringErrors.trailingComma=this$1.lastTokStart)):elt=this$1.parseMaybeAssign(!1,refDestructuringErrors),elts.push(elt)}return elts},pp$3.parseIdent=function(liberal){var node=this.startNode();return liberal&&"never"==this.options.allowReserved&&(liberal=!1),this.type===tt.name?(!liberal&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||this.input.slice(this.start,this.end).indexOf("\\")==-1)&&this.raiseRecoverable(this.start,"The keyword '"+this.value+"' is reserved"),!liberal&&this.inGenerator&&"yield"===this.value&&this.raiseRecoverable(this.start,"Can not use 'yield' as identifier inside a generator"),node.name=this.value):liberal&&this.type.keyword?node.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(node,"Identifier")},pp$3.parseYield=function(){var node=this.startNode();return this.next(),this.type==tt.semi||this.canInsertSemicolon()||this.type!=tt.star&&!this.type.startsExpr?(node.delegate=!1,node.argument=null):(node.delegate=this.eat(tt.star),node.argument=this.parseMaybeAssign()),this.finishNode(node,"YieldExpression")};var pp$4=Parser.prototype;pp$4.raise=function(pos,message){var loc=getLineInfo(this.input,pos);message+=" ("+loc.line+":"+loc.column+")";var err=new SyntaxError(message);throw err.pos=pos,err.loc=loc,err.raisedAt=this.pos,err},pp$4.raiseRecoverable=pp$4.raise,pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var Node=function(parser,pos,loc){this.type="",this.start=pos,this.end=0,parser.options.locations&&(this.loc=new SourceLocation(parser,loc)),parser.options.directSourceFile&&(this.sourceFile=parser.options.directSourceFile),parser.options.ranges&&(this.range=[pos,0])},pp$5=Parser.prototype;pp$5.startNode=function(){return new Node(this,this.start,this.startLoc)},pp$5.startNodeAt=function(pos,loc){return new Node(this,pos,loc)},pp$5.finishNode=function(node,type){return finishNodeAt.call(this,node,type,this.lastTokEnd,this.lastTokEndLoc)},pp$5.finishNodeAt=function(node,type,pos,loc){return finishNodeAt.call(this,node,type,pos,loc)};var TokContext=function(token,isExpr,preserveSpace,override){this.token=token,this.isExpr=!!isExpr,this.preserveSpace=!!preserveSpace,this.override=override},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!0),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(p){return p.readTmplToken()}),f_expr:new TokContext("function",!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]},pp$6.braceIsBlock=function(prevType){if(prevType===tt.colon){var parent=this.curContext();if(parent===types.b_stat||parent===types.b_expr)return!parent.isExpr}return prevType===tt._return?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):prevType===tt._else||prevType===tt.semi||prevType===tt.eof||prevType===tt.parenR||(prevType==tt.braceL?this.curContext()===types.b_stat:!this.exprAllowed)},pp$6.updateContext=function(prevType){var update,type=this.type;type.keyword&&prevType==tt.dot?this.exprAllowed=!1:(update=type.updateContext)?update.call(this,prevType):this.exprAllowed=type.beforeExpr},tt.parenR.updateContext=tt.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var out=this.context.pop();out===types.b_stat&&this.curContext()===types.f_expr?(this.context.pop(),this.exprAllowed=!1):out===types.b_tmpl?this.exprAllowed=!0:this.exprAllowed=!out.isExpr},tt.braceL.updateContext=function(prevType){this.context.push(this.braceIsBlock(prevType)?types.b_stat:types.b_expr),this.exprAllowed=!0},tt.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0},tt.parenL.updateContext=function(prevType){var statementParens=prevType===tt._if||prevType===tt._for||prevType===tt._with||prevType===tt._while;this.context.push(statementParens?types.p_stat:types.p_expr),this.exprAllowed=!0},tt.incDec.updateContext=function(){},tt._function.updateContext=function(prevType){prevType.beforeExpr&&prevType!==tt.semi&&prevType!==tt._else&&(prevType!==tt.colon&&prevType!==tt.braceL||this.curContext()!==types.b_stat)&&this.context.push(types.f_expr),this.exprAllowed=!1},tt.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1};var Token=function(p){this.type=p.type,this.value=p.value,this.start=p.start,this.end=p.end,p.options.locations&&(this.loc=new SourceLocation(p,p.startLoc,p.endLoc)),p.options.ranges&&(this.range=[p.start,p.end])},pp$7=Parser.prototype,isRhino="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);pp$7.next=function(){this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},pp$7.getToken=function(){return this.next(),new Token(this)},"undefined"!=typeof Symbol&&(pp$7[Symbol.iterator]=function(){var self=this;return{next:function(){var token=self.getToken();return{done:token.type===tt.eof,value:token}}}}),pp$7.setStrict=function(strict){var this$1=this;if(this.strict=strict,this.type===tt.num||this.type===tt.string){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)this$1.lineStart=this$1.input.lastIndexOf("\n",this$1.lineStart-2)+1,--this$1.curLine;this.nextToken()}},pp$7.curContext=function(){return this.context[this.context.length-1]},pp$7.nextToken=function(){var curContext=this.curContext();return curContext&&curContext.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(tt.eof):curContext.override?curContext.override(this):void this.readToken(this.fullCharCodeAtPos())},pp$7.readToken=function(code){return isIdentifierStart(code,this.options.ecmaVersion>=6)||92===code?this.readWord():this.getTokenFromCode(code)},pp$7.fullCharCodeAtPos=function(){var code=this.input.charCodeAt(this.pos);if(code<=55295||code>=57344)return code;var next=this.input.charCodeAt(this.pos+1);return(code<<10)+next-56613888},pp$7.skipBlockComment=function(){var this$1=this,startLoc=this.options.onComment&&this.curPosition(),start=this.pos,end=this.input.indexOf("*/",this.pos+=2);if(end===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=end+2,this.options.locations){lineBreakG.lastIndex=start;for(var match;(match=lineBreakG.exec(this.input))&&match.index<this.pos;)++this$1.curLine,this$1.lineStart=match.index+match[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(start+2,end),start,this.pos,startLoc,this.curPosition())},pp$7.skipLineComment=function(startSkip){for(var this$1=this,start=this.pos,startLoc=this.options.onComment&&this.curPosition(),ch=this.input.charCodeAt(this.pos+=startSkip);this.pos<this.input.length&&10!==ch&&13!==ch&&8232!==ch&&8233!==ch;)++this$1.pos,ch=this$1.input.charCodeAt(this$1.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(start+startSkip,this.pos),start,this.pos,startLoc,this.curPosition())},pp$7.skipSpace=function(){var this$1=this;loop:for(;this.pos<this.input.length;){var ch=this$1.input.charCodeAt(this$1.pos);switch(ch){case 32:case 160:++this$1.pos;break;case 13:10===this$1.input.charCodeAt(this$1.pos+1)&&++this$1.pos;case 10:case 8232:case 8233:++this$1.pos,this$1.options.locations&&(++this$1.curLine,this$1.lineStart=this$1.pos);break;case 47:switch(this$1.input.charCodeAt(this$1.pos+1)){case 42:this$1.skipBlockComment();break;case 47:this$1.skipLineComment(2);break;default:break loop}break;default:if(!(ch>8&&ch<14||ch>=5760&&nonASCIIwhitespace.test(String.fromCharCode(ch))))break loop;++this$1.pos}}},pp$7.finishToken=function(type,val){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var prevType=this.type;this.type=type,this.value=val,this.updateContext(prevType)},pp$7.readToken_dot=function(){var next=this.input.charCodeAt(this.pos+1);if(next>=48&&next<=57)return this.readNumber(!0);var next2=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===next&&46===next2?(this.pos+=3,this.finishToken(tt.ellipsis)):(++this.pos,this.finishToken(tt.dot))},pp$7.readToken_slash=function(){var next=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===next?this.finishOp(tt.assign,2):this.finishOp(tt.slash,1)},pp$7.readToken_mult_modulo_exp=function(code){var next=this.input.charCodeAt(this.pos+1),size=1,tokentype=42===code?tt.star:tt.modulo;return this.options.ecmaVersion>=7&&42===next&&(++size,tokentype=tt.starstar,next=this.input.charCodeAt(this.pos+2)),61===next?this.finishOp(tt.assign,size+1):this.finishOp(tokentype,size)},pp$7.readToken_pipe_amp=function(code){var next=this.input.charCodeAt(this.pos+1);return next===code?this.finishOp(124===code?tt.logicalOR:tt.logicalAND,2):61===next?this.finishOp(tt.assign,2):this.finishOp(124===code?tt.bitwiseOR:tt.bitwiseAND,1)},pp$7.readToken_caret=function(){var next=this.input.charCodeAt(this.pos+1);return 61===next?this.finishOp(tt.assign,2):this.finishOp(tt.bitwiseXOR,1)},pp$7.readToken_plus_min=function(code){var next=this.input.charCodeAt(this.pos+1);return next===code?45==next&&62==this.input.charCodeAt(this.pos+2)&&lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(tt.incDec,2):61===next?this.finishOp(tt.assign,2):this.finishOp(tt.plusMin,1)},pp$7.readToken_lt_gt=function(code){var next=this.input.charCodeAt(this.pos+1),size=1;return next===code?(size=62===code&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+size)?this.finishOp(tt.assign,size+1):this.finishOp(tt.bitShift,size)):33==next&&60==code&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===next&&(size=2),this.finishOp(tt.relational,size))},pp$7.readToken_eq_excl=function(code){var next=this.input.charCodeAt(this.pos+1);return 61===next?this.finishOp(tt.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===code&&62===next&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(tt.arrow)):this.finishOp(61===code?tt.eq:tt.prefix,1)},pp$7.getTokenFromCode=function(code){switch(code){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(tt.parenL);case 41:return++this.pos,this.finishToken(tt.parenR);case 59:return++this.pos,this.finishToken(tt.semi);case 44:return++this.pos,this.finishToken(tt.comma);case 91:return++this.pos,this.finishToken(tt.bracketL);case 93:return++this.pos,this.finishToken(tt.bracketR);case 123:return++this.pos,this.finishToken(tt.braceL);case 125:return++this.pos,this.finishToken(tt.braceR);case 58:return++this.pos,this.finishToken(tt.colon);case 63:return++this.pos,this.finishToken(tt.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(tt.backQuote);case 48:var next=this.input.charCodeAt(this.pos+1);if(120===next||88===next)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===next||79===next)return this.readRadixNumber(8);if(98===next||66===next)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(code);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(code);case 124:case 38:return this.readToken_pipe_amp(code);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(code);case 60:case 62:return this.readToken_lt_gt(code);case 61:case 33:return this.readToken_eq_excl(code);case 126:return this.finishOp(tt.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString(code)+"'")},pp$7.finishOp=function(type,size){var str=this.input.slice(this.pos,this.pos+size);return this.pos+=size,this.finishToken(type,str)};var regexpUnicodeSupport=!!tryCreateRegexp("￿","u");pp$7.readRegexp=function(){for(var escaped,inClass,this$1=this,start=this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(start,"Unterminated regular expression");var ch=this$1.input.charAt(this$1.pos);if(lineBreak.test(ch)&&this$1.raise(start,"Unterminated regular expression"),escaped)escaped=!1;else{if("["===ch)inClass=!0;else if("]"===ch&&inClass)inClass=!1;else if("/"===ch&&!inClass)break;escaped="\\"===ch}++this$1.pos}var content=this.input.slice(start,this.pos);++this.pos;var mods=this.readWord1(),tmp=content,tmpFlags="";if(mods){var validFlags=/^[gim]*$/;this.options.ecmaVersion>=6&&(validFlags=/^[gimuy]*$/),validFlags.test(mods)||this.raise(start,"Invalid regular expression flag"),mods.indexOf("u")>=0&&(regexpUnicodeSupport?tmpFlags="u":(tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(_match,code,offset){return code=Number("0x"+code),code>1114111&&this$1.raise(start+offset+3,"Code point out of bounds"),"x"}),tmp=tmp.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"),tmpFlags=tmpFlags.replace("u","")))}var value=null;return isRhino||(tryCreateRegexp(tmp,tmpFlags,start,this),value=tryCreateRegexp(content,mods)),this.finishToken(tt.regexp,{pattern:content,flags:mods,value:value})},pp$7.readInt=function(radix,len){for(var this$1=this,start=this.pos,total=0,i=0,e=null==len?1/0:len;i<e;++i){var val,code=this$1.input.charCodeAt(this$1.pos);if(val=code>=97?code-97+10:code>=65?code-65+10:code>=48&&code<=57?code-48:1/0,val>=radix)break;++this$1.pos,total=total*radix+val}return this.pos===start||null!=len&&this.pos-start!==len?null:total},pp$7.readRadixNumber=function(radix){this.pos+=2;var val=this.readInt(radix);return null==val&&this.raise(this.start+2,"Expected number in radix "+radix),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(tt.num,val)},pp$7.readNumber=function(startsWithDot){var start=this.pos,isFloat=!1,octal=48===this.input.charCodeAt(this.pos);startsWithDot||null!==this.readInt(10)||this.raise(start,"Invalid number");var next=this.input.charCodeAt(this.pos);46===next&&(++this.pos,this.readInt(10),isFloat=!0,next=this.input.charCodeAt(this.pos)),69!==next&&101!==next||(next=this.input.charCodeAt(++this.pos),43!==next&&45!==next||++this.pos,null===this.readInt(10)&&this.raise(start,"Invalid number"),isFloat=!0),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var val,str=this.input.slice(start,this.pos);return isFloat?val=parseFloat(str):octal&&1!==str.length?/[89]/.test(str)||this.strict?this.raise(start,"Invalid number"):val=parseInt(str,8):val=parseInt(str,10),this.finishToken(tt.num,val)},pp$7.readCodePoint=function(){var code,ch=this.input.charCodeAt(this.pos);if(123===ch){this.options.ecmaVersion<6&&this.unexpected();var codePos=++this.pos;code=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,code>1114111&&this.raise(codePos,"Code point out of bounds")}else code=this.readHexChar(4);return code},pp$7.readString=function(quote){for(var this$1=this,out="",chunkStart=++this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(this$1.start,"Unterminated string constant");var ch=this$1.input.charCodeAt(this$1.pos);if(ch===quote)break;92===ch?(out+=this$1.input.slice(chunkStart,this$1.pos),out+=this$1.readEscapedChar(!1),chunkStart=this$1.pos):(isNewLine(ch)&&this$1.raise(this$1.start,"Unterminated string constant"),++this$1.pos)}return out+=this.input.slice(chunkStart,this.pos++),this.finishToken(tt.string,out)},pp$7.readTmplToken=function(){for(var this$1=this,out="",chunkStart=this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(this$1.start,"Unterminated template");var ch=this$1.input.charCodeAt(this$1.pos);if(96===ch||36===ch&&123===this$1.input.charCodeAt(this$1.pos+1))return this$1.pos===this$1.start&&this$1.type===tt.template?36===ch?(this$1.pos+=2,this$1.finishToken(tt.dollarBraceL)):(++this$1.pos,this$1.finishToken(tt.backQuote)):(out+=this$1.input.slice(chunkStart,this$1.pos),this$1.finishToken(tt.template,out));if(92===ch)out+=this$1.input.slice(chunkStart,this$1.pos),out+=this$1.readEscapedChar(!0),chunkStart=this$1.pos;else if(isNewLine(ch)){switch(out+=this$1.input.slice(chunkStart,this$1.pos),++this$1.pos,ch){case 13:10===this$1.input.charCodeAt(this$1.pos)&&++this$1.pos;case 10:out+="\n";break;default:out+=String.fromCharCode(ch)}this$1.options.locations&&(++this$1.curLine,this$1.lineStart=this$1.pos),chunkStart=this$1.pos}else++this$1.pos}},pp$7.readEscapedChar=function(inTemplate){var ch=this.input.charCodeAt(++this.pos);switch(++this.pos,ch){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(ch>=48&&ch<=55){var octalStr=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],octal=parseInt(octalStr,8);return octal>255&&(octalStr=octalStr.slice(0,-1),octal=parseInt(octalStr,8)),"0"!==octalStr&&(this.strict||inTemplate)&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=octalStr.length-1,String.fromCharCode(octal)}return String.fromCharCode(ch)}},pp$7.readHexChar=function(len){var codePos=this.pos,n=this.readInt(16,len);return null===n&&this.raise(codePos,"Bad character escape sequence"),n},pp$7.readWord1=function(){var this$1=this;this.containsEsc=!1;for(var word="",first=!0,chunkStart=this.pos,astral=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ch=this$1.fullCharCodeAtPos();if(isIdentifierChar(ch,astral))this$1.pos+=ch<=65535?1:2;else{if(92!==ch)break;this$1.containsEsc=!0,word+=this$1.input.slice(chunkStart,this$1.pos);var escStart=this$1.pos;117!=this$1.input.charCodeAt(++this$1.pos)&&this$1.raise(this$1.pos,"Expecting Unicode escape sequence \\uXXXX"),++this$1.pos;var esc=this$1.readCodePoint();(first?isIdentifierStart:isIdentifierChar)(esc,astral)||this$1.raise(escStart,"Invalid Unicode escape"),word+=codePointToString(esc),chunkStart=this$1.pos}first=!1}return word+this.input.slice(chunkStart,this.pos)},pp$7.readWord=function(){var word=this.readWord1(),type=tt.name;return(this.options.ecmaVersion>=6||!this.containsEsc)&&this.keywords.test(word)&&(type=keywordTypes[word]),this.finishToken(type,word)};var version="3.3.0";exports.version=version,exports.parse=parse,exports.parseExpressionAt=parseExpressionAt,exports.tokenizer=tokenizer,exports.Parser=Parser,exports.plugins=plugins,exports.defaultOptions=defaultOptions,exports.Position=Position,exports.SourceLocation=SourceLocation,exports.getLineInfo=getLineInfo,exports.Node=Node,exports.TokenType=TokenType,exports.tokTypes=tt,exports.TokContext=TokContext,exports.tokContexts=types,exports.isIdentifierChar=isIdentifierChar,exports.isIdentifierStart=isIdentifierStart,exports.Token=Token,exports.isNewLine=isNewLine,exports.lineBreak=lineBreak,exports.lineBreakG=lineBreakG,Object.defineProperty(exports,"__esModule",{value:!0})})},{}],12:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global.acorn=global.acorn||{},global.acorn.walk=global.acorn.walk||{}))}(this,function(exports){"use strict";function simple(node,visitors,base,state,override){base||(base=exports.base),function c(node,st,override){var type=override||node.type,found=visitors[type];base[type](node,st,c),found&&found(node,st)}(node,state,override)}function ancestor(node,visitors,base,state){base||(base=exports.base);var ancestors=[];!function c(node,st,override){var type=override||node.type,found=visitors[type],isNew=node!=ancestors[ancestors.length-1];isNew&&ancestors.push(node),base[type](node,st,c),found&&found(node,st||ancestors,ancestors),isNew&&ancestors.pop()}(node,state)}function recursive(node,state,funcs,base,override){var visitor=funcs?exports.make(funcs,base):base;!function c(node,st,override){visitor[override||node.type](node,st,c)}(node,state,override)}function makeTest(test){return"string"==typeof test?function(type){return type==test}:test?test:function(){return!0}}function findNodeAt(node,start,end,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){var type=override||node.type;if((null==start||node.start<=start)&&(null==end||node.end>=end)&&base[type](node,st,c),(null==start||node.start==start)&&(null==end||node.end==end)&&test(type,node))throw new Found(node,st)}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeAround(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){var type=override||node.type;if(!(node.start>pos||node.end<pos)&&(base[type](node,st,c),test(type,node)))throw new Found(node,st)}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeAfter(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){if(!(node.end<pos)){var type=override||node.type;if(node.start>=pos&&test(type,node))throw new Found(node,st);base[type](node,st,c)}}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeBefore(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);var max;return function c(node,st,override){if(!(node.start>pos)){var type=override||node.type;node.end<=pos&&(!max||max.node.end<node.end)&&test(type,node)&&(max=new Found(node,st)),base[type](node,st,c)}}(node,state),max}function make(funcs,base){base||(base=exports.base);var visitor=create(base);for(var type in funcs)visitor[type]=funcs[type];return visitor}function skipThrough(node,st,c){c(node,st)}function ignore(_node,_st,_c){}var Found=function(node,state){this.node=node,this.state=state},create=Object.create||function(proto){function Ctor(){}return Ctor.prototype=proto,new Ctor},base={};base.Program=base.BlockStatement=function(node,st,c){for(var i=0;i<node.body.length;++i)c(node.body[i],st,"Statement")},base.Statement=skipThrough,base.EmptyStatement=ignore,base.ExpressionStatement=base.ParenthesizedExpression=function(node,st,c){return c(node.expression,st,"Expression")},base.IfStatement=function(node,st,c){c(node.test,st,"Expression"),c(node.consequent,st,"Statement"),node.alternate&&c(node.alternate,st,"Statement")},base.LabeledStatement=function(node,st,c){return c(node.body,st,"Statement")},base.BreakStatement=base.ContinueStatement=ignore,base.WithStatement=function(node,st,c){c(node.object,st,"Expression"),c(node.body,st,"Statement")},base.SwitchStatement=function(node,st,c){c(node.discriminant,st,"Expression");for(var i=0;i<node.cases.length;++i){var cs=node.cases[i];cs.test&&c(cs.test,st,"Expression");for(var j=0;j<cs.consequent.length;++j)c(cs.consequent[j],st,"Statement")}},base.ReturnStatement=base.YieldExpression=function(node,st,c){node.argument&&c(node.argument,st,"Expression")},base.ThrowStatement=base.SpreadElement=function(node,st,c){return c(node.argument,st,"Expression")},base.TryStatement=function(node,st,c){c(node.block,st,"Statement"),node.handler&&c(node.handler,st),node.finalizer&&c(node.finalizer,st,"Statement")},base.CatchClause=function(node,st,c){c(node.param,st,"Pattern"),c(node.body,st,"ScopeBody")},base.WhileStatement=base.DoWhileStatement=function(node,st,c){c(node.test,st,"Expression"),c(node.body,st,"Statement")},base.ForStatement=function(node,st,c){node.init&&c(node.init,st,"ForInit"),node.test&&c(node.test,st,"Expression"),node.update&&c(node.update,st,"Expression"),c(node.body,st,"Statement")},base.ForInStatement=base.ForOfStatement=function(node,st,c){c(node.left,st,"ForInit"),c(node.right,st,"Expression"),c(node.body,st,"Statement")},base.ForInit=function(node,st,c){"VariableDeclaration"==node.type?c(node,st):c(node,st,"Expression")},base.DebuggerStatement=ignore,base.FunctionDeclaration=function(node,st,c){return c(node,st,"Function")},base.VariableDeclaration=function(node,st,c){for(var i=0;i<node.declarations.length;++i)c(node.declarations[i],st)},base.VariableDeclarator=function(node,st,c){c(node.id,st,"Pattern"),node.init&&c(node.init,st,"Expression")},base.Function=function(node,st,c){
node.id&&c(node.id,st,"Pattern");for(var i=0;i<node.params.length;i++)c(node.params[i],st,"Pattern");c(node.body,st,node.expression?"ScopeExpression":"ScopeBody")},base.ScopeBody=function(node,st,c){return c(node,st,"Statement")},base.ScopeExpression=function(node,st,c){return c(node,st,"Expression")},base.Pattern=function(node,st,c){"Identifier"==node.type?c(node,st,"VariablePattern"):"MemberExpression"==node.type?c(node,st,"MemberPattern"):c(node,st)},base.VariablePattern=ignore,base.MemberPattern=skipThrough,base.RestElement=function(node,st,c){return c(node.argument,st,"Pattern")},base.ArrayPattern=function(node,st,c){for(var i=0;i<node.elements.length;++i){var elt=node.elements[i];elt&&c(elt,st,"Pattern")}},base.ObjectPattern=function(node,st,c){for(var i=0;i<node.properties.length;++i)c(node.properties[i].value,st,"Pattern")},base.Expression=skipThrough,base.ThisExpression=base.Super=base.MetaProperty=ignore,base.ArrayExpression=function(node,st,c){for(var i=0;i<node.elements.length;++i){var elt=node.elements[i];elt&&c(elt,st,"Expression")}},base.ObjectExpression=function(node,st,c){for(var i=0;i<node.properties.length;++i)c(node.properties[i],st)},base.FunctionExpression=base.ArrowFunctionExpression=base.FunctionDeclaration,base.SequenceExpression=base.TemplateLiteral=function(node,st,c){for(var i=0;i<node.expressions.length;++i)c(node.expressions[i],st,"Expression")},base.UnaryExpression=base.UpdateExpression=function(node,st,c){c(node.argument,st,"Expression")},base.BinaryExpression=base.LogicalExpression=function(node,st,c){c(node.left,st,"Expression"),c(node.right,st,"Expression")},base.AssignmentExpression=base.AssignmentPattern=function(node,st,c){c(node.left,st,"Pattern"),c(node.right,st,"Expression")},base.ConditionalExpression=function(node,st,c){c(node.test,st,"Expression"),c(node.consequent,st,"Expression"),c(node.alternate,st,"Expression")},base.NewExpression=base.CallExpression=function(node,st,c){if(c(node.callee,st,"Expression"),node.arguments)for(var i=0;i<node.arguments.length;++i)c(node.arguments[i],st,"Expression")},base.MemberExpression=function(node,st,c){c(node.object,st,"Expression"),node.computed&&c(node.property,st,"Expression")},base.ExportNamedDeclaration=base.ExportDefaultDeclaration=function(node,st,c){node.declaration&&c(node.declaration,st,"ExportNamedDeclaration"==node.type||node.declaration.id?"Statement":"Expression"),node.source&&c(node.source,st,"Expression")},base.ExportAllDeclaration=function(node,st,c){c(node.source,st,"Expression")},base.ImportDeclaration=function(node,st,c){for(var i=0;i<node.specifiers.length;i++)c(node.specifiers[i],st);c(node.source,st,"Expression")},base.ImportSpecifier=base.ImportDefaultSpecifier=base.ImportNamespaceSpecifier=base.Identifier=base.Literal=ignore,base.TaggedTemplateExpression=function(node,st,c){c(node.tag,st,"Expression"),c(node.quasi,st)},base.ClassDeclaration=base.ClassExpression=function(node,st,c){return c(node,st,"Class")},base.Class=function(node,st,c){node.id&&c(node.id,st,"Pattern"),node.superClass&&c(node.superClass,st,"Expression");for(var i=0;i<node.body.body.length;i++)c(node.body.body[i],st)},base.MethodDefinition=base.Property=function(node,st,c){node.computed&&c(node.key,st,"Expression"),c(node.value,st,"Expression")},exports.simple=simple,exports.ancestor=ancestor,exports.recursive=recursive,exports.findNodeAt=findNodeAt,exports.findNodeAround=findNodeAround,exports.findNodeAfter=findNodeAfter,exports.findNodeBefore=findNodeBefore,exports.make=make,exports.base=base,Object.defineProperty(exports,"__esModule",{value:!0})})},{}],13:[function(require,module,exports){"use strict";function processIncludes(includes,input){for(var src=input.toString(),t="return "+src,args=src.match(/.*\(([^)]*)\)/)[1],re=/['"]!!!([^'"]*)['"]/g,m=[];;){var mx=re.exec(t);if(!mx)break;m.push(mx)}return m.reverse().forEach(function(e){t=t.slice(0,e.index)+includes[e[1]]+t.substr(e.index+e[0].length)}),t=t.replace(/\/\*[^*]*\*\//g," ").replace(/\s+/g," "),new Function(args,t)()}function $asyncspawn(promiseProvider,self){if(Function.prototype.$asyncspawn||Object.defineProperty(Function.prototype,"$asyncspawn",{value:$asyncspawn,enumerable:!1,configurable:!0,writable:!0}),this instanceof Function){var genF=this;return new promiseProvider(function(resolve,reject){function step(fn,arg){var next;try{if(next=fn.call(gen,arg),next.done){if(next.value!==resolve){if(next.value&&next.value===next.value.then)return next.value(resolve,reject);resolve&&resolve(next.value),resolve=null}return}next.value.then?next.value.then(function(v){step(gen.next,v)},function(e){step(gen.throw,e)}):step(gen.next,next.value)}catch(e){return reject&&reject(e),void(reject=null)}}var gen=genF.call(self,resolve,reject);step(gen.next)})}}var $asyncbind=processIncludes({zousan:require("./zousan").toString(),thenable:require("./thenableFactory").toString()},function $asyncbind(self,catcher){function boundThen(){return resolver.apply(self,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:$asyncbind,enumerable:!1,configurable:!0,writable:!0}),$asyncbind.trampoline||($asyncbind.trampoline=function(t,x,s,e,u){return function b(q){for(;q;){if(q.then)return q=q.then(b,e),u?void 0:q;try{if(q.pop){if(q.length)return q.pop()?x.call(t):q;q=s}else q=q.call(t)}catch(r){return e(r)}}}}),$asyncbind.LazyThenable||($asyncbind.LazyThenable="!!!thenable"(),$asyncbind.EagerThenable=$asyncbind.Thenable=($asyncbind.EagerThenableFactory="!!!zousan")());var resolver=this;switch(catcher){case!0:return new $asyncbind.Thenable(boundThen);case 0:return new $asyncbind.LazyThenable(boundThen);case void 0:return boundThen.then=boundThen,boundThen;default:return function(){try{return resolver.apply(self,arguments)}catch(ex){return catcher(ex)}}}});$asyncbind(),$asyncspawn(),module.exports={$asyncbind:$asyncbind,$asyncspawn:$asyncspawn}},{"./thenableFactory":14,"./zousan":15}],14:[function(require,module,exports){module.exports=function(){function isThenable(obj){return obj&&obj instanceof Object&&"function"==typeof obj.then}function resolution(p,r,how){try{var x=how?how(r):r;if(p===x)return p.reject(new TypeError("Promise resolution loop"));isThenable(x)?x.then(function(y){resolution(p,y)},function(e){p.reject(e)}):p.resolve(x)}catch(ex){p.reject(ex)}}function Chained(){}function _unchained(v){}function thenChain(res,rej){this.resolve=res,this.reject=rej}function then(res,rej){var chain=new Chained;try{this._resolver(function(value){return isThenable(value)?value.then(res,rej):resolution(chain,value,res)},function(ex){resolution(chain,ex,rej)})}catch(ex){resolution(chain,ex,rej)}return chain}function Thenable(resolver){this._resolver=resolver,this.then=then}return Chained.prototype={resolve:_unchained,reject:_unchained,then:thenChain},Thenable.resolve=function(v){return Thenable.isThenable(v)?v:{then:function(resolve){return resolve(v)}}},Thenable.isThenable=isThenable,Thenable}},{}],15:[function(require,module,exports){(function(process){"use strict";module.exports=function(tick){function Zousan(func){if(func){var me=this;func(function(arg){me.resolve(arg)},function(arg){me.reject(arg)})}}function STATE_FULFILLED(c,arg){if("function"==typeof c.y)try{var yret=c.y.call(void 0,arg);c.p.resolve(yret)}catch(err){c.p.reject(err)}else c.p.resolve(arg)}function STATE_REJECTED(c,reason){if("function"==typeof c.n)try{var yret=c.n.call(void 0,reason);c.p.resolve(yret)}catch(err){c.p.reject(err)}else c.p.reject(reason)}tick=tick||"object"==typeof process&&process.nextTick||"function"==typeof setImmediate&&setImmediate||function(f){setTimeout(f,0)};var soon=function(){function callQueue(){for(;fq.length-fqStart;)fq[fqStart](),fq[fqStart++]=void 0,fqStart===bufferSize&&(fq.splice(0,bufferSize),fqStart=0)}var fq=[],fqStart=0,bufferSize=1024;return function(fn){fq.push(fn),fq.length-fqStart===1&&tick(callQueue)}}();return Zousan.prototype={resolve:function(value){if(void 0===this.state){if(value===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var me=this;if(value&&("function"==typeof value||"object"==typeof value))try{var first=0,then=value.then;if("function"==typeof then)return void then.call(value,function(ra){first++||me.resolve(ra)},function(rr){first++||me.reject(rr)})}catch(e){return void(first||this.reject(e))}this.state=STATE_FULFILLED,this.v=value,me.c&&soon(function(){for(var n=0,l=me.c.length;n<l;n++)STATE_FULFILLED(me.c[n],value)})}},reject:function(reason){if(void 0===this.state){this.state=STATE_REJECTED,this.v=reason;var clients=this.c;clients&&soon(function(){for(var n=0,l=clients.length;n<l;n++)STATE_REJECTED(clients[n],reason)})}},then:function(onF,onR){var p=new Zousan,client={y:onF,n:onR,p:p};if(void 0===this.state)this.c?this.c.push(client):this.c=[client];else{var s=this.state,a=this.v;soon(function(){s(client,a)})}return p}},Zousan.resolve=function(val){if(val&&val instanceof Zousan)return val;var z=new Zousan;return z.resolve(val),z},Zousan.reject=function(err){if(err&&err instanceof Zousan)return err;var z=new Zousan;return z.reject(err),z},Zousan.version="2.3.2-nodent",Zousan}}).call(this,require("_process"))},{_process:7}],16:[function(require,module,exports){module.exports=function(nodent,html,url,options){var f=[[],[]],re=[/(.*)(<script[^>]*>)(.*)/i,/(.*)(<\/script>)(.*)/i],m=0,initScript=!0;html=html.split("\n");for(var l=0;l<html.length;){var fragment=re[m].exec(html[l]);fragment&&0==m&&fragment[2].match("src=")&&(fragment=null),fragment?(1==m?(f[m].push(fragment[1]),pr=nodent.compile(f[1].join("\n"),url,3,options.compiler).code,initScript&&options.runtime&&(initScript=!1,options.runtime&&f[0].push("Function.prototype.$asyncbind = "+nodent.$asyncbind.toString()+";\n")),f[0].push(pr),f[1]=[],m=0,f[m].push(fragment[2])):(f[m].push(fragment[1]),f[m].push(fragment[2]),m=1),html[l]=fragment[3]):f[m].push(html[l++])}return f[0].join("\n")}},{}],17:[function(require,module,exports){"use strict";function printNode(n){if(!n)return"";if(Array.isArray(n))return n.map(printNode).join("|\n");try{return outputCode(n)}catch(ex){return ex.message+": "+(n&&n.type)}}function cloneNode(n){if(Array.isArray(n))return n.map(function(n){return cloneNode(n)});var o={};return Object.keys(n).forEach(function(k){o[k]=n[k]}),o}function coerce(node,replace){node!==replace&&(node.__proto__=Object.getPrototypeOf(replace),Object.keys(node).forEach(function(k){k in locationInfo||delete node[k]}),Object.keys(replace).forEach(function(k){k in node||(node[k]=replace[k])}))}function Nothing(){}function examine(node){return node?(NodeExaminer.node=node,NodeExaminer):{}}function contains(ast,fn,descendOn){if(!ast)return null;if(fn&&"object"==typeof fn){var keys=Object.keys(fn);return contains(ast,function(node){return keys.every(function(k){return node[k]==fn[k]})})}var n,found={};if(Array.isArray(ast)){for(var i=0;i<ast.length;i++)if(n=contains(ast[i],fn))return n;return null}var subScopes=descendOn;"function"!=typeof descendOn&&(subScopes=descendOn?function(n){return!0}:function(n){return!examine(n).isScope});try{parser.treeWalker(ast,function(node,descend,path){if(fn(node))throw found.path=path,found;(node===ast||subScopes(node))&&descend()})}catch(ex){if(ex===found)return found.path;throw ex}return null}function containsAwait(ast){return contains(ast,function(n){return"AwaitExpression"===n.type&&!n.$hidden})}function containsAwaitInBlock(ast){return contains(ast,function(n){return"AwaitExpression"===n.type&&!n.$hidden},function(n){var x=examine(n);return!x.isBlockStatement&&!x.isScope})}function containsThis(ast){return contains(ast,{type:"ThisExpression"})}function babelLiteralNode(value){if(null===value)return{type:"NullLiteral",value:null,raw:"null"};if(value===!0||value===!1)return{type:"BooleanLiteral",value:value,raw:JSON.stringify(value)};if(value instanceof RegExp){var str=value.toString(),parts=str.split("/");return{type:"RegExpLiteral",value:value,raw:str,pattern:parts[1],flags:parts[2]}}return"number"==typeof value?{type:"NumericLiteral",value:value,raw:JSON.stringify(value)}:{type:"StringLiteral",value:value,raw:JSON.stringify(value)}}function ident(name,loc){return{type:"Identifier",name:name,loc:loc}}function idents(s){var r={};for(var k in s)r[k]="string"==typeof s[k]?ident(s[k]):s[k];return r}function asynchronize(pr,__sourceMapping,opts,logger){function bindAsync(left,arg){if(opts.es6target&&!left.id&&!arg&&0===left.type.indexOf("Function"))return left.type="ArrowFunctionExpression",left;if(opts.noRuntime){if(arg){if(examine(arg).isLiteral)throw new Error("Nodent: 'noRuntime' option only compatible with -promise and -engine modes");left.body.body=parser.part("try {$:0} catch($2) {return $1($2)}",[cloneNode(left.body),arg,ident("$boundEx")]).body}else if(opts.es6target&&!left.id&&0===left.type.indexOf("Function"))return left.type="ArrowFunctionExpression",left;return opts.es6target&&!left.id?(left.type="ArrowFunctionExpression",left):parser.part("$0.bind(this)",[left]).expr}return arg?parser.part("$0.$1(this,$2)",[left,genIdent.asyncbind,arg]).expr:parser.part("$0.$1(this)",[left,genIdent.asyncbind]).expr}function makeBoundFn(name,body,argnames,binding){return parser.part("var $0 = $1",[ident(name),bindAsync({type:"FunctionExpression",id:null,generator:!1,expression:!1,params:argnames||[],body:body},binding)]).body[0]}function where(node){return pr.filename+(node&&node.loc&&node.loc.start?"("+node.loc.start.line+":"+node.loc.start.column+")\t":"\t")}function literal(value){return opts.babelTree?babelLiteralNode(value):{type:"Literal",value:value,raw:JSON.stringify(value)}}function getMemberFunction(node){return node?!opts.babelTree||"ClassMethod"!==node.type&&"ObjectMethod"!==node.type?(!opts.babelTree&&"MethodDefinition"===node.type||"Property"===node.type&&(node.method||"get"==node.kind||"set"==node.kind))&&examine(node.value).isFunction?node.value:null:node:null}function replaceArguments(ast){if(!ast)return!1;var r=!1;if(Array.isArray(ast)){for(var i=0;i<ast.length;i++)replaceArguments(ast[i])&&(r=!0);return r}return parser.treeWalker(ast,function(node,descend,path){"Identifier"===node.type&&"arguments"===node.name?(node.name=opts.$arguments,r=!0):node!==ast&&examine(node).isFunction||descend()}),r}function generateSymbol(node){return"string"!=typeof node&&(node=node.type.replace(/Statement|Expression/g,"")),opts.generatedSymbolPrefix+node+"_"+generatedSymbol++}function setExit(n,sym){return n&&(n.$exit=idents({$error:sym.$error,$return:sym.$return})),n}function getExitNode(path){for(var n=0;n<path.length;n++){if(path[n].self.$exit)return path[n].self;if(path[n].parent&&path[n].parent.$exit)return path[n].parent}return null}function getExit(path,parents){var n=getExitNode(path);if(n)return n.$exit;if(parents)for(var i=0;i<parents.length;i++)if(parents[i])return idents(parents[i]);return null}function asyncTransforms(ast,awaitFlag){var useLazyLoops=!(opts.promises||opts.generators||opts.engine)&&opts.lazyThenables;blockifyArrows(ast),hoistDeclarations(ast),labelTryCatch(ast),asyncDefine(ast),asyncDefineMethod(ast),(useLazyLoops?asyncLoops_1:Nothing)(ast),mapLogicalOp(ast),mapCondOp(ast),walkDown(ast,[mapTryCatch,useLazyLoops?Nothing:mapLoops,mapIfStmt,mapSwitch,mapBlock]),asyncAwait(ast,awaitFlag),exposeCompilerOpts(ast),cleanCode(ast)}function makeContinuation(name,body){var ctn={$continuation:!0,type:name?"FunctionDeclaration":"FunctionExpression",id:name?"string"==typeof name?ident(name):name:void 0,params:[],body:{type:"BlockStatement",body:cloneNode(body)}};return name&&(continuations[name]={def:ctn}),ctn}function internalIIAFE(body){return{type:"AwaitExpression",argument:asyncDefine({type:"FunctionExpression",generator:!1,expression:!1,async:!0,params:[],body:{type:"BlockStatement",body:body}}).body.body[0].argument}}function thisCall(name,args){"string"==typeof name&&(name=ident(name));var n=parser.part("$0.call($1)",[name,[{type:"ThisExpression"}].concat(args||[])]).expr;return name.$thisCall=n,n.$thisCallName=name.name,n}function returnThisCall(name,args){return{type:"ReturnStatement",argument:thisCall(name,args)}}function deferredFinally(node,expr){return{type:"CallExpression",callee:ident(node.$seh+"Finally"),arguments:expr?[expr]:[]}}function mapReturns(n,path){if(Array.isArray(n))return n.map(function(m){return mapReturns(m,path)});var lambdaNesting=0;return parser.treeWalker(n,function(node,descend,path){if("ReturnStatement"!==node.type||node.$mapped){if("ThrowStatement"===node.type){if(lambdaNesting>0){if(!examine(node).isAsync)return descend(node);delete node.async}return node.type="ReturnStatement",node.$mapped=!0,void(node.argument={type:"CallExpression",callee:getExit(path,[opts]).$error,arguments:[node.argument]})}return examine(node).isFunction?(lambdaNesting++,descend(node),void lambdaNesting--):void descend(node)}if(lambdaNesting>0){if(!examine(node).isAsync)return descend(node);delete node.async}return node.$mapped=!0,void(examine(node.argument).isUnaryExpression&&"void"===node.argument.operator?node.argument=node.argument.argument:node.argument={type:"CallExpression",callee:getExit(path,[opts]).$return,arguments:node.argument?[node.argument]:[]})},path)}function mapCondOp(ast,state){return Array.isArray(ast)?ast.map(function(n){return mapCondOp(n,state)}):(parser.treeWalker(ast,function(node,descend,path){if(descend(),"ConditionalExpression"===node.type&&(containsAwait(node.alternate)||containsAwait(node.consequent))){var xform=(ident(generateSymbol("condOp")),internalIIAFE(parser.part("if ($0) return $1 ; return $2",[node.test,node.consequent,node.alternate]).body));coerce(node,xform)}},state),ast)}function mapLogicalOp(ast,state){return Array.isArray(ast)?ast.map(function(n){return mapLogicalOp(n,state)}):(parser.treeWalker(ast,function(node,descend,path){if(descend(),"LogicalExpression"===node.type&&containsAwait(node.right)){var codeFrag,z=ident(generateSymbol("logical"+("&&"===node.operator?"And":"Or")));if("||"===node.operator)codeFrag="var $0; if (!($0 = $1)) {$0 = $2} return $0";else{if("&&"!==node.operator)throw new Error(where(node)+"Illegal logical operator: "+node.operator);codeFrag="var $0; if ($0 = $1) {$0 = $2} return $0"}coerce(node,internalIIAFE(parser.part(codeFrag,[z,node.left,node.right]).body))}},state),ast)}function mapBlock(block,path,down){if("SwitchCase"!==block.type&&examine(block).isBlockStatement)for(var idx=0;idx<block.body.length;){var node=block.body[idx];if("SwitchCase"!==node.type&&examine(node).isBlockStatement){var blockScoped=containsBlockScopedDeclarations(node.body);if(blockScoped)if(containsAwaitInBlock(node)){var symName=generateSymbol(node),deferredCode=block.body.splice(idx+1,block.body.length-(idx+1));if(deferredCode.length){var ctn=makeContinuation(symName,deferredCode);delete continuations[symName],node.body.push(returnThisCall(symName)),block.body.push(ctn),idx++}else idx++}else idx++;else block.body.splice.apply(block.body,[idx,1].concat(node.body))}else idx++}}function mapIfStmt(ifStmt,path,down){if("IfStatement"===ifStmt.type&&containsAwait([ifStmt.consequent,ifStmt.alternate])){var symName=generateSymbol(ifStmt),ref=path[0],synthBlock={type:"BlockStatement",body:[ifStmt]};if("index"in ref){var idx=ref.index,deferredCode=ref.parent[ref.field].splice(idx+1,ref.parent[ref.field].length-(idx+1));if(ref.replace(synthBlock),deferredCode.length){var call=returnThisCall(symName);synthBlock.body.push(down(makeContinuation(symName,deferredCode))),[ifStmt.consequent,ifStmt.alternate].forEach(function(cond){if(cond){var blockEnd;blockEnd=examine(cond).isBlockStatement?cond.body[cond.body.length-1]:cond,blockEnd&&"ReturnStatement"===blockEnd.type||("BlockStatement"!==cond.type&&coerce(cond,{type:"BlockStatement",body:[cloneNode(cond)]}),cond.$deferred=!0,cond.body.push(cloneNode(call))),down(cond)}}),ifStmt.consequent&&ifStmt.alternate&&ifStmt.consequent.$deferred&&ifStmt.alternate.$deferred||synthBlock.body.push(cloneNode(call))}}else ref.parent[ref.field]=synthBlock}}function mapSwitch(switchStmt,path,down){if(!switchStmt.$switched&&"SwitchStatement"===switchStmt.type&&containsAwait(switchStmt.cases)){switchStmt.$switched=!0;var symName,deferred,deferredCode,ref=path[0];if("index"in ref){var j=ref.index+1;deferredCode=ref.parent[ref.field].splice(j,ref.parent[ref.field].length-j),deferredCode.length&&"BreakStatement"===deferredCode[deferredCode.length-1].type&&ref.parent[ref.field].push(deferredCode.pop()),symName=generateSymbol(switchStmt),deferred=returnThisCall(symName),ref.parent[ref.field].unshift(makeContinuation(symName,deferredCode)),ref.parent[ref.field].push(cloneNode(deferred))}return switchStmt.cases.forEach(function(caseStmt,idx){if("SwitchCase"!==caseStmt.type)throw new Error("switch contains non-case/default statement: "+caseStmt.type);if(containsAwait(caseStmt.consequent)){var end=caseStmt.consequent[caseStmt.consequent.length-1];"BreakStatement"===end.type?caseStmt.consequent[caseStmt.consequent.length-1]=cloneNode(deferred):"ReturnStatement"===end.type||"ThrowStatement"===end.type||(logger(where(caseStmt)+"switch-case fall-through not supported - added break. See https://github.com/MatAtBread/nodent#differences-from-the-es7-specification"),caseStmt.consequent.push(cloneNode(deferred)))}}),!0}}function isExitStatement(n){return"ReturnStatement"===n.type||"ThrowStatement"===n.type}function labelTryCatch(ast,engineMode){return parser.treeWalker(ast,function(node,descend,path){if("TryStatement"===node.type&&(node.$seh=generateSymbol("Try")+"_",node.$containedAwait=!!containsAwait(node),node.$finallyExit=node.finalizer&&inAsync(path)&&!!contains(node.finalizer.body,isExitStatement),node.$containedAwait||node.$finallyExit)){node.$needsMapping=!engineMode||!node.$finallyExit;var parent=getExit(path,[opts]);if(node.finalizer&&!node.handler){var exSym=ident(generateSymbol("exception"));node.handler={type:"CatchClause",param:exSym,body:{type:"BlockStatement",body:[{type:"ThrowStatement",argument:exSym}]}}}if(!node.handler&&!node.finalizer){var ex=new SyntaxError(where(node.value)+"try requires catch and/or finally clause",pr.filename,node.start);throw ex.pos=node.start,ex.loc=node.loc.start,ex}node.finalizer?(setExit(node.block,{$error:node.$seh+"Catch",$return:deferredFinally(node,parent.$return)}),setExit(node.handler,{$error:deferredFinally(node,parent.$error),$return:deferredFinally(node,parent.$return)})):setExit(node.block,{$error:node.$seh+"Catch",$return:parent.$return})}descend()}),ast}function afterDirectives(body,nodes){for(var i=0;i<body.length;i++)if(!examine(body[i]).isDirective)return void body.splice.apply(body,[i,0].concat(nodes));body.splice.apply(body,[body.length,0].concat(nodes))}function inAsync(path){for(var i=0;i<path.length;i++)if(examine(path[i].self).isFunction)return path[i].self.async||path[i].self.$wasAsync;return!1}function mapTryCatch(node,path,down){if(node.$needsMapping){var continuation,ctnName,catchBody,ref=path[0];if(!("index"in ref))throw new Error(pr.filename+" - malformed try/catch blocks");var i=ref.index+1,afterTry=ref.parent[ref.field].splice(i,ref.parent[ref.field].length-i);if(afterTry.length){ctnName=node.$seh+"Post";var afterContinuation=makeContinuation(ctnName,afterTry);afterContinuation=down(afterContinuation),ref.parent[ref.field].splice(ref.index,0,afterContinuation),continuation=returnThisCall(node.finalizer?deferredFinally(node,ident(ctnName)):ctnName)}else node.finalizer&&(continuation=returnThisCall(deferredFinally(node)));node.$mapped=!0,continuation&&(node.block.body.push(cloneNode(continuation)),node.handler.body.body.push(cloneNode(continuation)));var binding=getExit(path,[opts]);if(node.handler){var symCatch=ident(node.$seh+"Catch");catchBody=cloneNode(node.handler.body);var catcher=makeBoundFn(symCatch.name,catchBody,[cloneNode(node.handler.param)],node.finalizer?deferredFinally(node,binding.$error):binding.$error);node.handler.body.body=[{type:"CallExpression",callee:symCatch,arguments:[cloneNode(node.handler.param)]}],ref.parent[ref.field].splice(ref.index,0,catcher)}if(node.finalizer){var finalParams={exit:ident(node.$seh+"Exit"),value:ident(node.$seh+"Value"),body:cloneNode(node.finalizer.body)},chainFinalize=parser.part("(function ($value) {                                              {$:body}                                                  return $exit && ($exit.call(this, $value));           })",finalParams).expr,finalizer={type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:ident(node.$seh+"Finally"),init:bindAsync({type:"FunctionExpression",params:[finalParams.exit],id:null,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:bindAsync(chainFinalize,binding.$error)}]}})}]};afterDirectives(ref.parent[ref.field],[finalizer]);var callFinally=returnThisCall(deferredFinally(node,ctnName&&ident(ctnName)));catchBody.body[catchBody.length-1]=callFinally,node.block.body[node.block.body.length-1]=callFinally,delete node.finalizer}}}function walkDown(ast,mappers,state){function closedWalk(ast,state){return parser.treeWalker(ast,function(node,descend,path){function walkDownSubtree(node){return closedWalk(node,path)}walked.indexOf(node)<0&&(walked.push(node),mappers.forEach(function(m){m(node,path,walkDownSubtree)})),descend()},state)}var walked=[];return closedWalk(ast,state),ast}function asyncAwait(ast,inAsync,parentCatcher){return parser.treeWalker(ast,function(node,descend,path){if("IfStatement"==node.type&&("BlockStatement"!=node.consequent.type&&containsAwait(node.consequent)&&(node.consequent={type:"BlockStatement",body:[node.consequent]}),node.alternate&&"BlockStatement"!=node.alternate.type&&containsAwait(node.alternate)&&(node.alternate={type:"BlockStatement",body:[node.alternate]})),descend(),examine(node).isAwait){var loc=node.loc;if(inAsync=inAsync||path.some(function(ancestor){return ancestor.self&&ancestor.self.$wasAsync}),!inAsync||"warn"===inAsync){var errMsg=where(node)+"'await' used inside non-async function. ";errMsg+=opts.promises?"'return' value Promise runtime-specific":"'return' value from await is synchronous",logger(errMsg+". See https://github.com/MatAtBread/nodent#differences-from-the-es7-specification")}var parent=path[0].parent;"LogicalExpression"===parent.type&&parent.right===node&&logger(where(node.argument)+"'"+printNode(parent)+"' on right of "+parent.operator+" will always evaluate '"+printNode(node.argument)+"'"),"ConditionalExpression"===parent.type&&parent.test!==node&&logger(where(node.argument)+"'"+printNode(parent)+"' will always evaluate '"+printNode(node.argument)+"'");var result=ident(generateSymbol("await")),expr=cloneNode(node.argument);coerce(node,result);for(var stmt,body,n=1;n<path.length;n++)if(body=examine(path[n].self).isBlockStatement){stmt=path[n-1];break}if(!stmt)throw new Error(where(node)+"Illegal await not contained in a statement");var callback,returner,containingExits=getExit(path,[parentCatcher,opts]),i=stmt.index,callBack=body.splice(i,body.length-i).slice(1);"ReturnStatement"===stmt.self.type&&"CallExpression"===stmt.self.argument.type&&1===stmt.self.argument.arguments.length&&stmt.self.argument.arguments[0].name===result.name?returner=callback=stmt.self.argument.callee:"Identifier"===stmt.self.type||stmt.self.name===result.name||"ExpressionStatement"===stmt.self.type&&"Identifier"===stmt.self.expression.type&&stmt.self.expression.name===result.name?callback=callBack.length?{type:"FunctionExpression",params:[cloneNode(result)],body:asyncAwait({type:"BlockStatement",body:cloneNode(callBack)},inAsync,containingExits)}:{type:"FunctionExpression",params:[],body:{type:"BlockStatement",body:[]}}:(callBack.unshift(stmt.self),callback={type:"FunctionExpression",params:[cloneNode(result)],body:asyncAwait({type:"BlockStatement",body:cloneNode(callBack)},inAsync,containingExits)}),returner||(returner=callback?bindAsync(callback,containingExits.$error):{type:"FunctionExpression",params:[],body:{type:"BlockStatement",body:[]}}),opts.wrapAwait&&(expr={type:"CallExpression",arguments:[expr],callee:opts.promises||opts.generators?{type:"MemberExpression",object:ident("Promise"),property:ident("resolve")}:{type:"MemberExpression",object:ident("Object"),property:ident("$makeThenable")}});var exitCall={type:"CallExpression",callee:{type:"MemberExpression",object:expr,property:ident("then",loc),computed:!1},arguments:[returner,containingExits.$error]};body.push({loc:loc,type:"ReturnStatement",argument:exitCall})}return!0}),ast}function transformForIn(node,path){var label=node.$label;delete node.$label;var idx=ident(generateSymbol("idx")),inArray=ident(generateSymbol("in")),declVars=parser.part("var $0,$1 = [];for ($0 in $2) $1.push($0)",[idx,inArray,node.right]).body,loop=parser.part("for ($0; $1.length;){ $2 = $1.shift(); $:3 ; }",[node.left,inArray,"VariableDeclaration"===node.left.type?node.left.declarations[0].id:node.left,node.body]).body[0];loop.$label=label;for(var b=0;b<path.length;b++)if(examine(path[b].parent).isBlockStatement){path[b].parent[path[b].field].splice(path[b].index,0,declVars[0],declVars[1]);break}coerce(node,loop)}function iterizeForOf(node,path){"BlockStatement"!==node.body.type&&(node.body={type:"BlockStatement",body:[node.body]});var index,iterator,initIterator=parser.part("[$0[Symbol.iterator]()]",[node.right]).expr;if("VariableDeclaration"===node.left.type){"const"===node.left.kind&&(node.left.kind="let"),index=node.left.declarations[0].id;var decls=getDeclNames(node.left.declarations[0].id);iterator=ident(generateSymbol("iterator_"+decls.join("_"))),node.left.declarations=decls.map(function(name){return{type:"VariableDeclarator",id:ident(name)}}),node.left.declarations.push({type:"VariableDeclarator",id:iterator,init:initIterator}),node.init=node.left}else{index=node.left,iterator=ident(generateSymbol("iterator_"+index.name));var declaration={type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:iterator,init:initIterator}]};node.init=declaration}node.type="ForStatement",node.test=parser.part("!($0[1] = $0[0].next()).done && (($1 = $0[1].value) || true)",[iterator,index]).expr,delete node.left,delete node.right}function mapLoops(node,path,down){function mappableLoop(n){return"AwaitExpression"===n.type&&!n.$hidden||inAsyncLoop&&("BreakStatement"===n.type||"ContinueStatement"===n.type)&&n.label}var depth=node.$depth;"ForInStatement"===node.type&&containsAwait(node)?transformForIn(node,path):"ForOfStatement"===node.type&&containsAwait(node)&&iterizeForOf(node,path);var inAsyncLoop=path.some(function(p){return"$label"in p.self&&"ForStatement"===p.self.type&&p.self.$mapped});if(!node.$mapped&&examine(node).isLoop&&contains(node,mappableLoop)){path[0].self.$mapped=!0;var mapped=[],init=node.init,test=node.test||literal(!0),step=node.update,body=node.body;step&&(step={type:"ExpressionStatement",expression:step}),init&&(examine(init).isStatement||(init={type:"ExpressionStatement",expression:init}),mapped.push(init));var ref,label;node.$label?(label=node.$label.name,ref=path[1]):(label=generatedSymbol++,ref=path[0]),label=opts.generatedSymbolPrefix+"Loop_"+label;var continuation,deferredCode,idTrampoline=ident(label+"_trampoline"),idIter=ident(label),idStep=step?ident(label+"_step"):idIter,idContinuation=ident(label+"_exit");ident("q"),ident("$exception");if("index"in ref){var idx=ref.index;deferredCode=ref.parent[ref.field].splice(idx+1,ref.parent[ref.field].length-(idx+1))}else deferredCode=[];continuation=makeContinuation(idContinuation,deferredCode);var returnIter={type:"ReturnStatement",argument:idIter},returnStep={type:"ReturnStatement",argument:idStep},returnBreak={type:"ReturnStatement",argument:{type:"ArrayExpression",elements:[literal(1)]}};parser.treeWalker(body,function(n,descend,subpath){if(examine(n).isFunction||examine(n).isLoop)return!0;if("BreakStatement"===n.type||"ContinueStatement"===n.type)if(n.label)for(var labelStack=(subpath.filter(function(p){return"$label"in p.self}).map(function(p,idx){return p.self.$label&&p.self.$label.name;
})),loops=[],l=0;l<labelStack.length;l++){if(labelStack[l]===n.label.name){"BreakStatement"===n.type&&loops.push(literal(1)),subpath[0].replace({type:"ReturnStatement",argument:{type:"ArrayExpression",elements:loops.reverse()}});break}loops.push(literal(0))}else"BreakStatement"===n.type?subpath[0].replace(returnBreak):subpath[0].replace(returnStep);else descend()},path),body="BlockStatement"===body.type?body.body.slice(0):[body],body="DoWhileStatement"===node.type?body.concat({type:"IfStatement",test:{type:"UnaryExpression",argument:test,prefix:!0,operator:"!"},consequent:returnBreak,alternate:returnStep}):[{type:"IfStatement",test:test,consequent:{type:"BlockStatement",body:body.concat(returnStep)},alternate:returnBreak}],opts.noRuntime&&mapped.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:idTrampoline}],kind:"var"});var invokeIterate,exit=getExit(path,[opts]).$error;invokeIterate=opts.noRuntime?parser.part(opts.es6target?"($idTrampoline = ((q) => {     $$setMapped: while (q) {          if (q.then)  "+(1===depth?"             return void q.then($idTrampoline, $exit); ":"             return q.then($idTrampoline, $exit); ")+"         try {              if (q.pop)                   if (q.length)                   return q.pop() ? $idContinuation.call(this) : q;               else                   q = $idStep;               else                   q = q.call(this)           } catch (_exception) {              return $exit(_exception);           }      } }))($idIter)":"($idTrampoline = (function (q) {     $$setMapped: while (q) {          if (q.then)  "+(1===depth?"             return void q.then($idTrampoline, $exit); ":"             return q.then($idTrampoline, $exit); ")+"         try {              if (q.pop)                   if (q.length)                   return q.pop() ? $idContinuation.call(this) : q;               else                   q = $idStep;               else                   q = q.call(this)           } catch (_exception) {              return $exit(_exception);           }      } }).bind(this))($idIter)",{setMapped:function(n){return n.$mapped=!0,n},idTrampoline:idTrampoline,exit:exit,idIter:idIter,idContinuation:idContinuation,idStep:idStep}).expr:parser.part("(Function.$0.trampoline(this,$1,$2,$3,$5)($4))",[genIdent.asyncbind,idContinuation,idStep,exit,idIter,literal(1===depth)]).expr,mapped.push({type:"ReturnStatement",argument:invokeIterate}),mapped.push({$label:node.$label,type:"FunctionDeclaration",id:idIter,params:[],body:{type:"BlockStatement",body:body}}),step&&mapped.push({type:"FunctionDeclaration",id:idStep,params:[],body:{type:"BlockStatement",body:[step,returnIter]}}),!init||"VariableDeclaration"!==init.type||"let"!==init.kind&&"const"!==init.kind?(mapped.push(continuation),path[0].replace(mapped.map(down))):("const"===init.kind&&(init.kind="let"),path[0].replace([{type:"BlockStatement",body:mapped.map(down)},down(continuation)]))}}function asyncLoops_1(ast,state){return parser.treeWalker(ast,function(node,descend,path){function mapContinue(label){return{type:"ReturnStatement",argument:{type:"UnaryExpression",operator:"void",prefix:!0,argument:thisCall(label||symContinue)}}}function mapExits(n,descend){if("BreakStatement"===n.type)coerce(n,cloneNode(mapBreak(n.label&&opts.generatedSymbolPrefix+"Loop_"+n.label.name+"_exit")));else if("ContinueStatement"===n.type)coerce(n,cloneNode(mapContinue(n.label&&opts.generatedSymbolPrefix+"Loop_"+n.label.name+"_next")));else if(examine(n).isFunction)return!0;descend()}"ForInStatement"===node.type&&containsAwait(node)?transformForIn(node,path):"ForOfStatement"===node.type&&containsAwait(node)&&iterizeForOf(node,path),descend();var p;if(examine(node).isLoop&&containsAwait(node)){var init=node.init,condition=node.test||literal(!0),step=node.update,body=node.body,loopUsesThis=containsThis(body);init&&(examine(init).isStatement||(init={type:"ExpressionStatement",expression:init})),step=step&&{type:"ExpressionStatement",expression:step},body=examine(body).isBlockStatement?cloneNode(body).body:[cloneNode(body)];var label=node.$label&&node.$label.name;label="Loop_"+(label||generatedSymbol++);var symExit=opts.generatedSymbolPrefix+(label+"_exit"),symContinue=opts.generatedSymbolPrefix+(label+"_next"),loop=ident(opts.generatedSymbolPrefix+label),mapBreak=function(label){return{type:"ReturnStatement",argument:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"CallExpression",callee:ident(label||symExit),arguments:[]}}}},defContinue=makeContinuation(symContinue,[{type:"ReturnStatement",argument:{type:"CallExpression",callee:loopUsesThis?bindAsync(loop):loop,arguments:[ident(symExit),genIdent.error]}}]);step&&defContinue.body.body.unshift(step);for(var i=0;i<body.length;i++)parser.treeWalker(body[i],mapExits);body.push(cloneNode(mapContinue()));var subCall={type:"FunctionExpression",id:loop,params:[ident(symExit),genIdent.error],body:{type:"BlockStatement",body:[defContinue]}};if("DoWhileStatement"===node.type)defContinue.body.body=[{type:"IfStatement",test:cloneNode(condition),consequent:{type:"BlockStatement",body:cloneNode(defContinue.body.body)},alternate:{type:"ReturnStatement",argument:{type:"CallExpression",callee:ident(symExit),arguments:[]}}}],subCall.body.body=[defContinue].concat(body);else{var nextTest={type:"IfStatement",test:cloneNode(condition),consequent:{type:"BlockStatement",body:body},alternate:cloneNode(mapBreak())};subCall.body.body.push(nextTest)}var replace={type:"ExpressionStatement",expression:{type:"AwaitExpression",argument:bindAsync(subCall,literal(0))}};for(!init||"VariableDeclaration"!==init.type||"let"!==init.kind&&"const"!==init.kind||("const"===init.kind&&(init.kind="let"),replace={type:"BlockStatement",body:[cloneNode(init),replace]},init=null),p=0;p<path.length;p++){var ref=path[p];if("index"in ref)return init?ref.parent[ref.field].splice(ref.index,1,cloneNode(init),replace):ref.parent[ref.field][ref.index]=replace,!0}}return!0},state),ast}function containsAsyncExit(ast){try{return Array.isArray(ast)?ast.some(containsAsyncExit):(parser.treeWalker(ast,function(node,descend,path){if("Identifier"===node.type&&(node.name===opts.$return||node.name===opts.$error))throw node;if(examine(node).isFunction){var f=contains(node,function(node){if("Identifier"===node.type&&(node.name===opts.$return||node.name===opts.$error))throw node;if(("ReturnStatement"===node.type||"ThrowStatement"===node.type)&&examine(node).isAsync)throw node});if(f)throw f;return!1}descend()}),!1)}catch(ex){return ex}}function asyncDefineMethod(ast){return parser.treeWalker(ast,function(node,descend,path){var transform=getMemberFunction(node);if(descend(),transform&&examine(transform).isAsync){if("set"==node.kind){var ex=new SyntaxError(where(transform)+"method 'async set' cannot be invoked",pr.filename,node.start);throw ex.pos=node.start,ex.loc=node.loc.start,ex}transform.async=!1;var usesArgs=replaceArguments(transform);containsAsyncExit(transform)||0!==transform.body.body.length&&"ReturnStatement"===transform.body.body[transform.body.body.length-1].type||transform.body.body.push({type:"ReturnStatement"});var funcback=bindAsync(setExit({type:"FunctionExpression",params:[genIdent.return,genIdent.error],body:asyncDefineMethod(mapReturns(transform.body,path)),$wasAsync:!0},opts),opts.promises||opts.generators||opts.engine?null:literal(!opts.lazyThenables||0));opts.promises?transform.body={type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"NewExpression",callee:ident("Promise"),arguments:[funcback]}}]}:transform.body={type:"BlockStatement",body:[{type:"ReturnStatement",argument:funcback}]},usesArgs&&afterDirectives(transform.body.body,[assign$Args])}})}function asyncDefine(ast,noUndefinedReturn){return parser.treeWalker(ast,function(node,descend,path){if(descend(),examine(node).isAsync&&examine(node).isFunction){var member;(member=getMemberFunction(path[0].parent))&&examine(member).isAsync&&"get"===path[0].parent.kind&&warnAsyncGetter(path[0].parent.key),delete node.async;var fnBody,usesArgs=replaceArguments(node);return examine(node.body).isBlockStatement?(noUndefinedReturn||containsAsyncExit(node.body)||0!==node.body.body.length&&"ReturnStatement"===node.body.body[node.body.body.length-1].type||node.body.body.push({type:"ReturnStatement"}),fnBody={type:"BlockStatement",body:node.body.body.map(function(sub){return mapReturns(sub,path)})}):(fnBody={type:"BlockStatement",body:[mapReturns({type:"ReturnStatement",argument:node.body},path)]},node.expression=!1),fnBody=bindAsync(setExit({type:"FunctionExpression",params:[genIdent.return,genIdent.error],body:fnBody,$wasAsync:!0},opts),opts.promises||opts.generators||opts.engine?null:literal(!opts.lazyThenables||0)),opts.promises&&(fnBody={type:"NewExpression",callee:ident("Promise"),arguments:[fnBody]}),fnBody={type:"BlockStatement",body:[{type:"ReturnStatement",loc:node.loc,argument:fnBody}]},usesArgs&&afterDirectives(fnBody.body,[assign$Args]),void(node.body=fnBody)}}),ast}function mapAsyncReturns(ast){if(Array.isArray(ast))return ast.map(mapAsyncReturns);var lambdaNesting=0;return parser.treeWalker(ast,function(node,descend,path){if("ThrowStatement"!==node.type&&"ReturnStatement"!==node.type||node.$mapped){if(examine(node).isFunction)return lambdaNesting++,descend(node),void lambdaNesting--}else if(lambdaNesting>0&&examine(node).isAsync)return delete node.async,node.argument={type:"CallExpression",callee:"ThrowStatement"===node.type?genIdent.error:genIdent.return,arguments:node.argument?[node.argument]:[]},void(node.type="ReturnStatement");descend(node)})}function spawnBody(body,deferExit){if(opts.noRuntime)throw new Error("Nodent: 'noRuntime' option only compatible with -promise and -engine modes");return parser.part("{ return (function*($return,$error){ $:body }).$asyncspawn(Promise,this) }",{return:genIdent.return,error:genIdent.error,asyncspawn:genIdent.asyncspawn,body:mapAsyncReturns(body).concat(deferExit?[{type:"ReturnStatement",argument:genIdent.return}]:[])}).body[0]}function warnAsyncGetter(id){id.$asyncgetwarninig||(id.$asyncgetwarninig=!0,logger(where(id)+"'async get "+printNode(id)+"(){...}' is non-standard. See https://github.com/MatAtBread/nodent#differences-from-the-es7-specification"))}function asyncSpawn(ast,engine){function mapAwaits(ast,hide){parser.treeWalker(ast,function(node,descend,path){node!==ast&&examine(node).isFunction||(examine(node).isAwait?hide?(node.$hidden=!0,descend()):(delete node.operator,node.delegate=!1,node.type="YieldExpression",descend()):descend())})}function promiseTransform(ast){var promises=opts.promises;opts.promises=!0,asyncTransforms(ast,!0),opts.promises=promises}function expandArrows(fn){return"BlockStatement"!==fn.body.type&&(fn.body={type:"BlockStatement",body:[{type:"ReturnStatement",argument:fn.body}]}),fn}function warnAsyncExit(exit,fn){fn.$asyncexitwarninig||(fn.$asyncexitwarninig=!0,logger(where(exit)+"'async "+{ReturnStatement:"return",ThrowStatement:"throw"}[exit.type]+"' not possible in "+(engine?"engine":"generator")+" mode. Using Promises for function at "+where(fn)))}parser.treeWalker(ast,function(node,descend,path){descend();var fn,exit,usesArgs;if(examine(node).isAsync&&examine(node).isFunction){var member;(member=getMemberFunction(path[0].parent))&&examine(member).isAsync&&"get"===path[0].parent.kind&&warnAsyncGetter(path[0].parent.key),(exit=containsAsyncExit(node.body))?(warnAsyncExit(exit,node.body),promiseTransform(node)):engine?"get"!==path[0].parent.kind&&mapAwaits(node,!0):(fn=node,delete fn.async,usesArgs=replaceArguments(fn),mapAwaits(fn,!1),fn=expandArrows(fn),fn.body=spawnBody(fn.body.body,exit),usesArgs&&afterDirectives(fn.body.body,[assign$Args]),fn.id&&"ExpressionStatement"===path[0].parent.type?(fn.type="FunctionDeclaration",path[1].replace(fn)):path[0].replace(fn))}else(fn=getMemberFunction(node))&&examine(fn).isAsync&&((exit=containsAsyncExit(fn))?(warnAsyncExit(exit,fn),promiseTransform(node)):engine&&"get"!==node.kind||(engine?promiseTransform(node):(node.async=!1,usesArgs=replaceArguments(fn),mapAwaits(fn,!1),coerce(fn,expandArrows(fn)),fn.body=spawnBody(fn.body.body,exit)),usesArgs&&afterDirectives(fn.body.body,[assign$Args])))});var st=cloneNode(opts);return opts.engine=!1,opts.generators=!1,blockifyArrows(ast),hoistDeclarations(ast),labelTryCatch(ast,st.engine),mapLogicalOp(ast),mapCondOp(ast),walkDown(ast,[mapTryCatch,mapLoops,mapIfStmt,mapSwitch,mapBlock]),asyncAwait(ast,"warn"),opts.engine=st.engine,opts.generators=st.generators,ast}function scopedNodes(ast,matching,flat){var matches=[];return parser.treeWalker(ast,function(node,descend,path){return node===ast?descend():matching(node,path)?void matches.push([].concat(path)):void(flat||examine(node).isScope||descend())}),matches}function extractVars(vars,kind){var varDecls=[],duplicates={};if(vars=vars.filter(function(v){return"ExportNamedDeclaration"!==v[0].parent.type}),vars.length){var definitions={};vars.forEach(function(path){function addName(name){name in definitions?duplicates[name]=self.declarations[i]:definitions[name]=self.declarations[i]}for(var ref=path[0],self=ref.self,values=(self.kind,[]),i=0;i<self.declarations.length;i++){var decl=self.declarations[i];if(getDeclNames(decl.id).forEach(addName),decl.init){var value={type:"AssignmentExpression",left:cloneNode(decl.id),operator:"=",right:cloneNode(decl.init)};values.push(value)}}if(0==values.length)ref.remove();else{var repl=values.length>1?{type:"SequenceExpression",expressions:values}:values[0];"For"!==ref.parent.type.slice(0,3)&&(repl={type:"ExpressionStatement",expression:repl}),ref.replace(repl)}});var defs=Object.keys(definitions);defs.length&&(defs=defs.map(function(name){return{type:"VariableDeclarator",id:ident(name),loc:definitions[name].loc,start:definitions[name].start,end:definitions[name].end}}),varDecls[0]&&"VariableDeclaration"===varDecls[0].type?varDecls[0].declarations=varDecls[0].declarations.concat(defs):varDecls.unshift({type:"VariableDeclaration",kind:kind,declarations:defs}))}return{decls:varDecls,duplicates:duplicates}}function getDeclNames(id){if(!id)return[];if(Array.isArray(id))return id.reduce(function(z,j){return z.concat(getDeclNames(j.id))},[]);switch(id.type){case"Identifier":return[id.name];case"ArrayPattern":return id.elements.reduce(function(z,e){return z.concat(getDeclNames(e))},[]);case"ObjectPattern":return id.properties.reduce(function(z,e){return z.concat(getDeclNames(e))},[]);case"ObjectProperty":case"Property":return getDeclNames(id.value);case"RestElement":case"RestProperty":return getDeclNames(id.argument)}}function checkConstsNotAssigned(ast){function fail(node){logger(where(node)+"Possible assignment to 'const "+printNode(node)+"'")}function checkAssignable(target){switch(target.type){case"Identifier":"const"===names[target.name]&&fail(target);break;case"ArrayPattern":target.elements.forEach(function(e){"const"===names[e.name]&&fail(e)});break;case"ObjectPattern":target.properties.forEach(function(p){"const"===names[p.key.name]&&fail(p)})}}var names={};parser.treeWalker(ast,function(node,descend,path){var body=examine(node).isBlockStatement;if(body){names=Object.create(names);for(var h=0;h<body.length;h++)if("VariableDeclaration"===body[h].type)for(var i=0;i<body[h].declarations.length;i++)getDeclNames(body[h].declarations[i].id).forEach(function(name){names[name]=body[h].kind})}descend(),"AssignmentExpression"===node.type?checkAssignable(node.left):"UpdateExpression"===node.type&&checkAssignable(node.argument),body&&(names=Object.getPrototypeOf(names))})}function hoistDeclarations(ast){function isFreeVariable(kinds){return function(n,path){if("VariableDeclaration"===n.type&&(n.kind=n.kind||"var")&&kinds.indexOf(n.kind)>=0){var p=path[0];return("left"!=p.field||"ForInStatement"!==p.parent.type&&"ForOfStatement"!==p.parent.type)&&("init"!=p.field||"ForStatement"!==p.parent.type||"const"!==n.kind&&"let"!==n.kind)}}}function isHoistableFunction(n,path){return!("FunctionDeclaration"!==n.type||!n.id)&&(examine(n).isAsync||!n.$continuation)}checkConstsNotAssigned(ast);var inStrictBody=!1;return parser.treeWalker(ast,function(node,descend,path){var prevScope=inStrictBody;if(inStrictBody=inStrictBody||isStrict(node),examine(node).isBlockStatement){var awaitx=containsAwait(node);if(awaitx){var directives,consts,vars,lets,functions,isScope=!path[0].parent||examine(path[0].parent).isScope;if(isScope){consts=scopedNodes(node,isFreeVariable(["const"]),!1);var names={},duplicates={};consts.forEach(function(d){d[0].self.declarations.forEach(function(e){getDeclNames(e.id).forEach(function(n){names[n]||duplicates[n]?(delete names[n],duplicates[n]=e):names[n]=e})})}),consts.forEach(function(d){for(var depth=0;depth<d.length&&!examine(d[depth].parent).isBlockStatement;depth++);var ref=d[depth];ref.append({type:"ExpressionStatement",expression:{type:"SequenceExpression",expressions:d[0].self.declarations.map(function(d){var a={type:"AssignmentExpression",operator:"=",left:d.id,right:d.init};return d.init=null,a})}});var ids=getDeclNames(d[0].self.declarations),decls=ids.filter(function(name){return name in duplicates});decls.length&&d[0].append({type:"VariableDeclaration",kind:"let",declarations:decls.map(function(name){return{type:"VariableDeclarator",id:ident(name)}})}),d[0].self.kind="var",decls=ids.filter(function(name){return name in names}),decls.length?d[0].self.declarations=decls.map(function(name){return{type:"VariableDeclarator",id:ident(name)}}):ref.remove()}),vars=scopedNodes(node,isFreeVariable(["var"]),!1),lets=[]}else lets=scopedNodes(node,isFreeVariable(["const"]),!0);lets=lets.concat(scopedNodes(node,isFreeVariable(["let"]),!0)),directives=scopedNodes(node,function(n){return examine(n).isDirective},!0),functions=scopedNodes(node,isHoistableFunction,inStrictBody),vars=vars?extractVars(vars,"var"):{duplicates:{},decls:[]},lets=lets?extractVars(lets,"let"):{duplicates:{},decls:[]},Object.keys(vars.duplicates).forEach(function(id){logger(where(vars.duplicates[id])+"Duplicate declaration '"+printNode(vars.duplicates[id])+"'")}),Object.keys(lets.duplicates).forEach(function(id){logger(where(lets.duplicates[id])+"Duplicate declaration '"+printNode(lets.duplicates[id])+"'")}),functions=functions.map(function(path){var symName,ref=path[0];if(examine(ref.self).isAsync)return symName=ref.self.id.name,examine(ref.parent).isBlockStatement?(ref.self.type="FunctionDeclaration",ref.remove(),ref.self):ref.replace(ident(symName));symName=ref.self.id.name;var movedFn="FunctionDeclaration"===ref.self.type?ref.remove():ref.replace(ident(symName));return movedFn}),directives=directives.map(function(path){var ref=path[0];return ref.remove()}),(directives.length||vars.decls.length||lets.decls.length||functions.length)&&(node.body=directives.concat(vars.decls).concat(lets.decls).concat(functions).concat(node.body))}inStrictBody=prevScope}if(descend(),"ForOfStatement"===node.type||"ForInStatement"===node.type||examine(node).isLoop){for(var depth=0,n=0;n<path.length;n++)if("ForOfStatement"===path[n].self.type||"ForInStatement"===path[n].self.type||examine(path[n].self).isLoop)depth+=1;else if(examine(path[n].self).isFunction)break;node.$depth=depth,"LabeledStatement"===path[0].parent.type?node.$label=path[0].parent.label:node.$label=null}return!0}),ast}function mapSupers(classNode,engine){function superID(){return classNode.$superID=classNode.$superID||ident("$super$"+generatedSymbol++)}return function(method){method=getMemberFunction(method),method&&examine(method).isAsync&&(!engine||"get"===method.kind||contains(method,function(n){return examine(n).isFunction&&contains(n,function(n){return"Super"===n.type})&&contains(n,function(n){return n.async&&("ReturnStatement"===n.type||"ThrowStatement"===n.type)})},!0))&&parser.treeWalker(method.body,function(node,descend,path){var r;examine(node).isClass||(descend(),"Super"===node.type&&("MemberExpression"===path[0].parent.type?"CallExpression"===path[1].parent.type&&"callee"===path[1].field?(r=parser.part("this.$super($field).call(this,$args)",{super:superID(),field:path[0].parent.computed?path[0].parent.property:literal(path[0].parent.property.name),args:path[1].parent.arguments}).expr,path[2].replace(r)):(r=parser.part("this.$super($field)",{super:superID(),field:path[0].parent.computed?path[0].parent.property:literal(path[0].parent.property.name)}).expr,path[1].replace(r)):logger(where(node)+"'super' in async methods must be deferenced. 'async constructor()'/'await super()' not valid.")))})}}function fixSuperReferences(ast,engine){return parser.treeWalker(ast,function(node,descend,path){if(descend(),("ClassDeclaration"===node.type||"ClassExpression"===node.type)&&(node.body.body.forEach(mapSupers(node,engine)),node.$superID)){var method=parser.part("(function($field) { return super[$field] })",{field:ident("$field")}).expr;opts.babelTree?(method.type="ClassMethod",method.key=node.$superID,method.kind="method",node.body.body.push(method)):node.body.body.push({type:"MethodDefinition",key:node.$superID,kind:"method",value:method})}})}function blockifyArrows(ast){return parser.treeWalker(ast,function(node,descend,path){var awaiting=containsAwait(node);return awaiting&&"ArrowFunctionExpression"===node.type&&"BlockStatement"!==node.body.type&&(node.body={type:"BlockStatement",body:[{type:"ReturnStatement",argument:node.body}]}),descend(),!0}),ast}function exposeCompilerOpts(ast){return parser.treeWalker(ast,function(node,descend,path){descend(),"Identifier"===node.type&&"__nodent"===node.name&&coerce(node,literal(opts))}),ast}function isStrict(node){if("Program"===node.type&&"module"===node.sourceType)return!0;var nodes;if("Program"===node.type)nodes=node.body;else{if(!examine(node).isFunction)return!1;nodes=node.body.body}if(nodes)for(var i=0;i<nodes.length;i++)if(examine(nodes[i]).isDirective&&nodes[i].expression.value.match(/^\s*use\s+strict\s*$/))return!0;return!1}function containsBlockScopedDeclarations(nodes){for(var i=0;i<nodes.length;i++){var node=nodes[i];if("ClassDeclaration"===node.type||"VariableDeclaration"===node.type&&("let"===node.kind||"const"===node.kind)||"FunctionDeclaration"===node.type&&node.id&&node.id.name&&!node.$continuation)return!0}return!1}function cleanCode(ast){parser.treeWalker(ast,function(node,descend,path){if(descend(),"ArrowFunctionExpression"===node.type&&"BlockStatement"===node.body.type&&1===node.body.body.length&&"ReturnStatement"===node.body.body[0].type)node.body=node.body.body[0].argument;else{var block,child;if(block=examine(node).isBlockStatement)for(var i=0;i<block.length;i++)(child=examine(block[i]).isBlockStatement)&&!containsBlockScopedDeclarations(child)&&(containsBlockScopedDeclarations(block[i])||[].splice.apply(block,[i,1].concat(child)))}}),parser.treeWalker(ast,function(node,descend,path){if(descend(),examine(node).isJump){var ref=path[0];if("index"in ref)for(var i=ref.index+1,ctn=ref.parent[ref.field];i<ctn.length;)"VariableDeclaration"===ctn[i].type||examine(ctn[i]).isFunction&&ctn[i].id?i+=1:ctn.splice(i,1)}}),parser.treeWalker(ast,function(node,descend,path){descend(),node.$thisCall&&continuations[node.name]&&(continuations[node.name].ref?delete continuations[node.name]:continuations[node.name].ref=node.$thisCall)});var calls=Object.keys(continuations).map(function(c){return continuations[c].ref});if(calls.length){parser.treeWalker(ast,function(node,descend,path){if(descend(),calls.indexOf(node)>=0&&"ReturnStatement"===path[1].self.type){var sym=node.$thisCallName,repl=cloneNode(continuations[sym].def.body.body);continuations[sym].$inlined=!0,examine(path[1].self).isJump||repl.push({type:"ReturnStatement"}),path[1].replace(repl)}});var defs=Object.keys(continuations).map(function(c){return continuations[c].$inlined&&continuations[c].def});parser.treeWalker(ast,function(node,descend,path){descend(),defs.indexOf(node)>=0&&path[0].remove()})}var isModule="Program"===ast.type||"module"===ast.sourceType;if(!isModule||!contains(ast,function(n){return examine(n).isES6},!0)){var useStrict=isStrict(ast);!function(ast){parser.treeWalker(ast,function(node,descend,path){if("Program"===node.type||"FunctionDeclaration"===node.type||"FunctionExpression"===node.type){var wasStrict=useStrict;if(useStrict=useStrict||isStrict(node)){descend();var functionScope="Program"===node.type?node:node.body,functions=scopedNodes(functionScope,function(n,path){if("FunctionDeclaration"===n.type)return path[0].parent!==functionScope});functions=functions.map(function(path){return path[0].remove()}),[].push.apply(functionScope.body,functions)}else descend();useStrict=wasStrict}else descend()})}(ast)}return parser.treeWalker(ast,function(node,descend,path){descend(),Object.keys(node).filter(function(k){return"$"===k[0]}).forEach(function(k){delete node[k]})}),ast}var continuations={},generatedSymbol=1,genIdent={};Object.keys(opts).filter(function(k){return"$"===k[0]}).forEach(function(k){genIdent[k.slice(1)]=ident(opts[k])});var assign$Args=parser.part("var $0 = arguments",[genIdent.arguments]).body[0];return opts.engine?(pr.ast=fixSuperReferences(pr.ast,!0),pr.ast=asyncSpawn(pr.ast,opts.engine),pr.ast=exposeCompilerOpts(pr.ast),cleanCode(pr.ast)):opts.generators?(pr.ast=fixSuperReferences(pr.ast),pr.ast=asyncSpawn(pr.ast),pr.ast=exposeCompilerOpts(pr.ast),cleanCode(pr.ast)):(pr.ast=fixSuperReferences(pr.ast),asyncTransforms(pr.ast)),opts.babelTree&&parser.treeWalker(pr.ast,function(node,descend,path){descend(),"Literal"===node.type&&coerce(node,literal(node.value))}),pr}var parser=require("./parser"),outputCode=require("./output"),locationInfo={start:!0,end:!0,loc:!0,range:!0},examinations={getScope:function(){return"FunctionDeclaration"===this.node.type||"FunctionExpression"===this.node.type||"Function"===this.node.type||"ObjectMethod"===this.node.type||"ClassMethod"===this.node.type||"ArrowFunctionExpression"===this.node.type&&"BlockStatement"===this.node.body.type?this.node.body.body:"Program"===this.node.type?this.node.body:null},isScope:function(){return"FunctionDeclaration"===this.node.type||"FunctionExpression"===this.node.type||"Function"===this.node.type||"Program"===this.node.type||"ObjectMethod"===this.node.type||"ClassMethod"===this.node.type||"ArrowFunctionExpression"===this.node.type&&"BlockStatement"===this.node.body.type},isFunction:function(){return"FunctionDeclaration"===this.node.type||"FunctionExpression"===this.node.type||"Function"===this.node.type||"ObjectMethod"===this.node.type||"ClassMethod"===this.node.type||"ArrowFunctionExpression"===this.node.type},isClass:function(){return"ClassDeclaration"===this.node.type||"ClassExpression"===this.node.type},isBlockStatement:function(){return"ClassBody"===this.node.type||"Program"===this.node.type||"BlockStatement"===this.node.type?this.node.body:"SwitchCase"===this.node.type&&this.node.consequent},isExpressionStatement:function(){return"ExpressionStatement"===this.node.type},isLiteral:function(){return"Literal"===this.node.type||"BooleanLiteral"===this.node.type||"RegExpLiteral"===this.node.type||"NumericLiteral"===this.node.type||"StringLiteral"===this.node.type||"NullLiteral"===this.node.type},isDirective:function(){return"ExpressionStatement"===this.node.type&&("StringLiteral"===this.node.expression.type||"Literal"===this.node.expression.type&&"string"==typeof this.node.expression.value)},isUnaryExpression:function(){return"UnaryExpression"===this.node.type},isAwait:function(){return"AwaitExpression"===this.node.type&&!this.node.$hidden},isAsync:function(){return this.node.async},isStatement:function(){return null!==this.node.type.match(/[a-zA-Z]+Declaration/)||null!==this.node.type.match(/[a-zA-Z]+Statement/)},isExpression:function(){return null!==this.node.type.match(/[a-zA-Z]+Expression/)},isLoop:function(){return"ForStatement"===this.node.type||"WhileStatement"===this.node.type||"DoWhileStatement"===this.node.type},isJump:function(){return"ReturnStatement"===this.node.type||"ThrowStatement"===this.node.type||"BreakStatement"===this.node.type||"ContinueStatement"===this.node.type},isES6:function(){switch(this.node.type){case"ExportNamedDeclaration":case"ExportSpecifier":case"ExportDefaultDeclaration":case"ExportAllDeclaration":case"ImportDeclaration":case"ImportSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ArrowFunctionExpression":case"ForOfStatement":case"YieldExpression":case"Super":case"RestElement":case"RestProperty":case"SpreadElement":case"TemplateLiteral":case"ClassDeclaration":case"ClassExpression":return!0;case"VariableDeclaration":return this.node.kind&&"var"!==this.node.kind;case"FunctionDeclaration":case"FunctionExpression":return!!this.node.generator}}},NodeExaminer={};Object.keys(examinations).forEach(function(k){Object.defineProperty(NodeExaminer,k,{get:examinations[k]})}),module.exports={printNode:printNode,babelLiteralNode:babelLiteralNode,asynchronize:function(pr,__sourceMapping,opts,logger){try{return asynchronize(pr,__sourceMapping,opts,logger)}catch(ex){if(ex instanceof SyntaxError){var l=pr.origCode.substr(ex.pos-ex.loc.column);l=l.split("\n")[0],ex.message+=" (nodent)\n"+l+"\n"+l.replace(/[\S ]/g,"-").substring(0,ex.loc.column)+"^",ex.stack=""}throw ex}}}},{"./output":18,"./parser":19}],18:[function(require,module,exports){"use strict";function precedence(node){var p=OPERATORS_PRECEDENCE[node.type]||OPERATORS_PRECEDENCE[node.type+node.operator]||OPERATORS_PRECEDENCE[node.type+node.operator+(node.prefix?"prefix":"")];return void 0!==p?p:20}function out(node,state,type){var f=this[type||node.type];f?f.call(this,node,state):state.write(node,"/*"+node.type+"?*/ "+state.sourceAt(node.start,node.end))}function expr(state,parent,node,assoc){2===assoc||precedence(node)<precedence(parent)||precedence(node)==precedence(parent)&&(assoc||parent.right===node)?(state.write(null,"("),this.out(node,state,node.type),state.write(null,")")):this.out(node,state,node.type)}function formatParameters(params,state){var param;if(state.write(null,"("),null!=params&&params.length>0){this.out(params[0],state,params[0].type);for(var i=1,length=params.length;i<length;i++)param=params[i],state.write(param,", "),this.out(param,state,param.type)}state.write(null,") ")}var ForInStatement,RestElement,BinaryExpression,ArrayExpression,BlockStatement,repeat,SourceMapGenerator=require("source-map").SourceMapGenerator;if("".repeat)repeat=function(str,count){return count&&str?str.repeat(count):""};else{var cache={};repeat=function(str,count){if(!count||!str)return"";var k=""+str+count;if(!cache[k]){for(var out=[];count--;)out.push(str);cache[k]=out.join("")}return cache[k]}}var OPERATORS_PRECEDENCE={ExpressionStatement:-1,Identifier:21,Literal:21,BooleanLiteral:21,RegExpLiteral:21,NumericLiteral:21,StringLiteral:21,NullLiteral:21,ThisExpression:21,SuperExpression:21,ObjectExpression:21,ClassExpression:21,MemberExpression:19,CallExpression:18,NewExpression:18,ArrayExpression:17.5,FunctionExpression:17.5,FunctionDeclaration:17.5,ArrowFunctionExpression:17.5,"UpdateExpression++":17,"UpdateExpression--":17,"UpdateExpression++prefix":16,"UpdateExpression--prefix":16,UnaryExpression:16,AwaitExpression:16,"BinaryExpression**":15,"BinaryExpression*":15,"BinaryExpression/":15,"BinaryExpression%":15,"BinaryExpression+":14,"BinaryExpression-":14,"BinaryExpression<<":13,"BinaryExpression>>":13,"BinaryExpression>>>":13,"BinaryExpression<":12,"BinaryExpression<=":12,"BinaryExpression>":12,"BinaryExpression>=":12,BinaryExpressionin:12,BinaryExpressioninstanceof:12,"BinaryExpression==":11,"BinaryExpression===":11,"BinaryExpression!=":11,"BinaryExpression!==":11,"BinaryExpression&":10,"BinaryExpression^":9,"BinaryExpression|":8,"LogicalExpression&&":7,"LogicalExpression||":6,ConditionalExpression:5,AssignmentPattern:4,AssignmentExpression:4,yield:3,YieldExpression:3,SpreadElement:2,"comma-separated-list":1.5,SequenceExpression:1},CommaList={type:"comma-separated-list"},traveler={out:out,expr:expr,formatParameters:formatParameters,Program:function(node,state){var statements,statement,indent=repeat(state.indent,state.indentLevel),lineEnd=state.lineEnd;
statements=node.body;for(var i=0,length=statements.length;i<length;i++)statement=statements[i],state.write(null,indent),this.out(statement,state,statement.type),state.write(null,lineEnd)},BlockStatement:BlockStatement=function(node,state){var statements,statement,indent=repeat(state.indent,state.indentLevel++),lineEnd=state.lineEnd,statementIndent=indent+state.indent;if(state.write(node,"{"),statements=node.body,null!=statements&&statements.length>0){state.write(null,lineEnd);for(var i=0,length=statements.length;i<length;i++)statement=statements[i],state.write(null,statementIndent),this.out(statement,state,statement.type),state.write(null,lineEnd);state.write(null,indent)}state.write(node.loc?{loc:{start:{line:node.loc.end.line,column:0}}}:null,"}"),state.indentLevel--},ClassBody:BlockStatement,EmptyStatement:function(node,state){state.write(node,";")},ParenthesizedExpression:function(node,state){this.expr(state,node,node.expression,2)},ExpressionStatement:function(node,state){"FunctionExpression"===node.expression.type||"ObjectExpression"===node.expression.type?(state.write(null,"("),this.expr(state,node,node.expression),state.write(null,")")):this.expr(state,node,node.expression),state.write(null,";")},IfStatement:function(node,state){state.write(node,"if ("),this.out(node.test,state,node.test.type),state.write(null,") "),"BlockStatement"!==node.consequent.type&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel+1)),this.out(node.consequent,state,node.consequent.type),null!=node.alternate&&("BlockStatement"!==node.consequent.type&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel)),state.write(null," else "),"BlockStatement"!==node.alternate.type&&"IfStatement"!==node.alternate.type&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel+1)),this.out(node.alternate,state,node.alternate.type))},LabeledStatement:function(node,state){this.out(node.label,state,node.label.type),state.write(null,":"),this.out(node.body,state,node.body.type)},BreakStatement:function(node,state){state.write(node,"break"),node.label&&(state.write(null," "),this.out(node.label,state,node.label.type)),state.write(null,";")},ContinueStatement:function(node,state){state.write(node,"continue"),node.label&&(state.write(null," "),this.out(node.label,state,node.label.type)),state.write(null,";")},WithStatement:function(node,state){state.write(node,"with ("),this.out(node.object,state,node.object.type),state.write(null,") "),this.out(node.body,state,node.body.type)},SwitchStatement:function(node,state){var occurence,consequent,statement,indent=repeat(state.indent,state.indentLevel++),lineEnd=state.lineEnd;state.indentLevel++;var caseIndent=indent+state.indent,statementIndent=caseIndent+state.indent;state.write(node,"switch ("),this.out(node.discriminant,state,node.discriminant.type),state.write(null,") {",lineEnd);for(var occurences=node.cases,i=0;i<occurences.length;i++){occurence=occurences[i],occurence.test?(state.write(occurence,caseIndent,"case "),this.out(occurence.test,state,occurence.test.type),state.write(null,":",lineEnd)):state.write(occurence,caseIndent,"default:",lineEnd),consequent=occurence.consequent;for(var j=0;j<consequent.length;j++)statement=consequent[j],state.write(null,statementIndent),this.out(statement,state,statement.type),state.write(null,lineEnd)}state.indentLevel-=2,state.write(null,indent,"}")},ReturnStatement:function(node,state){node.async&&state.write(node," async "),state.write(node,"return"),node.argument&&(state.write(null," "),this.out(node.argument,state,node.argument.type)),state.write(null,";")},ThrowStatement:function(node,state){node.async&&state.write(node," async "),state.write(node,"throw "),this.out(node.argument,state,node.argument.type),state.write(null,";")},TryStatement:function(node,state){state.write(node,"try "),this.out(node.block,state,node.block.type),node.handler&&this.out(node.handler,state,node.handler.type),node.finalizer&&(state.write(node.finalizer," finally "),this.out(node.finalizer,state,node.finalizer.type))},CatchClause:function(node,state){state.write(node," catch ("),this.out(node.param,state,node.param.type),state.write(null,") "),this.out(node.body,state,node.body.type)},WhileStatement:function(node,state){state.write(node,"while ("),this.out(node.test,state,node.test.type),state.write(null,") "),"BlockStatement"!==node.body.type&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel+1)),this.out(node.body,state,node.body.type)},DoWhileStatement:function(node,state){state.write(node,"do "),"BlockStatement"!==node.body.type&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel+1)),this.out(node.body,state,node.body.type),state.write(null," while ("),this.out(node.test,state,node.test.type),state.write(null,");")},ForStatement:function(node,state){if(state.write(node,"for ("),null!=node.init){var init=node.init,type=init.type;state.inForInit++,this.out(init,state,type),state.inForInit--,"VariableDeclaration"!==type&&state.write(null,"; ")}else state.write(null,"; ");node.test&&this.out(node.test,state,node.test.type),state.write(null,"; "),node.update&&this.out(node.update,state,node.update.type),state.write(null,") "),"BlockStatement"!==node.body.type&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel+1)),this.out(node.body,state,node.body.type)},ForInStatement:ForInStatement=function(node,state){state.write(node,"for (");var left=node.left,type=left.type;state.inForInit++,this.out(left,state,type),"V"===type[0]&&19===type.length&&state.back(),state.inForInit--,state.write(null,"I"===node.type[3]?" in ":" of "),this.out(node.right,state,node.right.type),state.write(null,") "),"BlockStatement"!==node.body.type&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel+1)),this.out(node.body,state,node.body.type)},ForOfStatement:ForInStatement,DebuggerStatement:function(node,state){state.write(node,"debugger;")},Function:function(node,state){node.async&&state.write(node,"async "),state.write(node,node.generator?"function* ":"function "),node.id&&state.write(node.id,node.id.name),this.formatParameters(node.params,state),this.out(node.body,state,node.body.type)},FunctionDeclaration:function(node,state){this.Function(node,state),state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel))},FunctionExpression:function(node,state){this.Function(node,state)},VariableDeclaration:function(node,state){var declarations=node.declarations;state.write(node,node.kind," ");var length=declarations.length;if(length>0){this.out(declarations[0],state,"VariableDeclarator");for(var i=1;i<length;i++)state.write(null,", "),this.out(declarations[i],state,"VariableDeclarator")}state.write(null,";")},VariableDeclarator:function(node,state){this.out(node.id,state,node.id.type),null!=node.init&&(state.write(null," = "),this.expr(state,CommaList,node.init))},ClassDeclaration:function(node,state){state.write(node,"class "),node.id&&state.write(node.id,node.id.name+" "),node.superClass&&(state.write(null,"extends "),this.out(node.superClass,state,node.superClass.type),state.write(null," ")),this.out(node.body,state,"BlockStatement")},ImportSpecifier:function(node,state){node.local.name==node.imported.name?this.out(node.local,state,node.local.type):(this.out(node.imported,state,node.imported.type),state.write(null," as "),this.out(node.local,state,node.local.type))},ImportDefaultSpecifier:function(node,state){this.out(node.local,state,node.local.type)},ImportNamespaceSpecifier:function(node,state){state.write(null,"* as "),this.out(node.local,state,node.local.type)},ImportDeclaration:function(node,state){var i;state.write(node,"import ");var specifiers=node.specifiers,length=specifiers.length,block=!0;if(length>0){for(var i=0;i<length;i++)"ImportSpecifier"===specifiers[i].type&&block&&(block=!1,state.write(null,"{")),this.out(specifiers[i],state,specifiers[i].type),i<length-1&&state.write(null,", ");"ImportSpecifier"===specifiers[length-1].type&&state.write(null,"}"),state.write(null," from ")}state.write(node.source,node.source.raw),state.write(null,";")},ExportDefaultDeclaration:function(node,state){state.write(node,"export default "),this.out(node.declaration,state,node.declaration.type)},ExportSpecifier:function(node,state){node.local.name==node.exported.name?this.out(node.local,state,node.local.type):(this.out(node.local,state,node.local.type),state.write(null," as "),this.out(node.exported,state,node.exported.type))},ExportNamedDeclaration:function(node,state){if(state.write(node,"export "),node.declaration)this.out(node.declaration,state,node.declaration.type);else{var specifiers=node.specifiers;if(state.write(node,"{"),specifiers&&specifiers.length>0)for(var i=0;i<specifiers.length;i++)this.out(specifiers[i],state,specifiers[i].type),i<specifiers.length-1&&state.write(null,", ");state.write(null,"}"),node.source&&state.write(node.source," from ",node.source.raw),state.write(null,";")}},ExportAllDeclaration:function(node,state){state.write(node,"export * from "),state.write(node.source,node.source.raw,";")},MethodDefinition:function(node,state){switch(node.value.async&&state.write(node,"async "),node.static&&state.write(node,"static "),node.kind){case"get":case"set":state.write(node,node.kind," ")}node.value.generator&&state.write(null,"*"),node.computed?(state.write(null,"["),this.out(node.key,state,node.key.type),state.write(null,"]")):this.out(node.key,state,node.key.type),this.formatParameters(node.value.params,state),this.out(node.value.body,state,node.value.body.type)},ClassMethod:function(node,state){switch(node.async&&state.write(node,"async "),node.static&&state.write(node,"static "),node.kind){case"get":case"set":state.write(node,node.kind," ")}node.generator&&state.write(null,"*"),node.computed?(state.write(null,"["),this.out(node.key,state,node.key.type),state.write(null,"]")):this.out(node.key,state,node.key.type),this.formatParameters(node.params,state),this.out(node.body,state,node.body.type)},ClassExpression:function(node,state){this.out(node,state,"ClassDeclaration")},ArrowFunctionExpression:function(node,state){node.async&&state.write(node,"async "),1===node.params.length&&"Identifier"===node.params[0].type?(this.out(node.params[0],state,node.params[0].type),state.write(node," => ")):(this.formatParameters(node.params,state),state.write(node,"=> ")),"ObjectExpression"===node.body.type||"SequenceExpression"===node.body.type?(state.write(null,"("),this.out(node.body,state,node.body.type),state.write(null,")")):this.out(node.body,state,node.body.type)},ThisExpression:function(node,state){state.write(node,"this")},Super:function(node,state){state.write(node,"super")},RestElement:RestElement=function(node,state){state.write(node,"..."),this.out(node.argument,state,node.argument.type)},SpreadElement:RestElement,YieldExpression:function(node,state){state.write(node,node.delegate?"yield*":"yield"),node.argument&&(state.write(null," "),this.expr(state,node,node.argument))},AwaitExpression:function(node,state){state.write(node,"await "),this.expr(state,node,node.argument)},TemplateLiteral:function(node,state){var expression,quasis=node.quasis,expressions=node.expressions;state.write(node,"`");for(var i=0,length=expressions.length;i<length;i++)expression=expressions[i],state.write(quasis[i].value,quasis[i].value.raw),state.write(null,"${"),this.out(expression,state,expression.type),state.write(null,"}");state.write(quasis[quasis.length-1].value,quasis[quasis.length-1].value.raw),state.write(node,"`")},TaggedTemplateExpression:function(node,state){this.out(node.tag,state,node.tag.type),this.out(node.quasi,state,node.quasi.type)},ArrayExpression:ArrayExpression=function(node,state){if(state.write(node,"["),node.elements.length>0)for(var elements=node.elements,length=elements.length,i=0;;){var element=elements[i];if(element&&this.expr(state,CommaList,element),i+=1,(i<length||null===element)&&state.write(null,","),i>=length)break;state.lineLength()>state.wrapColumn&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel+1))}state.write(null,"]")},ArrayPattern:ArrayExpression,ObjectExpression:function(node,state){var property,indent=repeat(state.indent,state.indentLevel++),lineEnd=state.lineEnd,propertyIndent=indent+state.indent;if(state.write(node,"{"),node.properties.length>0){state.write(null,lineEnd);for(var properties=node.properties,length=properties.length,i=0;property=properties[i],state.write(null,propertyIndent),this.out(property,state,"Property"),++i<length;)state.write(node,",",lineEnd),state.lineLength()>state.wrapColumn&&state.write(null,state.lineEnd,repeat(state.indent,state.indentLevel+1));state.write(null,lineEnd,indent,"}")}else state.write(null,"}");state.indentLevel--},Property:function(node,state){node.method||"get"===node.kind||"set"===node.kind?this.MethodDefinition(node,state):(node.shorthand||(node.computed?(state.write(null,"["),this.out(node.key,state,node.key.type),state.write(null,"]")):this.out(node.key,state,node.key.type),state.write(null,": ")),this.expr(state,CommaList,node.value))},ObjectPattern:function(node,state){if(state.write(node,"{"),node.properties.length>0)for(var properties=node.properties,length=properties.length,i=0;this.out(properties[i],state,"Property"),++i<length;)state.write(null,", ");state.write(null,"}")},SequenceExpression:function(node,state){var expression,expressions=node.expressions;if(expressions.length>0)for(var length=expressions.length,i=0;i<length;i++)expression=expressions[i],i&&state.write(null,", "),this.expr(state,CommaList,expression)},UnaryExpression:function(node,state){node.prefix?(state.write(node,node.operator),node.operator.length>1&&state.write(node," "),this.expr(state,node,node.argument,!0)):(this.expr(state,node,node.argument),state.write(node,node.operator))},UpdateExpression:function(node,state){node.prefix?(state.write(node,node.operator),this.out(node.argument,state,node.argument.type)):(this.out(node.argument,state,node.argument.type),state.write(node,node.operator))},BinaryExpression:BinaryExpression=function(node,state){var operator=node.operator;"in"===operator&&state.inForInit&&state.write(null,"("),this.expr(state,node,node.left),state.write(node," ",operator," "),this.expr(state,node,node.right,"ArrowFunctionExpression"===node.right.type?2:0),"in"===operator&&state.inForInit&&state.write(null,")")},LogicalExpression:BinaryExpression,AssignmentExpression:function(node,state){"ObjectPattern"===node.left.type&&state.write(null,"("),this.BinaryExpression(node,state),"ObjectPattern"===node.left.type&&state.write(null,")")},AssignmentPattern:function(node,state){this.expr(state,node,node.left),state.write(node," = "),this.expr(state,node,node.right)},ConditionalExpression:function(node,state){this.expr(state,node,node.test,!0),state.write(node," ? "),this.expr(state,node,node.consequent),state.write(null," : "),this.expr(state,node,node.alternate)},NewExpression:function(node,state){state.write(node,"new "),this.out(node,state,"CallExpression")},CallExpression:function(node,state){this.expr(state,node,node.callee,"ObjectExpression"===node.callee.type?2:0),state.write(node,"(");var args=node.arguments;if(args.length>0)for(var length=args.length,i=0;i<length;i++)0!=i&&state.write(null,", "),this.expr(state,CommaList,args[i]);state.write(null,")")},MemberExpression:function(node,state){var requireParens="ObjectExpression"===node.object.type||node.object.type.match(/Literal$/)&&node.object.raw.match(/^[0-9]/),noParens=!requireParens&&("ArrayExpression"===node.object.type||"CallExpression"===node.object.type||"NewExpression"===node.object.type||precedence(node)<=precedence(node.object));noParens?this.out(node.object,state,node.object.type):(state.write(null,"("),this.out(node.object,state,node.object.type),state.write(null,")")),node.computed?(state.write(node,"["),this.out(node.property,state,node.property.type),state.write(null,"]")):(state.write(node,"."),this.out(node.property,state,node.property.type))},Identifier:function(node,state){state.write(node,node.name)},Literal:function(node,state){state.write(node,node.raw)},NullLiteral:function(node,state){state.write(node,"null")},BooleanLiteral:function(node,state){state.write(node,JSON.stringify(node.value))},StringLiteral:function(node,state){state.write(node,JSON.stringify(node.value))},RegExpLiteral:function(node,state){state.write(node,node.extra.raw||"/"+node.pattern+"/"+node.flags)},NumericLiteral:function(node,state){state.write(node,JSON.stringify(node.value))}};module.exports=function(node,options,originalSource){function write(node){backBy=arguments[arguments.length-1];for(var i=1;i<arguments.length;i++){if(map&&node&&node.loc&&node.loc.start){var startOfLine=!1;map.addMapping({source:options.map.file,original:{line:node.loc.start.line,column:startOfLine?0:node.loc.start.column},generated:{line:options.map.startLine+lines.length+1,column:startOfLine?0:buffer.length}})}if(arguments[i]===st.lineEnd){if(trailingComments.length&&(trailingComments.forEach(function(c){"Line"===c.type?buffer+=" // "+c.value:((" /*"+c.value+"*/").split("\n").forEach(function(v){buffer+=v,lines.push(buffer),buffer=""}),buffer=lines.pop())}),trailingComments=[]),lines.push(buffer),buffer="",leadingComments.length){var preceeding=lines.pop();leadingComments.forEach(function(c){var indent=repeat(st.indent,c.indent);"Line"===c.type?lines.push(indent+"//"+c.value):(indent+"/*"+c.value+"*/").split("\n").forEach(function(l){lines.push(l)})}),lines.push(preceeding),leadingComments=[]}}else buffer+=arguments[i],node&&node.$comments&&(node.$comments.forEach(function(c){var trailing=node.loc.start.column<c.loc.start.column;c.indent=st.indentLevel,trailing?trailingComments.push(c):leadingComments.push(c)}),node.$comments=null)}}function lineLength(){return buffer.length}function sourceAt(start,end){return originalSource?originalSource.substring(start,end):"/* Omitted Non-standard node */"}function back(){buffer=buffer.substring(0,buffer.length-backBy.length)}options=options||{};var buffer="",lines=[],map=options.map&&new SourceMapGenerator(options.map);map&&options.map.sourceContent&&map.setSourceContent(options.map.file,options.map.sourceContent);var backBy="",leadingComments=[],trailingComments=[],st={inForInit:0,lineLength:lineLength,sourceAt:sourceAt,write:write,back:back,indent:"    ",lineEnd:"\n",indentLevel:0,wrapColumn:80};traveler.out(node,st),trailingComments=node.$comments||[],st.write(node,st.lineEnd);var result=lines.join(st.lineEnd);return options&&options.map?{code:result,map:map}:result}},{"source-map":39}],19:[function(require,module,exports){"use strict";function loc(old,repl){["start","end","loc","range"].forEach(function(k){k in old&&!(k in repl)&&(repl[k]=old[k])})}function treeWalker(n,walker,state){function goDown(ref){ref.replace=referencePrototypes.replace,ref.append=referencePrototypes.append,ref.index?(Object.defineProperties(ref,{index:{enumerable:!0,get:referencePrototypes.index}}),ref.remove=referencePrototypes.removeElement):ref.remove=referencePrototypes.removeNode,state.unshift(ref),treeWalker(ref.self,walker,state),state.shift()}function descend(){n.type in acornBase&&acornBase[n.type](n,state,function down(sub,_,derivedFrom){if(sub===n)return acornBase[derivedFrom||n.type](n,state,down);for(var keys=Object.keys(n),i=0;i<keys.length;i++){var v=n[keys[i]];Array.isArray(v)?v.indexOf(sub)>=0&&goDown({self:sub,parent:n,field:keys[i],index:!0}):v instanceof Object&&sub===v&&goDown({self:sub,parent:n,field:keys[i]})}})}return state||(state=[{self:n}],state.replace=function(pos,newNode){state[pos].replace(newNode)}),walker(n,descend,state),n}function acornParse(code,config){var comments=[],options={plugins:{asyncawait:{asyncExits:!0,awaitAnywhere:!0}},ecmaVersion:8,allowHashBang:!0,allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0,locations:!0,onComment:comments};if(config)for(var k in config)options[k]=config[k];var ast=acorn.parse(code,options);return treeWalker(ast,function(node,descend,path){for(descend();comments.length&&node.loc&&node.loc.start.line>=comments[0].loc.start.line&&node.loc.end.line>=comments[0].loc.end.line;)node.$comments=node.$comments||[],node.$comments.push(comments.shift())}),ast}function partialParse(code,args){function substitute(src,dest){if(Array.isArray(dest)&&!Array.isArray(src))throw new Error("Can't substitute an array for a node");return dest=dest||{},Object.keys(src).forEach(function(k){function moreNodes(v){return"function"==typeof v&&(v=v()),dest=dest.concat(v)}function copyNode(v){return"function"==typeof v&&(v=v()),dest[k]=v,dest}if(!(src[k]instanceof Object))return dest[k]=src[k];if(Array.isArray(src[k]))return dest[k]=substitute(src[k],[]);var p;if(p=Array.isArray(dest)?moreNodes:copyNode,"Identifier"===src[k].type&&"$"===src[k].name[0])return p(args[src[k].name.slice(1)]);if("LabeledStatement"===src[k].type&&"$"===src[k].label.name){var spec=src[k].body.expression;return p(args[spec.name||spec.value])}return p("LabeledStatement"===src[k].type&&"$$"===src[k].label.name.slice(0,2)?args[src[k].label.name.slice(2)](substitute(src[k]).body):substitute(src[k]))}),dest}parseCache[code]||(parseCache[code]=acornParse(code,{locations:!1,ranges:!1,onComment:null}));var result=substitute(parseCache[code]);return{body:result.body,expr:"ExpressionStatement"===result.body[0].type?result.body[0].expression:null}}var acorn=require("acorn"),acornWalk=require("acorn/dist/walk"),walkers={AwaitExpression:function(node,st,c){c(node.argument,st,"Expression")},SwitchStatement:function(node,st,c){c(node.discriminant,st,"Expression");for(var i=0;i<node.cases.length;++i)c(node.cases[i],st)},SwitchCase:function(node,st,c){node.test&&c(node.test,st,"Expression");for(var i=0;i<node.consequent.length;++i)c(node.consequent[i],st,"Statement")},TryStatement:function(node,st,c){c(node.block,st,"Statement"),node.handler&&c(node.handler,st,"Statement"),node.finalizer&&c(node.finalizer,st,"Statement")},CatchClause:function(node,st,c){c(node.param,st,"Pattern"),c(node.body,st,"ScopeBody")},Class:function(node,st,c){node.id&&c(node.id,st,"Pattern"),node.superClass&&c(node.superClass,st,"Expression"),c(node.body,st)},ClassBody:function(node,st,c){for(var i=0;i<node.body.length;i++)c(node.body[i],st)},ClassProperty:function(node,st,c){node.key&&c(node.key,st,"Expression"),node.value&&c(node.value,st,"Expression")},ClassMethod:function(node,st,c){node.key&&c(node.key,st,"Expression"),c(node,st,"Function")},ObjectProperty:function(node,st,c){node.key&&c(node.key,st,"Expression"),node.value&&c(node.value,st,"Expression")},ObjectMethod:function(node,st,c){node.key&&c(node.key,st,"Expression"),c(node,st,"Function")}},acornBase=acornWalk.make(walkers),referencePrototypes={replace:function(newNode){return Array.isArray(newNode)&&1===newNode.length&&(newNode=newNode[0]),"index"in this?(loc(this.parent[this.field][this.index],newNode),Array.isArray(newNode)?[].splice.apply(this.parent[this.field],[this.index,1].concat(newNode)):this.parent[this.field][this.index]=newNode):(loc(this.parent[this.field],newNode),Array.isArray(newNode)?this.parent[this.field]={type:"BlockStatement",body:newNode}:this.parent[this.field]=newNode),this.self},append:function(newNode){if(Array.isArray(newNode)&&1===newNode.length&&(newNode=newNode[0]),!("index"in this))throw new Error("Cannot append Element node to non-array");return Array.isArray(newNode)?[].splice.apply(this.parent[this.field],[this.index+1,0].concat(newNode)):this.parent[this.field].splice(this.index+1,0,newNode),this.self},index:function(){return this.parent[this.field].indexOf(this.self)},removeElement:function(){return this.parent[this.field].splice(this.index,1)[0]},removeNode:function(){var r=this.parent[this.field];return delete this.parent[this.field],r}};require("acorn-es7-plugin")(acorn);var parseCache={};module.exports={part:partialParse,parse:acornParse,treeWalker:treeWalker,_acorn:acorn}},{acorn:11,"acorn-es7-plugin":8,"acorn/dist/walk":12}],20:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__dirname){"use strict";function copyObj(a){var o={};return a.forEach(function(b){if(b&&"object"==typeof b)for(var k in b)o[k]=b[k]}),o}function globalErrorHandler(err){throw err}function noLogger(){}function isDirective(node){return"ExpressionStatement"===node.type&&("StringLiteral"===node.expression.type||"Literal"===node.expression.type&&"string"==typeof node.expression.value)}function parseCompilerOptions(code,log,filename){log||(log=console.warn.bind(console));var regex,set,parseOpts={};if("string"==typeof code)(regex=code.match(useDirective))&&(set=regex[1]||"default");else for(var i=0;i<code.body.length&&isDirective(code.body[i].type);i++){var test="'"+code.body[i].value+"'";if(regex=test.match(useDirective)){set=regex[1]||"default";break}}if(!regex){if(!defaultCodeGenOpts.noUseDirective)return null;set="default",regex=[null,null,"{}"]}if(set)try{filename?require("fs").lstatSync(filename).isDirectory()&&(filename=require("path").dirname(filename)):filename=require("path").resolve(".");var packagePath=require("resolve").sync("package.json",{moduleDirectory:[""],extensions:[""],basedir:filename}),packageOptions=JSON.parse(fs.readFileSync(packagePath)).nodent.directive[set]}catch(ex){}try{parseOpts=copyObj([optionSets[set],packageOptions,regex[2]&&JSON.parse(regex[2])])}catch(ex){log("Invalid literal compiler option: "+(regex&&regex[0]||"<no options found>"))}return parseOpts.promises||parseOpts.es7||parseOpts.generators||parseOpts.engine?((parseOpts.promises||parseOpts.es7)&&parseOpts.generators&&(log("No valid 'use nodent' directive, assumed -es7 mode"),parseOpts=optionSets.es7),(parseOpts.generators||parseOpts.engine)&&(parseOpts.promises=!0),parseOpts.promises&&(parseOpts.es7=!0),parseOpts):null}function stripBOM(content){return 65279===content.charCodeAt(0)&&(content=content.slice(1)),"#!"===content.substring(0,2)&&(content="//"+content),content}function btoa(str){var buffer;return buffer=str instanceof Buffer?str:new Buffer(str.toString(),"binary"),buffer.toString("base64")}function compileNodentedFile(nodent,log){return log=log||nodent.log,function(mod,filename,parseOpts){var content=stripBOM(fs.readFileSync(filename,"utf8")),pr=nodent.parse(content,filename,parseOpts);parseOpts=parseOpts||parseCompilerOptions(pr.ast,log,filename),nodent.asynchronize(pr,void 0,parseOpts,log),nodent.prettyPrint(pr,parseOpts),mod._compile(pr.code,pr.filename)}}function asyncify(promiseProvider){return promiseProvider=promiseProvider||Thenable,function(obj,filter,suffix){if(Array.isArray(filter)){var names=filter;filter=function(k,o){return names.indexOf(k)>=0}}else filter=filter||function(k,o){return!(k.match(/Sync$/)&&k.replace(/Sync$/,"")in o)};suffix||(suffix="");var o=Object.create(obj);for(var j in o)(function(){var k=j;try{"function"!=typeof obj[k]||o[k+suffix]&&o[k+suffix].isAsync||!filter(k,o)||(o[k+suffix]=function(){var a=Array.prototype.slice.call(arguments),resolver=function($return,$error){var cb=function(err,ok){if(err)return $error(err);switch(arguments.length){case 0:return $return();case 2:return $return(ok);default:return $return(Array.prototype.slice.call(arguments,1))}};a.length>obj[k].length?a.push(cb):a[obj[k].length-1]=cb;obj[k].apply(obj,a)};return new promiseProvider(resolver)},o[k+suffix].isAsync=!0)}catch(ex){}})();return o.super=obj,o}}function prettyPrint(pr,opts){var filepath=pr.filename.split("/"),filename=filepath.pop(),out=outputCode(pr.ast,opts&&opts.sourcemap?{map:{startLine:opts.mapStartLine||0,file:filename+"(original)",sourceMapRoot:filepath.join("/"),sourceContent:pr.origCode}}:null,pr.origCode);if(opts&&opts.sourcemap)try{var mapUrl="",jsmap=out.map.toJSON();if(jsmap){var SourceMapConsumer=require("source-map").SourceMapConsumer;pr.sourcemap=jsmap,smCache[pr.filename]={map:jsmap,smc:new SourceMapConsumer(jsmap)},mapUrl="\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(JSON.stringify(jsmap))+"\n"}pr.code=out.code+mapUrl}catch(ex){pr.code=out}else pr.code=out;return pr}function parseCode(code,origFilename,__sourceMapping,opts){"object"==typeof __sourceMapping&&void 0===opts&&(opts=__sourceMapping);var r={origCode:code.toString(),filename:origFilename};try{return r.ast=parser.parse(r.origCode,opts&&opts.parser),opts.babelTree&&parser.treeWalker(r.ast,function(node,descend,path){"Literal"===node.type?path[0].replace(treeSurgeon.babelLiteralNode(node.value)):"Property"===node.type&&("ClassBody"===path[0].parent.type?node.type="ClassProperty":node.type="ObjectProperty"),descend()}),r}catch(ex){if(ex instanceof SyntaxError){var l=r.origCode.substr(ex.pos-ex.loc.column);l=l.split("\n")[0],ex.message+=" "+origFilename+" (nodent)\n"+l+"\n"+l.replace(/[\S ]/g,"-").substring(0,ex.loc.column)+"^",ex.stack=""}throw ex}}function requireCover(cover,opts){opts=opts||{};var key=cover+"|"+Object.keys(opts).sort().reduce(function(a,k){return a+k+JSON.stringify(opts[k])},"");return this.covers[key]||(cover.indexOf("/")>=0?this.covers[key]=require(cover):this.covers[key]=require(__dirname+"/covers/"+cover)),this.covers[key](this,opts)}function compile(code,origFilename,__sourceMapping,opts){"object"==typeof __sourceMapping&&void 0===opts&&(opts=__sourceMapping),opts=opts||{};for(var k in defaultCodeGenOpts)k in opts||(opts[k]=defaultCodeGenOpts[k]);var pr=this.parse(code,origFilename,null,opts);return this.asynchronize(pr,null,opts,this.log||noLogger),this.prettyPrint(pr,opts),pr}function generateRequestHandler(path,matchRegex,options){var cache={},compiler=this;matchRegex||(matchRegex=/\.njs$/),options?options.compiler||(options.compiler={}):options={compiler:{}};var compilerOptions=copyObj([initialCodeGenOpts,options.compiler]);return function(req,res,next){function sendException(ex){res.statusCode=500,res.write(ex.toString()),res.end()}if(cache[req.url])return res.setHeader("Content-Type",cache[req.url].contentType),options.setHeaders&&options.setHeaders(res),res.write(cache[req.url].output),void res.end();if(!(req.url.match(matchRegex)||options.htmlScriptRegex&&req.url.match(options.htmlScriptRegex)))return next&&next();var filename=path+req.url;if(options.extensions&&!fs.existsSync(filename))for(var i=0;i<options.extensions.length;i++)if(fs.existsSync(filename+"."+options.extensions[i])){filename=filename+"."+options.extensions[i];break}fs.readFile(filename,function(err,content){if(err)return sendException(err);try{var pr,contentType;options.htmlScriptRegex&&req.url.match(options.htmlScriptRegex)?(pr=require("./htmlScriptParser")(compiler,content.toString(),req.url,options),contentType="text/html"):(options.runtime?(pr="Function.prototype."+compilerOptions.$asyncbind+" = "+$asyncbind.toString()+";",compilerOptions.generators&&(pr+="Function.prototype."+compilerOptions.$asyncspawn+" = "+$asyncspawn.toString()+";"),compilerOptions.wrapAwait&&!compilerOptions.promises&&(pr+="Object."+compilerOptions.$makeThenable+" = "+Thenable.resolve.toString()+";"),compilerOptions.mapStartLine=pr.split("\n").length,pr+="\n"):pr="",pr+=compiler.compile(content.toString(),req.url,null,compilerOptions).code,contentType="application/javascript"),res.setHeader("Content-Type",contentType),options.enableCache&&(cache[req.url]={output:pr,contentType:contentType}),options.setHeaders&&options.setHeaders(res),res.write(pr),res.end()}catch(ex){return sendException(ex)}})}}function NodentCompiler(members){this.covers={},this._ident=NodentCompiler.prototype.version+"_"+Math.random(),this.setOptions(members)}function prepareMappedStackTrace(error,stack){function mappedTrace(frame){var source=frame.getFileName();if(source&&smCache[source]){var position=smCache[source].smc.originalPositionFor({line:frame.getLineNumber(),column:frame.getColumnNumber()});if(position&&position.line){var desc=frame.toString();return"\n    at "+desc.substring(0,desc.length-1)+" => …"+position.source+":"+position.line+":"+position.column+(frame.getFunctionName()?")":"");
}}return"\n    at "+frame}return error+stack.map(mappedTrace).join("")}function setGlobalEnvironment(initOpts){var augmentFunction={};augmentFunction[defaultCodeGenOpts.$asyncbind]={value:$asyncbind,writable:!0,enumerable:!1,configurable:!0},augmentFunction[defaultCodeGenOpts.$asyncspawn]={value:$asyncspawn,writable:!0,enumerable:!1,configurable:!0};try{Object.defineProperties(Function.prototype,augmentFunction)}catch(ex){initOpts.log("Function prototypes already assigned: ",ex.messsage)}defaultCodeGenOpts[defaultCodeGenOpts.$error]in global||(global[defaultCodeGenOpts[defaultCodeGenOpts.$error]]=globalErrorHandler),initOpts.augmentObject&&Object.defineProperties(Object.prototype,{asyncify:{value:function(promiseProvider,filter,suffix){return asyncify(promiseProvider)(this,filter,suffix)},writable:!0,configurable:!0},isThenable:{value:function(){return Thenable.isThenable(this)},writable:!0,configurable:!0}}),Object[defaultCodeGenOpts.$makeThenable]=Thenable.resolve}function initialize(initOpts){function compareSemVer(a,b){a=a.split("."),b=b.split(".");for(var i=0;i<3;i++){if(a[i]<b[i])return-1;if(a[i]>b[i])return 1}return 0}function versionAwareNodentJSLoader(mod,filename){if(!filename.match(/nodent\/nodent\.js$/)){if(filename.match(/node_modules\/nodent\/.*\.js$/))return stdJSLoader(mod,filename);for(var n=0;n<nodentLoaders.length;n++)if(filename.slice(0,nodentLoaders[n].path.length)==nodentLoaders[n].path){if(nodentLoaders[n].jsCompiler){if(nodentLoaders[n].jsCompiler===versionAwareNodentJSLoader)break;return nodentLoaders[n].jsCompiler.apply(this,arguments)}return stdJSLoader(mod,filename)}var content=stripBOM(fs.readFileSync(filename,"utf8")),parseOpts=parseCompilerOptions(content,initOpts.log,filename);return parseOpts?stdCompiler(mod,filename,parseOpts):stdJSLoader(mod,filename)}var downLevel={path:filename.replace(/\/node_modules\/nodent\/nodent\.js$/,"")};downLevel.path&&(downLevel.version=JSON.parse(fs.readFileSync(filename.replace(/nodent\.js$/,"package.json"))).version,stdJSLoader(mod,filename),compareSemVer(downLevel.version,NodentCompiler.prototype.version)<0&&(downLevel.originalNodentLoader=mod.exports,mod.exports=function(){var previousJSLoader=require.extensions[".js"],defaultNodentInstance=downLevel.originalNodentLoader.apply(this,arguments);return downLevel.jsCompiler=require.extensions[".js"],require.extensions[".js"]=previousJSLoader,setGlobalEnvironment(initOpts),defaultNodentInstance},Object.keys(downLevel.originalNodentLoader).forEach(function(k){mod.exports[k]=downLevel.originalNodentLoader[k]}),nodentLoaders.push(downLevel),nodentLoaders=nodentLoaders.sort(function(a,b){return b.path.length-a.path.length})))}function registerExtension(extension){if(Array.isArray(extension))return extension.forEach(registerExtension);if(require.extensions[extension]){var changedKeys=Object.keys(initOpts).filter(function(k){return compiler[k]!=initOpts[k]});changedKeys.length&&initOpts.log("File extension "+extension+" already configured for async/await compilation.")}require.extensions[extension]=compileNodentedFile(compiler,initOpts.log)}if(initOpts){for(var k in initOpts)if("use"!==k&&!config.hasOwnProperty(k))throw new Error("NoDent: unknown option: "+k+"="+JSON.stringify(initOpts[k]))}else initOpts={};compiler?compiler.setOptions(initOpts):(Object.keys(config).forEach(function(k){k in initOpts||(initOpts[k]=config[k])}),compiler=new NodentCompiler(initOpts)),initOpts.dontMapStackTraces||(Error.prepareStackTrace=prepareMappedStackTrace),setGlobalEnvironment(initOpts);var nodentLoaders=[];if(!initOpts.dontInstallRequireHook){if(!stdJSLoader){stdJSLoader=require.extensions[".js"];var stdCompiler=compileNodentedFile(compiler,initOpts.log);require.extensions[".js"]=versionAwareNodentJSLoader}initOpts.extension&&registerExtension(initOpts.extension)}return initOpts.use&&(Array.isArray(initOpts.use)?(initOpts.log("Warning: nodent({use:[...]}) is deprecated. Use nodent.require(module,options)\n"+(new Error).stack.split("\n")[2]),initOpts.use.length&&initOpts.use.forEach(function(x){compiler[x]=compiler.require(x)})):(initOpts.log("Warning: nodent({use:{...}}) is deprecated. Use nodent.require(module,options)\n"+(new Error).stack.split("\n")[2]),Object.keys(initOpts.use).forEach(function(x){compiler[x]=compiler.require(x,initOpts.use[x])}))),compiler}function runFromCLI(){function readStream(stream){return new Thenable(function($return,$error){var buffer=[];stream.on("data",function(data){buffer.push(data)}),stream.on("end",function(){var code=buffer.map(function(b){return b.toString()}).join("");return $return(code)}),stream.on("error",$error)}.$asyncbind(this))}function getCLIOpts(start){for(var o=[],i=start||2;i<process.argv.length;i++)if("--"===process.argv[i].slice(0,2)){var opt=process.argv[i].slice(2).split("=");o[opt[0]]=opt[1]||!0}else o.push(process.argv[i]);return o}function processInput(content,name){try{var pr,parseOpts;if(cli.fromast){if(content=JSON.parse(content),pr={origCode:"",filename:filename,ast:content},parseOpts=parseCompilerOptions(content,nodent.log),!parseOpts){var directive=cli.use?'"use nodent-'+cli.use+'";':'"use nodent";';parseOpts=parseCompilerOptions(directive,nodent.log),console.warn("/* "+filename+": No 'use nodent*' directive, assumed "+directive+" */")}}else parseOpts=parseCompilerOptions(cli.use?'"use nodent-'+cli.use+'";':content,nodent.log),parseOpts||(parseOpts=parseCompilerOptions('"use nodent";',nodent.log),cli.dest||console.warn("/* "+filename+": 'use nodent*' directive missing/ignored, assumed 'use nodent;' */")),pr=nodent.parse(content,filename,parseOpts);if(cli.parseast||cli.pretty||nodent.asynchronize(pr,void 0,parseOpts,nodent.log),nodent.prettyPrint(pr,parseOpts),cli.out||cli.pretty||cli.dest){if(cli.dest&&!name)throw new Error("Can't write unknown file to "+cli.dest);var output="";cli.runtime&&(output+="Function.prototype.$asyncbind = "+Function.prototype.$asyncbind.toString()+";\n",output+="global.$error = global.$error || "+global.$error.toString()+";\n"),output+=pr.code,name&&cli.dest?(fs.writeFileSync(cli.dest+name,output),console.log("Compiled",cli.dest+name)):console.log(output)}(cli.minast||cli.parseast)&&console.log(JSON.stringify(pr.ast,function(key,value){return"$"===key[0]||key.match(/^(start|end|loc)$/)?void 0:value},2,null)),cli.ast&&console.log(JSON.stringify(pr.ast,function(key,value){return"$"===key[0]?void 0:value},0)),cli.exec&&new Function(pr.code)()}catch(ex){console.error(ex)}}var filename,path=require("path"),cli=(process.env.NODENT_OPTS&&JSON.parse(process.env.NODENT_OPTS)||{},getCLIOpts());initialize.setDefaultCompileOptions({sourcemap:cli.sourcemap,wrapAwait:cli.wrapAwait,lazyThenables:cli.lazyThenables,noRuntime:cli.noruntime,es6target:cli.es6target});var nodent=initialize({augmentObject:!0});if(!(cli.fromast||cli.parseast||cli.pretty||cli.out||cli.dest||cli.ast||cli.minast||cli.exec))try{var mod=path.resolve(cli[0]);return require(mod)}catch(ex){throw ex&&(ex.message=cli[0]+": "+ex.message),ex}if(0==cli.length||"-"===cli[0])return filename="(stdin)",readStream(process.stdin).then(processInput,globalErrorHandler);for(var i=0;i<cli.length;i++)filename=path.resolve(cli[i]),processInput(stripBOM(fs.readFileSync(filename,"utf8")),cli[i])}var stdJSLoader,smCache={},fs=require("fs"),outputCode=require("./lib/output"),parser=require("./lib/parser"),treeSurgeon=require("./lib/arboriculture"),config={log:function(msg){console.warn("Nodent: "+msg)},augmentObject:!1,extension:".njs",dontMapStackTraces:!1,asyncStackTrace:!1,babelTree:!1,dontInstallRequireHook:!1},initialCodeGenOpts={noRuntime:!1,lazyThenables:!1,es6target:!1,noUseDirective:!1,wrapAwait:null,mapStartLine:0,sourcemap:!0,parser:{sourceType:"script"},$return:"$return",$error:"$error",$arguments:"$args",$asyncspawn:"$asyncspawn",$asyncbind:"$asyncbind",generatedSymbolPrefix:"$",$makeThenable:"$makeThenable"},defaultCodeGenOpts=Object.create(initialCodeGenOpts,{es7:{value:!0,writable:!0,enumerable:!0}}),optionSets={default:defaultCodeGenOpts,es7:Object.create(defaultCodeGenOpts),promise:Object.create(defaultCodeGenOpts,{promises:{value:!0,writable:!0,enumerable:!0}}),generator:Object.create(defaultCodeGenOpts,{generators:{value:!0,writable:!0,enumerable:!0},es7:{value:!1,writable:!0,enumerable:!0}}),engine:Object.create(defaultCodeGenOpts,{engine:{value:!0,writable:!0,enumerable:!0},promises:{value:!0,writable:!0,enumerable:!0}})};optionSets.promises=optionSets.promise,optionSets.generators=optionSets.generator,optionSets.engine=optionSets.engine;var useDirective=/^\s*['"]use\s+nodent-?([a-zA-Z0-9]*)?(\s*.*)?['"]\s*;/,runtimes=require("nodent-runtime"),$asyncbind=runtimes.$asyncbind,$asyncspawn=runtimes.$asyncspawn,Thenable=$asyncbind.Thenable;NodentCompiler.prototype.setOptions=function(members){return this.log=members.log===!1?noLogger:members.log||this.log,this.options=copyObj([this.options,members]),delete this.options.log,this},$asyncbind.call($asyncbind),NodentCompiler.prototype.version=require("./package.json").version,NodentCompiler.prototype.Thenable=Thenable,NodentCompiler.prototype.EagerThenable=$asyncbind.EagerThenableFactory,NodentCompiler.prototype.isThenable=function(x){return x&&x instanceof Object&&"function"==typeof x.then},NodentCompiler.prototype.asyncify=asyncify,NodentCompiler.prototype.require=requireCover,NodentCompiler.prototype.generateRequestHandler=generateRequestHandler,NodentCompiler.prototype.$asyncspawn=$asyncspawn,NodentCompiler.prototype.$asyncbind=$asyncbind,NodentCompiler.prototype.parse=parseCode,NodentCompiler.prototype.compile=compile,NodentCompiler.prototype.asynchronize=treeSurgeon.asynchronize,NodentCompiler.prototype.prettyPrint=prettyPrint,NodentCompiler.prototype.parseCompilerOptions=parseCompilerOptions,NodentCompiler.prototype.getDefaultCompileOptions=void 0,Object.defineProperty(NodentCompiler.prototype,"Promise",{get:function(){return initOpts.log("Warning: nodent.Promise is deprecated. Use nodent.Thenable instead"),Thenable},enumerable:!1,configurable:!1});var compiler;initialize.setDefaultCompileOptions=function(compiler,env){return compiler&&Object.keys(compiler).forEach(function(k){if(!(k in defaultCodeGenOpts))throw new Error("NoDent: unknown compiler option: "+k);defaultCodeGenOpts[k]=compiler[k]}),env&&Object.keys(env).forEach(function(k){if(!(k in env))throw new Error("NoDent: unknown configuration option: "+k);config[k]=env[k]}),initialize},initialize.setCompileOptions=function(set,compiler){return optionSet[set]=optionSet[set]||copyObj([defaultCodeGenOpts]),compiler&&Object.keys(compiler).forEach(function(k){if(!(k in defaultCodeGenOpts))throw new Error("NoDent: unknown compiler option: "+k);optionSet[set][k]=compiler[k]}),initialize},initialize.asyncify=asyncify,initialize.Thenable=$asyncbind.Thenable,initialize.EagerThenable=$asyncbind.EagerThenableFactory,module.exports=initialize,require.main===module&&process.argv.length>=3&&runFromCLI()}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules\\nodent")},{"./htmlScriptParser":16,"./lib/arboriculture":17,"./lib/output":18,"./lib/parser":19,"./package.json":21,_process:7,buffer:3,fs:1,"nodent-runtime":13,path:6,resolve:22,"source-map":39}],21:[function(require,module,exports){module.exports={_args:[[{raw:"nodent",scope:null,escapedName:"nodent",name:"nodent",rawSpec:"",spec:"latest",type:"tag"},"c:\\Development\\iris3\\iris-ba"]],_from:"nodent@latest",_id:"nodent@3.0.8",_inCache:!0,_location:"/nodent",_nodeVersion:"6.9.1",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/nodent-3.0.8.tgz_1482944254462_0.049860856495797634"},_npmUser:{name:"matatbread",email:"npm@mailed.me.uk"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"nodent",scope:null,escapedName:"nodent",name:"nodent",rawSpec:"",spec:"latest",type:"tag"},_requiredBy:["#DEV:/","#USER"],_resolved:"https://npm.curasystems.com/nodent/-/nodent-3.0.8.tgz",_shasum:"53bd61d2b5d3bfdcb44c28b63065d6c86cf552f0",_shrinkwrap:null,_spec:"nodent",_where:"c:\\Development\\iris3\\iris-ba",author:{name:"Mat At Bread",email:"nodent@mailed.me.uk"},bin:{nodentjs:"./nodent.js"},bugs:{url:"https://github.com/MatAtBread/nodent/issues"},dependencies:{acorn:">=2.5.2","acorn-es7-plugin":">=1.1.5","nodent-runtime":">=3.0.3",resolve:"1.2.0","source-map":"0.5.6"},description:"NoDent - Asynchronous Javascript language extensions",devDependencies:{},directories:{},dist:{shasum:"53bd61d2b5d3bfdcb44c28b63065d6c86cf552f0",tarball:"https://npm.curasystems.com/nodent/-/nodent-3.0.8.tgz"},engines:"node >= 0.10.0",gitHead:"e992d67b609522228f9e881302c56cf422e4dbd4",homepage:"https://github.com/MatAtBread/nodent#readme",keywords:["Javascript","ES7","async","await","language","extensions","Node","callback","generator","Promise","asynchronous"],license:"BSD-2-Clause",main:"nodent.js",maintainers:[{name:"matatbread",email:"npm@mailed.me.uk"}],name:"nodent",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/MatAtBread/nodent.git"},scripts:{cover:"istanbul cover ./nodent.js tests -- --quick --syntax --forceStrict ; open ./coverage/lcov-report/index.html",start:"./nodent.js",test:"cd tests && npm i --prod && cd .. && node --expose-gc ./nodent.js tests --syntax --quick","test-loader":"cd tests/loader/app && npm test && cd ../../.."},version:"3.0.8"}},{}],22:[function(require,module,exports){var core=require("./lib/core");exports=module.exports=require("./lib/async"),exports.core=core,exports.isCore=function(x){return core[x]},exports.sync=require("./lib/sync")},{"./lib/async":23,"./lib/core":26,"./lib/sync":28}],23:[function(require,module,exports){(function(process){var core=require("./core"),fs=require("fs"),path=require("path"),caller=require("./caller.js"),nodeModulesPaths=require("./node-modules-paths.js");"win32"===process.platform?/[\/\\]/:/\//;module.exports=function(x,opts,cb){function onfile(err,m,pkg){err?cb(err):m?cb(null,m,pkg):loadAsDirectory(res,function(err,d,pkg){err?cb(err):d?cb(null,d,pkg):cb(new Error("Cannot find module '"+x+"' from '"+y+"'"))})}function loadAsFile(x,pkg,cb){function load(exts,x,pkg){function onpkg(err,pkg_,dir){if(pkg=pkg_,err)return cb(err);if(dir&&pkg&&opts.pathFilter){var rfile=path.relative(dir,file),rel=rfile.slice(0,rfile.length-exts[0].length),r=opts.pathFilter(pkg,x,rel);if(r)return load([""].concat(extensions.slice()),path.resolve(dir,r),pkg)}isFile(file,onex)}function onex(err,ex){err?cb(err):ex?cb(null,file,pkg):load(exts.slice(1),x,pkg)}if(0===exts.length)return cb(null,void 0,pkg);var file=x+exts[0];pkg?onpkg(null,pkg):loadpkg(path.dirname(file),onpkg)}"function"==typeof pkg&&(cb=pkg,pkg=void 0);var exts=[""].concat(extensions);load(exts,x,pkg)}function loadpkg(dir,cb){if(""===dir||"/"===dir)return cb(null);if("win32"===process.platform&&/^\w:[\\\/]*$/.test(dir))return cb(null);if(/[\\\/]node_modules[\\\/]*$/.test(dir))return cb(null);var pkgfile=path.join(dir,"package.json");isFile(pkgfile,function(err,ex){return ex?void readFile(pkgfile,function(err,body){err&&cb(err);try{var pkg=JSON.parse(body)}catch(err){}pkg&&opts.packageFilter&&(pkg=opts.packageFilter(pkg,pkgfile)),cb(null,pkg,dir)}):loadpkg(path.dirname(dir),cb)})}function loadAsDirectory(x,fpkg,cb){"function"==typeof fpkg&&(cb=fpkg,fpkg=opts.package);var pkgfile=path.join(x,"/package.json");isFile(pkgfile,function(err,ex){return err?cb(err):ex?void readFile(pkgfile,function(err,body){if(err)return cb(err);try{var pkg=JSON.parse(body)}catch(err){}return opts.packageFilter&&(pkg=opts.packageFilter(pkg,pkgfile)),pkg.main?("."!==pkg.main&&"./"!==pkg.main||(pkg.main="index"),void loadAsFile(path.resolve(x,pkg.main),pkg,function(err,m,pkg){if(err)return cb(err);if(m)return cb(null,m,pkg);if(!pkg)return loadAsFile(path.join(x,"/index"),pkg,cb);var dir=path.resolve(x,pkg.main);loadAsDirectory(dir,pkg,function(err,n,pkg){return err?cb(err):n?cb(null,n,pkg):void loadAsFile(path.join(x,"/index"),pkg,cb)})})):void loadAsFile(path.join(x,"/index"),pkg,cb)}):loadAsFile(path.join(x,"/index"),fpkg,cb)})}function loadNodeModules(x,start,cb){!function process(dirs){function onfile(err,m,pkg){return err?cb(err):m?cb(null,m,pkg):void loadAsDirectory(path.join(dir,"/",x),void 0,ondir)}function ondir(err,n,pkg){return err?cb(err):n?cb(null,n,pkg):void process(dirs.slice(1))}if(0===dirs.length)return cb(null,void 0);var dir=dirs[0],file=path.join(dir,"/",x);loadAsFile(file,void 0,onfile)}(nodeModulesPaths(start,opts))}if("function"==typeof opts&&(cb=opts,opts={}),opts||(opts={}),"string"!=typeof x){var err=new TypeError("path must be a string");return process.nextTick(function(){cb(err)})}var isFile=opts.isFile||function(file,cb){fs.stat(file,function(err,stat){err&&"ENOENT"===err.code?cb(null,!1):err?cb(err):cb(null,stat.isFile()||stat.isFIFO())})},readFile=opts.readFile||fs.readFile,extensions=opts.extensions||[".js"],y=opts.basedir||path.dirname(caller());if(opts.paths=opts.paths||[],/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)){var res=path.resolve(y,x);".."===x&&(res+="/"),/\/$/.test(x)&&res===y?loadAsDirectory(res,opts.package,onfile):loadAsFile(res,opts.package,onfile)}else loadNodeModules(x,y,function(err,n,pkg){if(err)cb(err);else if(n)cb(null,n,pkg);else{if(core[x])return cb(null,x);cb(new Error("Cannot find module '"+x+"' from '"+y+"'"))}})}}).call(this,require("_process"))},{"./caller.js":24,"./core":26,"./node-modules-paths.js":27,_process:7,fs:1,path:6}],24:[function(require,module,exports){module.exports=function(){var origPrepareStackTrace=Error.prepareStackTrace;Error.prepareStackTrace=function(_,stack){return stack};var stack=(new Error).stack;return Error.prepareStackTrace=origPrepareStackTrace,stack[2].getFileName()}},{}],25:[function(require,module,exports){module.exports={"*":["assert","buffer_ieee754","buffer","child_process","cluster","console","constants","crypto","_debugger","dgram","dns","domain","events","freelist","fs","http","https","_linklist","module","net","os","path","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"],.11:["_http_server"],"1.0":["process","v8"]}},{}],26:[function(require,module,exports){(function(process){function versionIncluded(version){if("*"===version)return!0;for(var versionParts=version.split("."),i=0;i<3;++i)if((current[i]||0)>=(versionParts[i]||0))return!0;return!1}var current=process.versions.node.split("."),data=require("./core.json"),core={};for(var version in data)if(Object.prototype.hasOwnProperty.call(data,version)&&versionIncluded(version))for(var i=0;i<data[version].length;++i)core[data[version][i]]=!0;module.exports=core}).call(this,require("_process"))},{"./core.json":25,_process:7}],27:[function(require,module,exports){(function(process){var path=require("path");module.exports=function(start,opts){var modules=opts.moduleDirectory?[].concat(opts.moduleDirectory):["node_modules"];start=path.resolve(start);var prefix="/";/^([A-Za-z]:)/.test(start)?prefix="":/^\\\\/.test(start)&&(prefix="\\\\");for(var splitRe="win32"===process.platform?/[\/\\]/:/\/+/,parts=start.split(splitRe),dirs=[],i=parts.length-1;i>=0;i--)modules.indexOf(parts[i])===-1&&(dirs=dirs.concat(modules.map(function(module_dir){return prefix+path.join(path.join.apply(path,parts.slice(0,i+1)),module_dir)})));return"win32"===process.platform&&(dirs[dirs.length-1]=dirs[dirs.length-1].replace(":",":\\")),dirs.concat(opts.paths)}}).call(this,require("_process"))},{_process:7,path:6}],28:[function(require,module,exports){var core=require("./core"),fs=require("fs"),path=require("path"),caller=require("./caller.js"),nodeModulesPaths=require("./node-modules-paths.js");module.exports=function(x,opts){function loadAsFileSync(x){if(isFile(x))return x;for(var i=0;i<extensions.length;i++){var file=x+extensions[i];if(isFile(file))return file}}function loadAsDirectorySync(x){var pkgfile=path.join(x,"/package.json");if(isFile(pkgfile)){var body=readFileSync(pkgfile,"utf8");try{var pkg=JSON.parse(body);if(opts.packageFilter&&(pkg=opts.packageFilter(pkg,x)),pkg.main){var m=loadAsFileSync(path.resolve(x,pkg.main));if(m)return m;var n=loadAsDirectorySync(path.resolve(x,pkg.main));if(n)return n}}catch(err){}}return loadAsFileSync(path.join(x,"/index"))}function loadNodeModulesSync(x,start){for(var dirs=nodeModulesPaths(start,opts),i=0;i<dirs.length;i++){var dir=dirs[i],m=loadAsFileSync(path.join(dir,"/",x));if(m)return m;var n=loadAsDirectorySync(path.join(dir,"/",x));if(n)return n}}opts||(opts={});var isFile=opts.isFile||function(file){try{var stat=fs.statSync(file)}catch(err){if(err&&"ENOENT"===err.code)return!1;throw err}return stat.isFile()||stat.isFIFO()},readFileSync=opts.readFileSync||fs.readFileSync,extensions=opts.extensions||[".js"],y=opts.basedir||path.dirname(caller());if(opts.paths=opts.paths||[],/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)){var res=path.resolve(y,x);".."===x&&(res+="/");var m=loadAsFileSync(res)||loadAsDirectorySync(res);if(m)return m}else{var n=loadNodeModulesSync(x,y);if(n)return n}if(core[x])return x;throw new Error("Cannot find module '"+x+"' from '"+y+"'")}},{"./caller.js":24,"./core":26,"./node-modules-paths.js":27,fs:1,path:6}],29:[function(require,module,exports){function ArraySet(){this._array=[],this._set=Object.create(null)}var util=require("./util"),has=Object.prototype.hasOwnProperty;ArraySet.fromArray=function(aArray,aAllowDuplicates){for(var set=new ArraySet,i=0,len=aArray.length;i<len;i++)set.add(aArray[i],aAllowDuplicates);return set},ArraySet.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function(aStr,aAllowDuplicates){var sStr=util.toSetString(aStr),isDuplicate=has.call(this._set,sStr),idx=this._array.length;isDuplicate&&!aAllowDuplicates||this._array.push(aStr),isDuplicate||(this._set[sStr]=idx)},ArraySet.prototype.has=function(aStr){var sStr=util.toSetString(aStr);return has.call(this._set,sStr)},ArraySet.prototype.indexOf=function(aStr){var sStr=util.toSetString(aStr);if(has.call(this._set,sStr))return this._set[sStr];throw new Error('"'+aStr+'" is not in the set.')},ArraySet.prototype.at=function(aIdx){if(aIdx>=0&&aIdx<this._array.length)return this._array[aIdx];throw new Error("No element indexed by "+aIdx)},ArraySet.prototype.toArray=function(){return this._array.slice()},exports.ArraySet=ArraySet},{"./util":38}],30:[function(require,module,exports){function toVLQSigned(aValue){return aValue<0?(-aValue<<1)+1:(aValue<<1)+0}function fromVLQSigned(aValue){var isNegative=1===(1&aValue),shifted=aValue>>1;return isNegative?-shifted:shifted}var base64=require("./base64"),VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;exports.encode=function(aValue){var digit,encoded="",vlq=toVLQSigned(aValue);do digit=vlq&VLQ_BASE_MASK,vlq>>>=VLQ_BASE_SHIFT,vlq>0&&(digit|=VLQ_CONTINUATION_BIT),encoded+=base64.encode(digit);while(vlq>0);return encoded},exports.decode=function(aStr,aIndex,aOutParam){var continuation,digit,strLen=aStr.length,result=0,shift=0;do{if(aIndex>=strLen)throw new Error("Expected more digits in base 64 VLQ value.");if(digit=base64.decode(aStr.charCodeAt(aIndex++)),digit===-1)throw new Error("Invalid base64 digit: "+aStr.charAt(aIndex-1));continuation=!!(digit&VLQ_CONTINUATION_BIT),digit&=VLQ_BASE_MASK,result+=digit<<shift,shift+=VLQ_BASE_SHIFT}while(continuation);aOutParam.value=fromVLQSigned(result),aOutParam.rest=aIndex}},{"./base64":31}],31:[function(require,module,exports){var intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");exports.encode=function(number){if(0<=number&&number<intToCharMap.length)return intToCharMap[number];throw new TypeError("Must be between 0 and 63: "+number)},exports.decode=function(charCode){var bigA=65,bigZ=90,littleA=97,littleZ=122,zero=48,nine=57,plus=43,slash=47,littleOffset=26,numberOffset=52;return bigA<=charCode&&charCode<=bigZ?charCode-bigA:littleA<=charCode&&charCode<=littleZ?charCode-littleA+littleOffset:zero<=charCode&&charCode<=nine?charCode-zero+numberOffset:charCode==plus?62:charCode==slash?63:-1}},{}],32:[function(require,module,exports){function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare,aBias){var mid=Math.floor((aHigh-aLow)/2)+aLow,cmp=aCompare(aNeedle,aHaystack[mid],!0);return 0===cmp?mid:cmp>0?aHigh-mid>1?recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare,aBias):aBias==exports.LEAST_UPPER_BOUND?aHigh<aHaystack.length?aHigh:-1:mid:mid-aLow>1?recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare,aBias):aBias==exports.LEAST_UPPER_BOUND?mid:aLow<0?-1:aLow}exports.GREATEST_LOWER_BOUND=1,exports.LEAST_UPPER_BOUND=2,exports.search=function(aNeedle,aHaystack,aCompare,aBias){if(0===aHaystack.length)return-1;var index=recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare,aBias||exports.GREATEST_LOWER_BOUND);if(index<0)return-1;for(;index-1>=0&&0===aCompare(aHaystack[index],aHaystack[index-1],!0);)--index;return index}},{}],33:[function(require,module,exports){function generatedPositionAfter(mappingA,mappingB){var lineA=mappingA.generatedLine,lineB=mappingB.generatedLine,columnA=mappingA.generatedColumn,columnB=mappingB.generatedColumn;return lineB>lineA||lineB==lineA&&columnB>=columnA||util.compareByGeneratedPositionsInflated(mappingA,mappingB)<=0}function MappingList(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var util=require("./util");MappingList.prototype.unsortedForEach=function(aCallback,aThisArg){this._array.forEach(aCallback,aThisArg)},MappingList.prototype.add=function(aMapping){generatedPositionAfter(this._last,aMapping)?(this._last=aMapping,this._array.push(aMapping)):(this._sorted=!1,this._array.push(aMapping))},MappingList.prototype.toArray=function(){return this._sorted||(this._array.sort(util.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},exports.MappingList=MappingList},{"./util":38}],34:[function(require,module,exports){function swap(ary,x,y){var temp=ary[x];ary[x]=ary[y],ary[y]=temp}function randomIntInRange(low,high){return Math.round(low+Math.random()*(high-low))}function doQuickSort(ary,comparator,p,r){if(p<r){var pivotIndex=randomIntInRange(p,r),i=p-1;swap(ary,pivotIndex,r);for(var pivot=ary[r],j=p;j<r;j++)comparator(ary[j],pivot)<=0&&(i+=1,swap(ary,i,j));swap(ary,i+1,j);var q=i+1;doQuickSort(ary,comparator,p,q-1),doQuickSort(ary,comparator,q+1,r)}}exports.quickSort=function(ary,comparator){doQuickSort(ary,comparator,0,ary.length-1)}},{}],35:[function(require,module,exports){function SourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;return"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))),null!=sourceMap.sections?new IndexedSourceMapConsumer(sourceMap):new BasicSourceMapConsumer(sourceMap)}function BasicSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,"")));var version=util.getArg(sourceMap,"version"),sources=util.getArg(sourceMap,"sources"),names=util.getArg(sourceMap,"names",[]),sourceRoot=util.getArg(sourceMap,"sourceRoot",null),sourcesContent=util.getArg(sourceMap,"sourcesContent",null),mappings=util.getArg(sourceMap,"mappings"),file=util.getArg(sourceMap,"file",null);if(version!=this._version)throw new Error("Unsupported version: "+version);sources=sources.map(String).map(util.normalize).map(function(source){return sourceRoot&&util.isAbsolute(sourceRoot)&&util.isAbsolute(source)?util.relative(sourceRoot,source):source}),this._names=ArraySet.fromArray(names.map(String),!0),this._sources=ArraySet.fromArray(sources,!0),this.sourceRoot=sourceRoot,this.sourcesContent=sourcesContent,this._mappings=mappings,this.file=file}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,"")));var version=util.getArg(sourceMap,"version"),sections=util.getArg(sourceMap,"sections");if(version!=this._version)throw new Error("Unsupported version: "+version);this._sources=new ArraySet,this._names=new ArraySet;var lastOffset={line:-1,column:0};this._sections=sections.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var offset=util.getArg(s,"offset"),offsetLine=util.getArg(offset,"line"),offsetColumn=util.getArg(offset,"column");if(offsetLine<lastOffset.line||offsetLine===lastOffset.line&&offsetColumn<lastOffset.column)throw new Error("Section offsets must be ordered and non-overlapping.");return lastOffset=offset,{generatedOffset:{generatedLine:offsetLine+1,generatedColumn:offsetColumn+1},consumer:new SourceMapConsumer(util.getArg(s,"map"))}})}var util=require("./util"),binarySearch=require("./binary-search"),ArraySet=require("./array-set").ArraySet,base64VLQ=require("./base64-vlq"),quickSort=require("./quick-sort").quickSort;SourceMapConsumer.fromSourceMap=function(aSourceMap){return BasicSourceMapConsumer.fromSourceMap(aSourceMap)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(aStr,index){var c=aStr.charAt(index);return";"===c||","===c},SourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(aCallback,aContext,aOrder){var mappings,context=aContext||null,order=aOrder||SourceMapConsumer.GENERATED_ORDER;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=null===mapping.source?null:this._sources.at(mapping.source);return null!=source&&null!=sourceRoot&&(source=util.join(sourceRoot,source)),{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:null===mapping.name?null:this._names.at(mapping.name)}},this).forEach(aCallback,context)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(aArgs){var line=util.getArg(aArgs,"line"),needle={source:util.getArg(aArgs,"source"),originalLine:line,originalColumn:util.getArg(aArgs,"column",0)};if(null!=this.sourceRoot&&(needle.source=util.relative(this.sourceRoot,needle.source)),!this._sources.has(needle.source))return[];needle.source=this._sources.indexOf(needle.source);var mappings=[],index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(index>=0){var mapping=this._originalMappings[index];if(void 0===aArgs.column)for(var originalLine=mapping.originalLine;mapping&&mapping.originalLine===originalLine;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),
mapping=this._originalMappings[++index];else for(var originalColumn=mapping.originalColumn;mapping&&mapping.originalLine===line&&mapping.originalColumn==originalColumn;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index]}return mappings},exports.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.fromSourceMap=function(aSourceMap){var smc=Object.create(BasicSourceMapConsumer.prototype),names=smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),!0),sources=smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),!0);smc.sourceRoot=aSourceMap._sourceRoot,smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot),smc.file=aSourceMap._file;for(var generatedMappings=aSourceMap._mappings.toArray().slice(),destGeneratedMappings=smc.__generatedMappings=[],destOriginalMappings=smc.__originalMappings=[],i=0,length=generatedMappings.length;i<length;i++){var srcMapping=generatedMappings[i],destMapping=new Mapping;destMapping.generatedLine=srcMapping.generatedLine,destMapping.generatedColumn=srcMapping.generatedColumn,srcMapping.source&&(destMapping.source=sources.indexOf(srcMapping.source),destMapping.originalLine=srcMapping.originalLine,destMapping.originalColumn=srcMapping.originalColumn,srcMapping.name&&(destMapping.name=names.indexOf(srcMapping.name)),destOriginalMappings.push(destMapping)),destGeneratedMappings.push(destMapping)}return quickSort(smc.__originalMappings,util.compareByOriginalPositions),smc},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._sources.toArray().map(function(s){return null!=this.sourceRoot?util.join(this.sourceRoot,s):s},this)}}),BasicSourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){for(var mapping,str,segment,end,value,generatedLine=1,previousGeneratedColumn=0,previousOriginalLine=0,previousOriginalColumn=0,previousSource=0,previousName=0,length=aStr.length,index=0,cachedSegments={},temp={},originalMappings=[],generatedMappings=[];index<length;)if(";"===aStr.charAt(index))generatedLine++,index++,previousGeneratedColumn=0;else if(","===aStr.charAt(index))index++;else{for(mapping=new Mapping,mapping.generatedLine=generatedLine,end=index;end<length&&!this._charIsMappingSeparator(aStr,end);end++);if(str=aStr.slice(index,end),segment=cachedSegments[str])index+=str.length;else{for(segment=[];index<end;)base64VLQ.decode(aStr,index,temp),value=temp.value,index=temp.rest,segment.push(value);if(2===segment.length)throw new Error("Found a source, but no line and column");if(3===segment.length)throw new Error("Found a source and line, but no column");cachedSegments[str]=segment}mapping.generatedColumn=previousGeneratedColumn+segment[0],previousGeneratedColumn=mapping.generatedColumn,segment.length>1&&(mapping.source=previousSource+segment[1],previousSource+=segment[1],mapping.originalLine=previousOriginalLine+segment[2],previousOriginalLine=mapping.originalLine,mapping.originalLine+=1,mapping.originalColumn=previousOriginalColumn+segment[3],previousOriginalColumn=mapping.originalColumn,segment.length>4&&(mapping.name=previousName+segment[4],previousName+=segment[4])),generatedMappings.push(mapping),"number"==typeof mapping.originalLine&&originalMappings.push(mapping)}quickSort(generatedMappings,util.compareByGeneratedPositionsDeflated),this.__generatedMappings=generatedMappings,quickSort(originalMappings,util.compareByOriginalPositions),this.__originalMappings=originalMappings},BasicSourceMapConsumer.prototype._findMapping=function(aNeedle,aMappings,aLineName,aColumnName,aComparator,aBias){if(aNeedle[aLineName]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName]);if(aNeedle[aColumnName]<0)throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName]);return binarySearch.search(aNeedle,aMappings,aComparator,aBias)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var index=0;index<this._generatedMappings.length;++index){var mapping=this._generatedMappings[index];if(index+1<this._generatedMappings.length){var nextMapping=this._generatedMappings[index+1];if(mapping.generatedLine===nextMapping.generatedLine){mapping.lastGeneratedColumn=nextMapping.generatedColumn-1;continue}}mapping.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._generatedMappings[index];if(mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);null!==source&&(source=this._sources.at(source),null!=this.sourceRoot&&(source=util.join(this.sourceRoot,source)));var name=util.getArg(mapping,"name",null);return null!==name&&(name=this._names.at(name)),{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:name}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(sc){return null==sc}))},BasicSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(aSource=util.relative(this.sourceRoot,aSource)),this._sources.has(aSource))return this.sourcesContent[this._sources.indexOf(aSource)];var url;if(null!=this.sourceRoot&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=aSource.replace(/^file:\/\//,"");if("file"==url.scheme&&this._sources.has(fileUriAbsPath))return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];if((!url.path||"/"==url.path)&&this._sources.has("/"+aSource))return this.sourcesContent[this._sources.indexOf("/"+aSource)]}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){var source=util.getArg(aArgs,"source");if(null!=this.sourceRoot&&(source=util.relative(this.sourceRoot,source)),!this._sources.has(source))return{line:null,column:null,lastColumn:null};source=this._sources.indexOf(source);var needle={source:source,originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._originalMappings[index];if(mapping.source===needle.source)return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},exports.BasicSourceMapConsumer=BasicSourceMapConsumer,IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var sources=[],i=0;i<this._sections.length;i++)for(var j=0;j<this._sections[i].consumer.sources.length;j++)sources.push(this._sections[i].consumer.sources[j]);return sources}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},sectionIndex=binarySearch.search(needle,this._sections,function(needle,section){var cmp=needle.generatedLine-section.generatedOffset.generatedLine;return cmp?cmp:needle.generatedColumn-section.generatedOffset.generatedColumn}),section=this._sections[sectionIndex];return section?section.consumer.originalPositionFor({line:needle.generatedLine-(section.generatedOffset.generatedLine-1),column:needle.generatedColumn-(section.generatedOffset.generatedLine===needle.generatedLine?section.generatedOffset.generatedColumn-1:0),bias:aArgs.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(s){return s.consumer.hasContentsOfAllSources()})},IndexedSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){for(var i=0;i<this._sections.length;i++){var section=this._sections[i],content=section.consumer.sourceContentFor(aSource,!0);if(content)return content}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];if(section.consumer.sources.indexOf(util.getArg(aArgs,"source"))!==-1){var generatedPosition=section.consumer.generatedPositionFor(aArgs);if(generatedPosition){var ret={line:generatedPosition.line+(section.generatedOffset.generatedLine-1),column:generatedPosition.column+(section.generatedOffset.generatedLine===generatedPosition.line?section.generatedOffset.generatedColumn-1:0)};return ret}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var section=this._sections[i],sectionMappings=section.consumer._generatedMappings,j=0;j<sectionMappings.length;j++){var mapping=sectionMappings[j],source=section.consumer._sources.at(mapping.source);null!==section.consumer.sourceRoot&&(source=util.join(section.consumer.sourceRoot,source)),this._sources.add(source),source=this._sources.indexOf(source);var name=section.consumer._names.at(mapping.name);this._names.add(name),name=this._names.indexOf(name);var adjustedMapping={source:source,generatedLine:mapping.generatedLine+(section.generatedOffset.generatedLine-1),generatedColumn:mapping.generatedColumn+(section.generatedOffset.generatedLine===mapping.generatedLine?section.generatedOffset.generatedColumn-1:0),originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:name};this.__generatedMappings.push(adjustedMapping),"number"==typeof adjustedMapping.originalLine&&this.__originalMappings.push(adjustedMapping)}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util.compareByOriginalPositions)},exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer},{"./array-set":29,"./base64-vlq":30,"./binary-search":32,"./quick-sort":34,"./util":38}],36:[function(require,module,exports){function SourceMapGenerator(aArgs){aArgs||(aArgs={}),this._file=util.getArg(aArgs,"file",null),this._sourceRoot=util.getArg(aArgs,"sourceRoot",null),this._skipValidation=util.getArg(aArgs,"skipValidation",!1),this._sources=new ArraySet,this._names=new ArraySet,this._mappings=new MappingList,this._sourcesContents=null}var base64VLQ=require("./base64-vlq"),util=require("./util"),ArraySet=require("./array-set").ArraySet,MappingList=require("./mapping-list").MappingList;SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot,generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});return aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};null!=mapping.source&&(newMapping.source=mapping.source,null!=sourceRoot&&(newMapping.source=util.relative(sourceRoot,newMapping.source)),newMapping.original={line:mapping.originalLine,column:mapping.originalColumn},null!=mapping.name&&(newMapping.name=mapping.name)),generator.addMapping(newMapping)}),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&generator.setSourceContent(sourceFile,content)}),generator},SourceMapGenerator.prototype.addMapping=function(aArgs){var generated=util.getArg(aArgs,"generated"),original=util.getArg(aArgs,"original",null),source=util.getArg(aArgs,"source",null),name=util.getArg(aArgs,"name",null);this._skipValidation||this._validateMapping(generated,original,source,name),null!=source&&(source=String(source),this._sources.has(source)||this._sources.add(source)),null!=name&&(name=String(name),this._names.has(name)||this._names.add(name)),this._mappings.add({generatedLine:generated.line,generatedColumn:generated.column,originalLine:null!=original&&original.line,originalColumn:null!=original&&original.column,source:source,name:name})},SourceMapGenerator.prototype.setSourceContent=function(aSourceFile,aSourceContent){var source=aSourceFile;null!=this._sourceRoot&&(source=util.relative(this._sourceRoot,source)),null!=aSourceContent?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[util.toSetString(source)]=aSourceContent):this._sourcesContents&&(delete this._sourcesContents[util.toSetString(source)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function(aSourceMapConsumer,aSourceFile,aSourceMapPath){var sourceFile=aSourceFile;if(null==aSourceFile){if(null==aSourceMapConsumer.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');sourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile));var newSources=new ArraySet,newNames=new ArraySet;this._mappings.unsortedForEach(function(mapping){if(mapping.source===sourceFile&&null!=mapping.originalLine){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});null!=original.source&&(mapping.source=original.source,null!=aSourceMapPath&&(mapping.source=util.join(aSourceMapPath,mapping.source)),null!=sourceRoot&&(mapping.source=util.relative(sourceRoot,mapping.source)),mapping.originalLine=original.line,mapping.originalColumn=original.column,null!=original.name&&(mapping.name=original.name))}var source=mapping.source;null==source||newSources.has(source)||newSources.add(source);var name=mapping.name;null==name||newNames.has(name)||newNames.add(name)},this),this._sources=newSources,this._names=newNames,aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aSourceMapPath&&(sourceFile=util.join(aSourceMapPath,sourceFile)),null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile)),this.setSourceContent(sourceFile,content))},this)},SourceMapGenerator.prototype._validateMapping=function(aGenerated,aOriginal,aSource,aName){if((!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0)||aOriginal||aSource||aName)&&!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource))throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))},SourceMapGenerator.prototype._serializeMappings=function(){for(var next,mapping,nameIdx,sourceIdx,previousGeneratedColumn=0,previousGeneratedLine=1,previousOriginalColumn=0,previousOriginalLine=0,previousName=0,previousSource=0,result="",mappings=this._mappings.toArray(),i=0,len=mappings.length;i<len;i++){if(mapping=mappings[i],next="",mapping.generatedLine!==previousGeneratedLine)for(previousGeneratedColumn=0;mapping.generatedLine!==previousGeneratedLine;)next+=";",previousGeneratedLine++;else if(i>0){if(!util.compareByGeneratedPositionsInflated(mapping,mappings[i-1]))continue;next+=","}next+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn),previousGeneratedColumn=mapping.generatedColumn,null!=mapping.source&&(sourceIdx=this._sources.indexOf(mapping.source),next+=base64VLQ.encode(sourceIdx-previousSource),previousSource=sourceIdx,next+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine),previousOriginalLine=mapping.originalLine-1,next+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn),previousOriginalColumn=mapping.originalColumn,null!=mapping.name&&(nameIdx=this._names.indexOf(mapping.name),next+=base64VLQ.encode(nameIdx-previousName),previousName=nameIdx)),result+=next}return result},SourceMapGenerator.prototype._generateSourcesContent=function(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents)return null;null!=aSourceRoot&&(source=util.relative(aSourceRoot,source));var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)},SourceMapGenerator.prototype.toJSON=function(){var map={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(map.file=this._file),null!=this._sourceRoot&&(map.sourceRoot=this._sourceRoot),this._sourcesContents&&(map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)),map},SourceMapGenerator.prototype.toString=function(){return JSON.stringify(this.toJSON())},exports.SourceMapGenerator=SourceMapGenerator},{"./array-set":29,"./base64-vlq":30,"./mapping-list":33,"./util":38}],37:[function(require,module,exports){function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[],this.sourceContents={},this.line=null==aLine?null:aLine,this.column=null==aColumn?null:aColumn,this.source=null==aSource?null:aSource,this.name=null==aName?null:aName,this[isSourceNode]=!0,null!=aChunks&&this.add(aChunks)}var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator,util=require("./util"),REGEX_NEWLINE=/(\r?\n)/,NEWLINE_CODE=10,isSourceNode="$$$isSourceNode$$$";SourceNode.fromStringWithSourceMap=function(aGeneratedCode,aSourceMapConsumer,aRelativePath){function addMappingWithCode(mapping,code){if(null===mapping||void 0===mapping.source)node.add(code);else{var source=aRelativePath?util.join(aRelativePath,mapping.source):mapping.source;node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,source,code,mapping.name))}}var node=new SourceNode,remainingLines=aGeneratedCode.split(REGEX_NEWLINE),shiftNextLine=function(){var lineContents=remainingLines.shift(),newLine=remainingLines.shift()||"";return lineContents+newLine},lastGeneratedLine=1,lastGeneratedColumn=0,lastMapping=null;return aSourceMapConsumer.eachMapping(function(mapping){if(null!==lastMapping){if(!(lastGeneratedLine<mapping.generatedLine)){var nextLine=remainingLines[0],code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);return remainingLines[0]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn),lastGeneratedColumn=mapping.generatedColumn,addMappingWithCode(lastMapping,code),void(lastMapping=mapping)}addMappingWithCode(lastMapping,shiftNextLine()),lastGeneratedLine++,lastGeneratedColumn=0}for(;lastGeneratedLine<mapping.generatedLine;)node.add(shiftNextLine()),lastGeneratedLine++;if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[0];node.add(nextLine.substr(0,mapping.generatedColumn)),remainingLines[0]=nextLine.substr(mapping.generatedColumn),lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this),remainingLines.length>0&&(lastMapping&&addMappingWithCode(lastMapping,shiftNextLine()),node.add(remainingLines.join(""))),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aRelativePath&&(sourceFile=util.join(aRelativePath,sourceFile)),node.setSourceContent(sourceFile,content))}),node},SourceNode.prototype.add=function(aChunk){if(Array.isArray(aChunk))aChunk.forEach(function(chunk){this.add(chunk)},this);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);aChunk&&this.children.push(aChunk)}return this},SourceNode.prototype.prepend=function(aChunk){if(Array.isArray(aChunk))for(var i=aChunk.length-1;i>=0;i--)this.prepend(aChunk[i]);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);this.children.unshift(aChunk)}return this},SourceNode.prototype.walk=function(aFn){for(var chunk,i=0,len=this.children.length;i<len;i++)chunk=this.children[i],chunk[isSourceNode]?chunk.walk(aFn):""!==chunk&&aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function(aSep){var newChildren,i,len=this.children.length;if(len>0){for(newChildren=[],i=0;i<len-1;i++)newChildren.push(this.children[i]),newChildren.push(aSep);newChildren.push(this.children[i]),this.children=newChildren}return this},SourceNode.prototype.replaceRight=function(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];return lastChild[isSourceNode]?lastChild.replaceRight(aPattern,aReplacement):"string"==typeof lastChild?this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement):this.children.push("".replace(aPattern,aReplacement)),this},SourceNode.prototype.setSourceContent=function(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent},SourceNode.prototype.walkSourceContents=function(aFn){for(var i=0,len=this.children.length;i<len;i++)this.children[i][isSourceNode]&&this.children[i].walkSourceContents(aFn);for(var sources=Object.keys(this.sourceContents),i=0,len=sources.length;i<len;i++)aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])},SourceNode.prototype.toString=function(){var str="";return this.walk(function(chunk){str+=chunk}),str},SourceNode.prototype.toStringWithSourceMap=function(aArgs){var generated={code:"",line:1,column:0},map=new SourceMapGenerator(aArgs),sourceMappingActive=!1,lastOriginalSource=null,lastOriginalLine=null,lastOriginalColumn=null,lastOriginalName=null;return this.walk(function(chunk,original){generated.code+=chunk,null!==original.source&&null!==original.line&&null!==original.column?(lastOriginalSource===original.source&&lastOriginalLine===original.line&&lastOriginalColumn===original.column&&lastOriginalName===original.name||map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name}),lastOriginalSource=original.source,lastOriginalLine=original.line,lastOriginalColumn=original.column,lastOriginalName=original.name,sourceMappingActive=!0):sourceMappingActive&&(map.addMapping({generated:{line:generated.line,column:generated.column}}),lastOriginalSource=null,sourceMappingActive=!1);for(var idx=0,length=chunk.length;idx<length;idx++)chunk.charCodeAt(idx)===NEWLINE_CODE?(generated.line++,generated.column=0,idx+1===length?(lastOriginalSource=null,sourceMappingActive=!1):sourceMappingActive&&map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})):generated.column++}),this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)}),{code:generated.code,map:map}},exports.SourceNode=SourceNode},{"./source-map-generator":36,"./util":38}],38:[function(require,module,exports){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs)return aArgs[aName];if(3===arguments.length)return aDefaultValue;throw new Error('"'+aName+'" is a required argument.')}function urlParse(aUrl){var match=aUrl.match(urlRegexp);return match?{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}:null}function urlGenerate(aParsedUrl){var url="";return aParsedUrl.scheme&&(url+=aParsedUrl.scheme+":"),url+="//",aParsedUrl.auth&&(url+=aParsedUrl.auth+"@"),aParsedUrl.host&&(url+=aParsedUrl.host),aParsedUrl.port&&(url+=":"+aParsedUrl.port),aParsedUrl.path&&(url+=aParsedUrl.path),url}function normalize(aPath){var path=aPath,url=urlParse(aPath);if(url){if(!url.path)return aPath;path=url.path}for(var part,isAbsolute=exports.isAbsolute(path),parts=path.split(/\/+/),up=0,i=parts.length-1;i>=0;i--)part=parts[i],"."===part?parts.splice(i,1):".."===part?up++:up>0&&(""===part?(parts.splice(i+1,up),up=0):(parts.splice(i,2),up--));return path=parts.join("/"),""===path&&(path=isAbsolute?"/":"."),url?(url.path=path,urlGenerate(url)):path}function join(aRoot,aPath){""===aRoot&&(aRoot="."),""===aPath&&(aPath=".");var aPathUrl=urlParse(aPath),aRootUrl=urlParse(aRoot);if(aRootUrl&&(aRoot=aRootUrl.path||"/"),aPathUrl&&!aPathUrl.scheme)return aRootUrl&&(aPathUrl.scheme=aRootUrl.scheme),urlGenerate(aPathUrl);if(aPathUrl||aPath.match(dataUrlRegexp))return aPath;if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path)return aRootUrl.host=aPath,urlGenerate(aRootUrl);var joined="/"===aPath.charAt(0)?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);return aRootUrl?(aRootUrl.path=joined,urlGenerate(aRootUrl)):joined}function relative(aRoot,aPath){""===aRoot&&(aRoot="."),aRoot=aRoot.replace(/\/$/,"");for(var level=0;0!==aPath.indexOf(aRoot+"/");){var index=aRoot.lastIndexOf("/");if(index<0)return aPath;if(aRoot=aRoot.slice(0,index),aRoot.match(/^([^\/]+:\/)?\/*$/))return aPath;++level}return Array(level+1).join("../")+aPath.substr(aRoot.length+1)}function identity(s){return s}function toSetString(aStr){return isProtoString(aStr)?"$"+aStr:aStr}function fromSetString(aStr){return isProtoString(aStr)?aStr.slice(1):aStr}function isProtoString(s){if(!s)return!1;var length=s.length;if(length<9)return!1;if(95!==s.charCodeAt(length-1)||95!==s.charCodeAt(length-2)||111!==s.charCodeAt(length-3)||116!==s.charCodeAt(length-4)||111!==s.charCodeAt(length-5)||114!==s.charCodeAt(length-6)||112!==s.charCodeAt(length-7)||95!==s.charCodeAt(length-8)||95!==s.charCodeAt(length-9))return!1;for(var i=length-10;i>=0;i--)if(36!==s.charCodeAt(i))return!1;return!0}function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp=mappingA.source-mappingB.source;return 0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp||onlyCompareOriginal?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp?cmp:(cmp=mappingA.generatedLine-mappingB.generatedLine,0!==cmp?cmp:mappingA.name-mappingB.name))))}function compareByGeneratedPositionsDeflated(mappingA,mappingB,onlyCompareGenerated){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp||onlyCompareGenerated?cmp:(cmp=mappingA.source-mappingB.source,0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:mappingA.name-mappingB.name))))}function strcmp(aStr1,aStr2){return aStr1===aStr2?0:aStr1>aStr2?1:-1}function compareByGeneratedPositionsInflated(mappingA,mappingB){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp?cmp:(cmp=strcmp(mappingA.source,mappingB.source),0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:strcmp(mappingA.name,mappingB.name)))))}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,dataUrlRegexp=/^data:.+\,.+$/;exports.urlParse=urlParse,exports.urlGenerate=urlGenerate,exports.normalize=normalize,exports.join=join,exports.isAbsolute=function(aPath){return"/"===aPath.charAt(0)||!!aPath.match(urlRegexp)},exports.relative=relative;var supportsNullProto=function(){var obj=Object.create(null);return!("__proto__"in obj)}();exports.toSetString=supportsNullProto?identity:toSetString,exports.fromSetString=supportsNullProto?identity:fromSetString,exports.compareByOriginalPositions=compareByOriginalPositions,exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated,exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated},{}],39:[function(require,module,exports){exports.SourceMapGenerator=require("./lib/source-map-generator").SourceMapGenerator,exports.SourceMapConsumer=require("./lib/source-map-consumer").SourceMapConsumer,exports.SourceNode=require("./lib/source-node").SourceNode},{"./lib/source-map-consumer":35,"./lib/source-map-generator":36,"./lib/source-node":37}]},{},[20]);
//# sourceMappingURL=nodent.min.js.map
